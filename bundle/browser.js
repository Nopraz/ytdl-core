/* eslint-disable */
var pn=Object.defineProperty;var am=Object.getOwnPropertyDescriptor;var om=Object.getOwnPropertyNames;var um=Object.prototype.hasOwnProperty;var s=(e,t)=>pn(e,"name",{value:t,configurable:!0}),lm=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,i)=>(typeof require<"u"?require:t)[i]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var L=(e,t)=>()=>(e&&(t=e(e=0)),t);var x=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ws=(e,t)=>{for(var i in t)pn(e,i,{get:t[i],enumerable:!0})},cm=(e,t,i,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of om(t))!um.call(e,n)&&n!==i&&pn(e,n,{get:()=>t[n],enumerable:!(r=am(t,n))||r.enumerable});return e};var fm=e=>cm(pn({},"__esModule",{value:!0}),e);var hc=x((VS,hm)=>{hm.exports={name:"@ybd-project/ytdl-core",version:"6.0.0-beta.7",description:"YBD Project fork of ytdl-core.",author:"YBD Project",repository:{type:"git",url:"git://github.com/ybd-project/ytdl-core.git"},publishConfig:{registry:"https://npm.pkg.github.com"},engines:{node:">=16.0"},main:"./package/Platforms/Default/Default.js",types:"./package/Platforms/Default/Default.d.ts",exports:{".":{types:"./package/Platforms/Default/Default.d.ts",node:{import:"./package/Platforms/Default/Default.mjs",require:"./bundle/node.cjs"},browser:"./package/Platforms/Browser/Browser.js",default:"./package/Platforms/Default/Default.mjs"},"./browser":{types:"./package/Platforms/Browser/Browser.d.ts",default:"./package/Platforms/Browser/Browser.mjs"},"./browser.bundle":{types:"./package/Platforms/Browser/Browser.d.ts",default:"./bundle/browser.cjs"},"./serverless":{types:"./package/Platforms/Serverless/Serverless.d.ts",default:"./package/Platforms/Serverless/Serverless.js"},"./types":{types:"./package/types/index.d.ts",default:"./package/types/index.d.ts"}},files:["package","bundle"],scripts:{test:"npx jest ./test/main.test.ts",build:"node ./scripts/getPlayerId.js && rmdir /s /q package && tsc && tsc-alias && npm run clear-cache-files && npm run create-bundles","publish:github":"node ./scripts/publish.mjs latest github && npm run build && npm publish --registry=https://npm.pkg.github.com && node ./scripts/publish-github-tag.mjs","publish:npm":"node ./scripts/publish.mjs latest npm && npm run build && npm publish --registry=https://registry.npmjs.org/","publish:npm-alpha":"node ./scripts/publish.mjs alpha npm && npm run build && npm publish --registry=https://registry.npmjs.org/ --tag alpha","publish:npm-beta":"node ./scripts/publish.mjs beta npm && npm run build && npm publish --registry=https://registry.npmjs.org/ --tag beta","create-bundles":"npm run create-node-bundle && npm run create-browser-bundle","create-node-bundle":'rmdir /s /q bundle && mkdir bundle && esbuild ./package/Platforms/Default/Default.js --bundle --target=node16 --keep-names --format=cjs --platform=node --outfile=./bundle/node.cjs --banner:js="/* eslint-disable */"',"create-browser-bundle":'esbuild ./package/Platforms/Browser/Browser.js --banner:js="/* eslint-disable */" --bundle --target=chrome70 --keep-names --format=esm --define:global=globalThis --conditions=module --outfile=./bundle/browser.js --platform=browser --minify',"clear-cache-files":"cd package/core && rmdir /s /q CacheFiles 2>nul & cd ../..",update:"ncu && ncu -u && npm i"},dependencies:{"@inquirer/prompts":"^6.0.1","bgutils-js":"^2.2.0",buffer:"^6.0.3",jintr:"^2.1.1",jsdom:"^25.0.1","node-fetch":"^3.3.2","readable-stream":"^4.5.2",sax:"^1.4.1",string_decoder:"^1.3.0"},devDependencies:{"@types/jest":"^29.5.13","@types/jsdom":"^21.1.7","@types/node":"^22.5.5","@types/readable-stream":"^4.0.15","@types/sax":"^1.2.7",esbuild:"^0.24.0",eslint:"^9.11.0",jest:"^29.7.0","npm-check-updates":"^17.1.3","ts-jest":"^29.2.5","tsc-alias":"^1.8.10",typescript:"^5.6.2"},keywords:["youtube","video","audio","download","getInfo","ybd-project","ytdl","ytdl-core","secure","fast","browser","serverless","typescript"],license:"MIT"}});var li=x(Ce=>{"use strict";var dm=Ce&&Ce.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.ISSUES_URL=Ce.REPO_URL=Ce.VERSION=Ce.CURRENT_PLAYER_ID=void 0;var pm=dm(hc());Ce.CURRENT_PLAYER_ID="b0557ce3";Ce.VERSION=pm.default.version;Ce.REPO_URL="https://github.com/ybd-project/ytdl-core";Ce.ISSUES_URL="https://github.com/ybd-project/ytdl-core/issues"});var Te=x(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});bn.Logger=void 0;var bm=Ie(),Hs=li(),mm={red:"",green:"",yellow:"",blue:"",magenta:"",reset:""},gm={red:"\x1B[31m",green:"\x1B[32m",yellow:"\x1B[33m",blue:"\x1B[34m",magenta:"\x1B[35m",reset:"\x1B[0m"},$s=class $s{static replaceColorTags(t){try{t=t.replace(/<magenta>/g,this.outputControlCharacter.magenta),t=t.replace(/<\/magenta>/g,this.outputControlCharacter.reset),t=t.replace(/<debug>/g,this.outputControlCharacter.magenta),t=t.replace(/<\/debug>/g,this.outputControlCharacter.reset),t=t.replace(/<blue>/g,this.outputControlCharacter.blue),t=t.replace(/<\/blue>/g,this.outputControlCharacter.reset),t=t.replace(/<info>/g,this.outputControlCharacter.blue),t=t.replace(/<\/info>/g,this.outputControlCharacter.reset),t=t.replace(/<green>/g,this.outputControlCharacter.green),t=t.replace(/<\/green>/g,this.outputControlCharacter.reset),t=t.replace(/<success>/g,this.outputControlCharacter.green),t=t.replace(/<\/success>/g,this.outputControlCharacter.reset),t=t.replace(/<yellow>/g,this.outputControlCharacter.yellow),t=t.replace(/<\/yellow>/g,this.outputControlCharacter.reset),t=t.replace(/<warning>/g,this.outputControlCharacter.yellow),t=t.replace(/<\/warning>/g,this.outputControlCharacter.reset),t=t.replace(/<red>/g,this.outputControlCharacter.red),t=t.replace(/<\/red>/g,this.outputControlCharacter.reset),t=t.replace(/<error>/g,this.outputControlCharacter.red),t=t.replace(/<\/error>/g,this.outputControlCharacter.reset)}catch{}return t}static convertMessage(t){return this.replaceColorTags(t)}static convertMessages(t){return t.map(i=>this.replaceColorTags(i))}static initialization(){bm.Platform.getShim().runtime==="default"&&(this.outputControlCharacter=gm)}static debug(...t){(Hs.VERSION.includes("dev")||Hs.VERSION.includes("beta")||Hs.VERSION.includes("test")||this.logDisplay.includes("debug"))&&console.log(this.convertMessage("<debug>[  DEBUG  ]:</debug>"),...this.convertMessages(t))}static info(...t){this.logDisplay.includes("info")&&console.info(this.convertMessage("<info>[  INFO!  ]:</info>"),...this.convertMessages(t))}static success(...t){this.logDisplay.includes("success")&&console.log(this.convertMessage("<success>[ SUCCESS ]:</success>"),...this.convertMessages(t))}static warning(...t){this.logDisplay.includes("warning")&&console.warn(this.convertMessage("<warning>[ WARNING ]:</warning>"),...this.convertMessages(t))}static error(...t){this.logDisplay.includes("error")&&console.error(this.convertMessage("<error>[  ERROR  ]:</error>"),...this.convertMessages(t))}};s($s,"Logger");var Hi=$s;bn.Logger=Hi;Hi.logDisplay=["info","success","warning","error"];Hi.outputControlCharacter=mm});var Ie=x(Ct=>{"use strict";var ym=Ct&&Ct.__classPrivateFieldSet||function(e,t,i,r,n){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?n.call(e,i):n?n.value=i:t.set(e,i),i},dc=Ct&&Ct.__classPrivateFieldGet||function(e,t,i,r){if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?r:i==="a"?r.call(e):r?r.value:t.get(e)},mn,gn;Object.defineProperty(Ct,"__esModule",{value:!0});Ct.Platform=void 0;var _m=Te(),Gs=class Gs{static load(t){t.fileCache.initialization(),ym(this,mn,t,"f",gn),_m.Logger.initialization()}static getShim(){if(!dc(this,mn,"f",gn))throw new Error("Platform is not loaded");return dc(this,mn,"f",gn)}};s(Gs,"Platform");var yn=Gs;Ct.Platform=yn;mn=yn;gn={value:void 0}});var mc=x(_n=>{"use strict";_n.byteLength=vm;_n.toByteArray=xm;_n.fromByteArray=Am;var We=[],Re=[],wm=typeof Uint8Array<"u"?Uint8Array:Array,Ys="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Wt=0,pc=Ys.length;Wt<pc;++Wt)We[Wt]=Ys[Wt],Re[Ys.charCodeAt(Wt)]=Wt;var Wt,pc;Re[45]=62;Re[95]=63;function bc(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");i===-1&&(i=t);var r=i===t?0:4-i%4;return[i,r]}s(bc,"getLens");function vm(e){var t=bc(e),i=t[0],r=t[1];return(i+r)*3/4-r}s(vm,"byteLength");function Em(e,t,i){return(t+i)*3/4-i}s(Em,"_byteLength");function xm(e){var t,i=bc(e),r=i[0],n=i[1],a=new wm(Em(e,r,n)),o=0,u=n>0?r-4:r,l;for(l=0;l<u;l+=4)t=Re[e.charCodeAt(l)]<<18|Re[e.charCodeAt(l+1)]<<12|Re[e.charCodeAt(l+2)]<<6|Re[e.charCodeAt(l+3)],a[o++]=t>>16&255,a[o++]=t>>8&255,a[o++]=t&255;return n===2&&(t=Re[e.charCodeAt(l)]<<2|Re[e.charCodeAt(l+1)]>>4,a[o++]=t&255),n===1&&(t=Re[e.charCodeAt(l)]<<10|Re[e.charCodeAt(l+1)]<<4|Re[e.charCodeAt(l+2)]>>2,a[o++]=t>>8&255,a[o++]=t&255),a}s(xm,"toByteArray");function Sm(e){return We[e>>18&63]+We[e>>12&63]+We[e>>6&63]+We[e&63]}s(Sm,"tripletToBase64");function Tm(e,t,i){for(var r,n=[],a=t;a<i;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),n.push(Sm(r));return n.join("")}s(Tm,"encodeChunk");function Am(e){for(var t,i=e.length,r=i%3,n=[],a=16383,o=0,u=i-r;o<u;o+=a)n.push(Tm(e,o,o+a>u?u:o+a));return r===1?(t=e[i-1],n.push(We[t>>2]+We[t<<4&63]+"==")):r===2&&(t=(e[i-2]<<8)+e[i-1],n.push(We[t>>10]+We[t>>4&63]+We[t<<2&63]+"=")),n.join("")}s(Am,"fromByteArray")});var gc=x(Ks=>{Ks.read=function(e,t,i,r,n){var a,o,u=n*8-r-1,l=(1<<u)-1,c=l>>1,p=-7,g=i?n-1:0,v=i?-1:1,y=e[t+g];for(g+=v,a=y&(1<<-p)-1,y>>=-p,p+=u;p>0;a=a*256+e[t+g],g+=v,p-=8);for(o=a&(1<<-p)-1,a>>=-p,p+=r;p>0;o=o*256+e[t+g],g+=v,p-=8);if(a===0)a=1-c;else{if(a===l)return o?NaN:(y?-1:1)*(1/0);o=o+Math.pow(2,r),a=a-c}return(y?-1:1)*o*Math.pow(2,a-r)};Ks.write=function(e,t,i,r,n,a){var o,u,l,c=a*8-n-1,p=(1<<c)-1,g=p>>1,v=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=r?0:a-1,S=r?1:-1,E=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,o=p):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+g>=1?t+=v/l:t+=v*Math.pow(2,1-g),t*l>=2&&(o++,l/=2),o+g>=p?(u=0,o=p):o+g>=1?(u=(t*l-1)*Math.pow(2,n),o=o+g):(u=t*Math.pow(2,g-1)*Math.pow(2,n),o=0));n>=8;e[i+y]=u&255,y+=S,u/=256,n-=8);for(o=o<<n|u,c+=n;c>0;e[i+y]=o&255,y+=S,o/=256,c-=8);e[i+y-S]|=E*128}});var at=x(di=>{"use strict";var zs=mc(),fi=gc(),yc=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;di.Buffer=_;di.SlowBuffer=km;di.INSPECT_MAX_BYTES=50;var wn=2147483647;di.kMaxLength=wn;_.TYPED_ARRAY_SUPPORT=Cm();!_.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Cm(){try{let e=new Uint8Array(1),t={foo:s(function(){return 42},"foo")};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),e.foo()===42}catch{return!1}}s(Cm,"typedArraySupport");Object.defineProperty(_.prototype,"parent",{enumerable:!0,get:s(function(){if(_.isBuffer(this))return this.buffer},"get")});Object.defineProperty(_.prototype,"offset",{enumerable:!0,get:s(function(){if(_.isBuffer(this))return this.byteOffset},"get")});function st(e){if(e>wn)throw new RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,_.prototype),t}s(st,"createBuffer");function _(e,t,i){if(typeof e=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Zs(e)}return Ec(e,t,i)}s(_,"Buffer");_.poolSize=8192;function Ec(e,t,i){if(typeof e=="string")return Rm(e,t);if(ArrayBuffer.isView(e))return Nm(e);if(e==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(He(e,ArrayBuffer)||e&&He(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(He(e,SharedArrayBuffer)||e&&He(e.buffer,SharedArrayBuffer)))return Qs(e,t,i);if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let r=e.valueOf&&e.valueOf();if(r!=null&&r!==e)return _.from(r,t,i);let n=Pm(e);if(n)return n;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return _.from(e[Symbol.toPrimitive]("string"),t,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}s(Ec,"from");_.from=function(e,t,i){return Ec(e,t,i)};Object.setPrototypeOf(_.prototype,Uint8Array.prototype);Object.setPrototypeOf(_,Uint8Array);function xc(e){if(typeof e!="number")throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}s(xc,"assertSize");function Im(e,t,i){return xc(e),e<=0?st(e):t!==void 0?typeof i=="string"?st(e).fill(t,i):st(e).fill(t):st(e)}s(Im,"alloc");_.alloc=function(e,t,i){return Im(e,t,i)};function Zs(e){return xc(e),st(e<0?0:ea(e)|0)}s(Zs,"allocUnsafe");_.allocUnsafe=function(e){return Zs(e)};_.allocUnsafeSlow=function(e){return Zs(e)};function Rm(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!_.isEncoding(t))throw new TypeError("Unknown encoding: "+t);let i=Sc(e,t)|0,r=st(i),n=r.write(e,t);return n!==i&&(r=r.slice(0,n)),r}s(Rm,"fromString");function Xs(e){let t=e.length<0?0:ea(e.length)|0,i=st(t);for(let r=0;r<t;r+=1)i[r]=e[r]&255;return i}s(Xs,"fromArrayLike");function Nm(e){if(He(e,Uint8Array)){let t=new Uint8Array(e);return Qs(t.buffer,t.byteOffset,t.byteLength)}return Xs(e)}s(Nm,"fromArrayView");function Qs(e,t,i){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(i||0))throw new RangeError('"length" is outside of buffer bounds');let r;return t===void 0&&i===void 0?r=new Uint8Array(e):i===void 0?r=new Uint8Array(e,t):r=new Uint8Array(e,t,i),Object.setPrototypeOf(r,_.prototype),r}s(Qs,"fromArrayBuffer");function Pm(e){if(_.isBuffer(e)){let t=ea(e.length)|0,i=st(t);return i.length===0||e.copy(i,0,0,t),i}if(e.length!==void 0)return typeof e.length!="number"||ia(e.length)?st(0):Xs(e);if(e.type==="Buffer"&&Array.isArray(e.data))return Xs(e.data)}s(Pm,"fromObject");function ea(e){if(e>=wn)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+wn.toString(16)+" bytes");return e|0}s(ea,"checked");function km(e){return+e!=e&&(e=0),_.alloc(+e)}s(km,"SlowBuffer");_.isBuffer=s(function(t){return t!=null&&t._isBuffer===!0&&t!==_.prototype},"isBuffer");_.compare=s(function(t,i){if(He(t,Uint8Array)&&(t=_.from(t,t.offset,t.byteLength)),He(i,Uint8Array)&&(i=_.from(i,i.offset,i.byteLength)),!_.isBuffer(t)||!_.isBuffer(i))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===i)return 0;let r=t.length,n=i.length;for(let a=0,o=Math.min(r,n);a<o;++a)if(t[a]!==i[a]){r=t[a],n=i[a];break}return r<n?-1:n<r?1:0},"compare");_.isEncoding=s(function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},"isEncoding");_.concat=s(function(t,i){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return _.alloc(0);let r;if(i===void 0)for(i=0,r=0;r<t.length;++r)i+=t[r].length;let n=_.allocUnsafe(i),a=0;for(r=0;r<t.length;++r){let o=t[r];if(He(o,Uint8Array))a+o.length>n.length?(_.isBuffer(o)||(o=_.from(o)),o.copy(n,a)):Uint8Array.prototype.set.call(n,o,a);else if(_.isBuffer(o))o.copy(n,a);else throw new TypeError('"list" argument must be an Array of Buffers');a+=o.length}return n},"concat");function Sc(e,t){if(_.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||He(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let i=e.length,r=arguments.length>2&&arguments[2]===!0;if(!r&&i===0)return 0;let n=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return Js(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return i*2;case"hex":return i>>>1;case"base64":return Lc(e).length;default:if(n)return r?-1:Js(e).length;t=(""+t).toLowerCase(),n=!0}}s(Sc,"byteLength");_.byteLength=Sc;function Lm(e,t,i){let r=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((i===void 0||i>this.length)&&(i=this.length),i<=0)||(i>>>=0,t>>>=0,i<=t))return"";for(e||(e="utf8");;)switch(e){case"hex":return Wm(this,t,i);case"utf8":case"utf-8":return Ac(this,t,i);case"ascii":return qm(this,t,i);case"latin1":case"binary":return jm(this,t,i);case"base64":return Um(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Hm(this,t,i);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}s(Lm,"slowToString");_.prototype._isBuffer=!0;function Ht(e,t,i){let r=e[t];e[t]=e[i],e[i]=r}s(Ht,"swap");_.prototype.swap16=s(function(){let t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let i=0;i<t;i+=2)Ht(this,i,i+1);return this},"swap16");_.prototype.swap32=s(function(){let t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let i=0;i<t;i+=4)Ht(this,i,i+3),Ht(this,i+1,i+2);return this},"swap32");_.prototype.swap64=s(function(){let t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let i=0;i<t;i+=8)Ht(this,i,i+7),Ht(this,i+1,i+6),Ht(this,i+2,i+5),Ht(this,i+3,i+4);return this},"swap64");_.prototype.toString=s(function(){let t=this.length;return t===0?"":arguments.length===0?Ac(this,0,t):Lm.apply(this,arguments)},"toString");_.prototype.toLocaleString=_.prototype.toString;_.prototype.equals=s(function(t){if(!_.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:_.compare(this,t)===0},"equals");_.prototype.inspect=s(function(){let t="",i=di.INSPECT_MAX_BYTES;return t=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(t+=" ... "),"<Buffer "+t+">"},"inspect");yc&&(_.prototype[yc]=_.prototype.inspect);_.prototype.compare=s(function(t,i,r,n,a){if(He(t,Uint8Array)&&(t=_.from(t,t.offset,t.byteLength)),!_.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(i===void 0&&(i=0),r===void 0&&(r=t?t.length:0),n===void 0&&(n=0),a===void 0&&(a=this.length),i<0||r>t.length||n<0||a>this.length)throw new RangeError("out of range index");if(n>=a&&i>=r)return 0;if(n>=a)return-1;if(i>=r)return 1;if(i>>>=0,r>>>=0,n>>>=0,a>>>=0,this===t)return 0;let o=a-n,u=r-i,l=Math.min(o,u),c=this.slice(n,a),p=t.slice(i,r);for(let g=0;g<l;++g)if(c[g]!==p[g]){o=c[g],u=p[g];break}return o<u?-1:u<o?1:0},"compare");function Tc(e,t,i,r,n){if(e.length===0)return-1;if(typeof i=="string"?(r=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,ia(i)&&(i=n?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(n)return-1;i=e.length-1}else if(i<0)if(n)i=0;else return-1;if(typeof t=="string"&&(t=_.from(t,r)),_.isBuffer(t))return t.length===0?-1:_c(e,t,i,r,n);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):_c(e,[t],i,r,n);throw new TypeError("val must be string, number or Buffer")}s(Tc,"bidirectionalIndexOf");function _c(e,t,i,r,n){let a=1,o=e.length,u=t.length;if(r!==void 0&&(r=String(r).toLowerCase(),r==="ucs2"||r==="ucs-2"||r==="utf16le"||r==="utf-16le")){if(e.length<2||t.length<2)return-1;a=2,o/=2,u/=2,i/=2}function l(p,g){return a===1?p[g]:p.readUInt16BE(g*a)}s(l,"read");let c;if(n){let p=-1;for(c=i;c<o;c++)if(l(e,c)===l(t,p===-1?0:c-p)){if(p===-1&&(p=c),c-p+1===u)return p*a}else p!==-1&&(c-=c-p),p=-1}else for(i+u>o&&(i=o-u),c=i;c>=0;c--){let p=!0;for(let g=0;g<u;g++)if(l(e,c+g)!==l(t,g)){p=!1;break}if(p)return c}return-1}s(_c,"arrayIndexOf");_.prototype.includes=s(function(t,i,r){return this.indexOf(t,i,r)!==-1},"includes");_.prototype.indexOf=s(function(t,i,r){return Tc(this,t,i,r,!0)},"indexOf");_.prototype.lastIndexOf=s(function(t,i,r){return Tc(this,t,i,r,!1)},"lastIndexOf");function Om(e,t,i,r){i=Number(i)||0;let n=e.length-i;r?(r=Number(r),r>n&&(r=n)):r=n;let a=t.length;r>a/2&&(r=a/2);let o;for(o=0;o<r;++o){let u=parseInt(t.substr(o*2,2),16);if(ia(u))return o;e[i+o]=u}return o}s(Om,"hexWrite");function Dm(e,t,i,r){return vn(Js(t,e.length-i),e,i,r)}s(Dm,"utf8Write");function Mm(e,t,i,r){return vn(Km(t),e,i,r)}s(Mm,"asciiWrite");function Bm(e,t,i,r){return vn(Lc(t),e,i,r)}s(Bm,"base64Write");function Fm(e,t,i,r){return vn(zm(t,e.length-i),e,i,r)}s(Fm,"ucs2Write");_.prototype.write=s(function(t,i,r,n){if(i===void 0)n="utf8",r=this.length,i=0;else if(r===void 0&&typeof i=="string")n=i,r=this.length,i=0;else if(isFinite(i))i=i>>>0,isFinite(r)?(r=r>>>0,n===void 0&&(n="utf8")):(n=r,r=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let a=this.length-i;if((r===void 0||r>a)&&(r=a),t.length>0&&(r<0||i<0)||i>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return Om(this,t,i,r);case"utf8":case"utf-8":return Dm(this,t,i,r);case"ascii":case"latin1":case"binary":return Mm(this,t,i,r);case"base64":return Bm(this,t,i,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Fm(this,t,i,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},"write");_.prototype.toJSON=s(function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},"toJSON");function Um(e,t,i){return t===0&&i===e.length?zs.fromByteArray(e):zs.fromByteArray(e.slice(t,i))}s(Um,"base64Slice");function Ac(e,t,i){i=Math.min(e.length,i);let r=[],n=t;for(;n<i;){let a=e[n],o=null,u=a>239?4:a>223?3:a>191?2:1;if(n+u<=i){let l,c,p,g;switch(u){case 1:a<128&&(o=a);break;case 2:l=e[n+1],(l&192)===128&&(g=(a&31)<<6|l&63,g>127&&(o=g));break;case 3:l=e[n+1],c=e[n+2],(l&192)===128&&(c&192)===128&&(g=(a&15)<<12|(l&63)<<6|c&63,g>2047&&(g<55296||g>57343)&&(o=g));break;case 4:l=e[n+1],c=e[n+2],p=e[n+3],(l&192)===128&&(c&192)===128&&(p&192)===128&&(g=(a&15)<<18|(l&63)<<12|(c&63)<<6|p&63,g>65535&&g<1114112&&(o=g))}}o===null?(o=65533,u=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|o&1023),r.push(o),n+=u}return Vm(r)}s(Ac,"utf8Slice");var wc=4096;function Vm(e){let t=e.length;if(t<=wc)return String.fromCharCode.apply(String,e);let i="",r=0;for(;r<t;)i+=String.fromCharCode.apply(String,e.slice(r,r+=wc));return i}s(Vm,"decodeCodePointsArray");function qm(e,t,i){let r="";i=Math.min(e.length,i);for(let n=t;n<i;++n)r+=String.fromCharCode(e[n]&127);return r}s(qm,"asciiSlice");function jm(e,t,i){let r="";i=Math.min(e.length,i);for(let n=t;n<i;++n)r+=String.fromCharCode(e[n]);return r}s(jm,"latin1Slice");function Wm(e,t,i){let r=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>r)&&(i=r);let n="";for(let a=t;a<i;++a)n+=Xm[e[a]];return n}s(Wm,"hexSlice");function Hm(e,t,i){let r=e.slice(t,i),n="";for(let a=0;a<r.length-1;a+=2)n+=String.fromCharCode(r[a]+r[a+1]*256);return n}s(Hm,"utf16leSlice");_.prototype.slice=s(function(t,i){let r=this.length;t=~~t,i=i===void 0?r:~~i,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),i<0?(i+=r,i<0&&(i=0)):i>r&&(i=r),i<t&&(i=t);let n=this.subarray(t,i);return Object.setPrototypeOf(n,_.prototype),n},"slice");function le(e,t,i){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}s(le,"checkOffset");_.prototype.readUintLE=_.prototype.readUIntLE=s(function(t,i,r){t=t>>>0,i=i>>>0,r||le(t,i,this.length);let n=this[t],a=1,o=0;for(;++o<i&&(a*=256);)n+=this[t+o]*a;return n},"readUIntLE");_.prototype.readUintBE=_.prototype.readUIntBE=s(function(t,i,r){t=t>>>0,i=i>>>0,r||le(t,i,this.length);let n=this[t+--i],a=1;for(;i>0&&(a*=256);)n+=this[t+--i]*a;return n},"readUIntBE");_.prototype.readUint8=_.prototype.readUInt8=s(function(t,i){return t=t>>>0,i||le(t,1,this.length),this[t]},"readUInt8");_.prototype.readUint16LE=_.prototype.readUInt16LE=s(function(t,i){return t=t>>>0,i||le(t,2,this.length),this[t]|this[t+1]<<8},"readUInt16LE");_.prototype.readUint16BE=_.prototype.readUInt16BE=s(function(t,i){return t=t>>>0,i||le(t,2,this.length),this[t]<<8|this[t+1]},"readUInt16BE");_.prototype.readUint32LE=_.prototype.readUInt32LE=s(function(t,i){return t=t>>>0,i||le(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216},"readUInt32LE");_.prototype.readUint32BE=_.prototype.readUInt32BE=s(function(t,i){return t=t>>>0,i||le(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])},"readUInt32BE");_.prototype.readBigUInt64LE=It(s(function(t){t=t>>>0,hi(t,"offset");let i=this[t],r=this[t+7];(i===void 0||r===void 0)&&$i(t,this.length-8);let n=i+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24,a=this[++t]+this[++t]*2**8+this[++t]*2**16+r*2**24;return BigInt(n)+(BigInt(a)<<BigInt(32))},"readBigUInt64LE"));_.prototype.readBigUInt64BE=It(s(function(t){t=t>>>0,hi(t,"offset");let i=this[t],r=this[t+7];(i===void 0||r===void 0)&&$i(t,this.length-8);let n=i*2**24+this[++t]*2**16+this[++t]*2**8+this[++t],a=this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+r;return(BigInt(n)<<BigInt(32))+BigInt(a)},"readBigUInt64BE"));_.prototype.readIntLE=s(function(t,i,r){t=t>>>0,i=i>>>0,r||le(t,i,this.length);let n=this[t],a=1,o=0;for(;++o<i&&(a*=256);)n+=this[t+o]*a;return a*=128,n>=a&&(n-=Math.pow(2,8*i)),n},"readIntLE");_.prototype.readIntBE=s(function(t,i,r){t=t>>>0,i=i>>>0,r||le(t,i,this.length);let n=i,a=1,o=this[t+--n];for(;n>0&&(a*=256);)o+=this[t+--n]*a;return a*=128,o>=a&&(o-=Math.pow(2,8*i)),o},"readIntBE");_.prototype.readInt8=s(function(t,i){return t=t>>>0,i||le(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]},"readInt8");_.prototype.readInt16LE=s(function(t,i){t=t>>>0,i||le(t,2,this.length);let r=this[t]|this[t+1]<<8;return r&32768?r|4294901760:r},"readInt16LE");_.prototype.readInt16BE=s(function(t,i){t=t>>>0,i||le(t,2,this.length);let r=this[t+1]|this[t]<<8;return r&32768?r|4294901760:r},"readInt16BE");_.prototype.readInt32LE=s(function(t,i){return t=t>>>0,i||le(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},"readInt32LE");_.prototype.readInt32BE=s(function(t,i){return t=t>>>0,i||le(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},"readInt32BE");_.prototype.readBigInt64LE=It(s(function(t){t=t>>>0,hi(t,"offset");let i=this[t],r=this[t+7];(i===void 0||r===void 0)&&$i(t,this.length-8);let n=this[t+4]+this[t+5]*2**8+this[t+6]*2**16+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(i+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24)},"readBigInt64LE"));_.prototype.readBigInt64BE=It(s(function(t){t=t>>>0,hi(t,"offset");let i=this[t],r=this[t+7];(i===void 0||r===void 0)&&$i(t,this.length-8);let n=(i<<24)+this[++t]*2**16+this[++t]*2**8+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+r)},"readBigInt64BE"));_.prototype.readFloatLE=s(function(t,i){return t=t>>>0,i||le(t,4,this.length),fi.read(this,t,!0,23,4)},"readFloatLE");_.prototype.readFloatBE=s(function(t,i){return t=t>>>0,i||le(t,4,this.length),fi.read(this,t,!1,23,4)},"readFloatBE");_.prototype.readDoubleLE=s(function(t,i){return t=t>>>0,i||le(t,8,this.length),fi.read(this,t,!0,52,8)},"readDoubleLE");_.prototype.readDoubleBE=s(function(t,i){return t=t>>>0,i||le(t,8,this.length),fi.read(this,t,!1,52,8)},"readDoubleBE");function ve(e,t,i,r,n,a){if(!_.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>n||t<a)throw new RangeError('"value" argument is out of bounds');if(i+r>e.length)throw new RangeError("Index out of range")}s(ve,"checkInt");_.prototype.writeUintLE=_.prototype.writeUIntLE=s(function(t,i,r,n){if(t=+t,i=i>>>0,r=r>>>0,!n){let u=Math.pow(2,8*r)-1;ve(this,t,i,r,u,0)}let a=1,o=0;for(this[i]=t&255;++o<r&&(a*=256);)this[i+o]=t/a&255;return i+r},"writeUIntLE");_.prototype.writeUintBE=_.prototype.writeUIntBE=s(function(t,i,r,n){if(t=+t,i=i>>>0,r=r>>>0,!n){let u=Math.pow(2,8*r)-1;ve(this,t,i,r,u,0)}let a=r-1,o=1;for(this[i+a]=t&255;--a>=0&&(o*=256);)this[i+a]=t/o&255;return i+r},"writeUIntBE");_.prototype.writeUint8=_.prototype.writeUInt8=s(function(t,i,r){return t=+t,i=i>>>0,r||ve(this,t,i,1,255,0),this[i]=t&255,i+1},"writeUInt8");_.prototype.writeUint16LE=_.prototype.writeUInt16LE=s(function(t,i,r){return t=+t,i=i>>>0,r||ve(this,t,i,2,65535,0),this[i]=t&255,this[i+1]=t>>>8,i+2},"writeUInt16LE");_.prototype.writeUint16BE=_.prototype.writeUInt16BE=s(function(t,i,r){return t=+t,i=i>>>0,r||ve(this,t,i,2,65535,0),this[i]=t>>>8,this[i+1]=t&255,i+2},"writeUInt16BE");_.prototype.writeUint32LE=_.prototype.writeUInt32LE=s(function(t,i,r){return t=+t,i=i>>>0,r||ve(this,t,i,4,4294967295,0),this[i+3]=t>>>24,this[i+2]=t>>>16,this[i+1]=t>>>8,this[i]=t&255,i+4},"writeUInt32LE");_.prototype.writeUint32BE=_.prototype.writeUInt32BE=s(function(t,i,r){return t=+t,i=i>>>0,r||ve(this,t,i,4,4294967295,0),this[i]=t>>>24,this[i+1]=t>>>16,this[i+2]=t>>>8,this[i+3]=t&255,i+4},"writeUInt32BE");function Cc(e,t,i,r,n){kc(t,r,n,e,i,7);let a=Number(t&BigInt(4294967295));e[i++]=a,a=a>>8,e[i++]=a,a=a>>8,e[i++]=a,a=a>>8,e[i++]=a;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[i++]=o,o=o>>8,e[i++]=o,o=o>>8,e[i++]=o,o=o>>8,e[i++]=o,i}s(Cc,"wrtBigUInt64LE");function Ic(e,t,i,r,n){kc(t,r,n,e,i,7);let a=Number(t&BigInt(4294967295));e[i+7]=a,a=a>>8,e[i+6]=a,a=a>>8,e[i+5]=a,a=a>>8,e[i+4]=a;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[i+3]=o,o=o>>8,e[i+2]=o,o=o>>8,e[i+1]=o,o=o>>8,e[i]=o,i+8}s(Ic,"wrtBigUInt64BE");_.prototype.writeBigUInt64LE=It(s(function(t,i=0){return Cc(this,t,i,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64LE"));_.prototype.writeBigUInt64BE=It(s(function(t,i=0){return Ic(this,t,i,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64BE"));_.prototype.writeIntLE=s(function(t,i,r,n){if(t=+t,i=i>>>0,!n){let l=Math.pow(2,8*r-1);ve(this,t,i,r,l-1,-l)}let a=0,o=1,u=0;for(this[i]=t&255;++a<r&&(o*=256);)t<0&&u===0&&this[i+a-1]!==0&&(u=1),this[i+a]=(t/o>>0)-u&255;return i+r},"writeIntLE");_.prototype.writeIntBE=s(function(t,i,r,n){if(t=+t,i=i>>>0,!n){let l=Math.pow(2,8*r-1);ve(this,t,i,r,l-1,-l)}let a=r-1,o=1,u=0;for(this[i+a]=t&255;--a>=0&&(o*=256);)t<0&&u===0&&this[i+a+1]!==0&&(u=1),this[i+a]=(t/o>>0)-u&255;return i+r},"writeIntBE");_.prototype.writeInt8=s(function(t,i,r){return t=+t,i=i>>>0,r||ve(this,t,i,1,127,-128),t<0&&(t=255+t+1),this[i]=t&255,i+1},"writeInt8");_.prototype.writeInt16LE=s(function(t,i,r){return t=+t,i=i>>>0,r||ve(this,t,i,2,32767,-32768),this[i]=t&255,this[i+1]=t>>>8,i+2},"writeInt16LE");_.prototype.writeInt16BE=s(function(t,i,r){return t=+t,i=i>>>0,r||ve(this,t,i,2,32767,-32768),this[i]=t>>>8,this[i+1]=t&255,i+2},"writeInt16BE");_.prototype.writeInt32LE=s(function(t,i,r){return t=+t,i=i>>>0,r||ve(this,t,i,4,2147483647,-2147483648),this[i]=t&255,this[i+1]=t>>>8,this[i+2]=t>>>16,this[i+3]=t>>>24,i+4},"writeInt32LE");_.prototype.writeInt32BE=s(function(t,i,r){return t=+t,i=i>>>0,r||ve(this,t,i,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[i]=t>>>24,this[i+1]=t>>>16,this[i+2]=t>>>8,this[i+3]=t&255,i+4},"writeInt32BE");_.prototype.writeBigInt64LE=It(s(function(t,i=0){return Cc(this,t,i,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64LE"));_.prototype.writeBigInt64BE=It(s(function(t,i=0){return Ic(this,t,i,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64BE"));function Rc(e,t,i,r,n,a){if(i+r>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}s(Rc,"checkIEEE754");function Nc(e,t,i,r,n){return t=+t,i=i>>>0,n||Rc(e,t,i,4,34028234663852886e22,-34028234663852886e22),fi.write(e,t,i,r,23,4),i+4}s(Nc,"writeFloat");_.prototype.writeFloatLE=s(function(t,i,r){return Nc(this,t,i,!0,r)},"writeFloatLE");_.prototype.writeFloatBE=s(function(t,i,r){return Nc(this,t,i,!1,r)},"writeFloatBE");function Pc(e,t,i,r,n){return t=+t,i=i>>>0,n||Rc(e,t,i,8,17976931348623157e292,-17976931348623157e292),fi.write(e,t,i,r,52,8),i+8}s(Pc,"writeDouble");_.prototype.writeDoubleLE=s(function(t,i,r){return Pc(this,t,i,!0,r)},"writeDoubleLE");_.prototype.writeDoubleBE=s(function(t,i,r){return Pc(this,t,i,!1,r)},"writeDoubleBE");_.prototype.copy=s(function(t,i,r,n){if(!_.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),!n&&n!==0&&(n=this.length),i>=t.length&&(i=t.length),i||(i=0),n>0&&n<r&&(n=r),n===r||t.length===0||this.length===0)return 0;if(i<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-i<n-r&&(n=t.length-i+r);let a=n-r;return this===t&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(i,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),i),a},"copy");_.prototype.fill=s(function(t,i,r,n){if(typeof t=="string"){if(typeof i=="string"?(n=i,i=0,r=this.length):typeof r=="string"&&(n=r,r=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!_.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(t.length===1){let o=t.charCodeAt(0);(n==="utf8"&&o<128||n==="latin1")&&(t=o)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(i<0||this.length<i||this.length<r)throw new RangeError("Out of range index");if(r<=i)return this;i=i>>>0,r=r===void 0?this.length:r>>>0,t||(t=0);let a;if(typeof t=="number")for(a=i;a<r;++a)this[a]=t;else{let o=_.isBuffer(t)?t:_.from(t,n),u=o.length;if(u===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(a=0;a<r-i;++a)this[a+i]=o[a%u]}return this},"fill");var ci={};function ta(e,t,i){var r;ci[e]=(r=class extends i{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(a){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:a,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}},s(r,"NodeError"),r)}s(ta,"E");ta("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);ta("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError);ta("ERR_OUT_OF_RANGE",function(e,t,i){let r=`The value of "${e}" is out of range.`,n=i;return Number.isInteger(i)&&Math.abs(i)>2**32?n=vc(String(i)):typeof i=="bigint"&&(n=String(i),(i>BigInt(2)**BigInt(32)||i<-(BigInt(2)**BigInt(32)))&&(n=vc(n)),n+="n"),r+=` It must be ${t}. Received ${n}`,r},RangeError);function vc(e){let t="",i=e.length,r=e[0]==="-"?1:0;for(;i>=r+4;i-=3)t=`_${e.slice(i-3,i)}${t}`;return`${e.slice(0,i)}${t}`}s(vc,"addNumericalSeparator");function $m(e,t,i){hi(t,"offset"),(e[t]===void 0||e[t+i]===void 0)&&$i(t,e.length-(i+1))}s($m,"checkBounds");function kc(e,t,i,r,n,a){if(e>i||e<t){let o=typeof t=="bigint"?"n":"",u;throw a>3?t===0||t===BigInt(0)?u=`>= 0${o} and < 2${o} ** ${(a+1)*8}${o}`:u=`>= -(2${o} ** ${(a+1)*8-1}${o}) and < 2 ** ${(a+1)*8-1}${o}`:u=`>= ${t}${o} and <= ${i}${o}`,new ci.ERR_OUT_OF_RANGE("value",u,e)}$m(r,n,a)}s(kc,"checkIntBI");function hi(e,t){if(typeof e!="number")throw new ci.ERR_INVALID_ARG_TYPE(t,"number",e)}s(hi,"validateNumber");function $i(e,t,i){throw Math.floor(e)!==e?(hi(e,i),new ci.ERR_OUT_OF_RANGE(i||"offset","an integer",e)):t<0?new ci.ERR_BUFFER_OUT_OF_BOUNDS:new ci.ERR_OUT_OF_RANGE(i||"offset",`>= ${i?1:0} and <= ${t}`,e)}s($i,"boundsError");var Gm=/[^+/0-9A-Za-z-_]/g;function Ym(e){if(e=e.split("=")[0],e=e.trim().replace(Gm,""),e.length<2)return"";for(;e.length%4!==0;)e=e+"=";return e}s(Ym,"base64clean");function Js(e,t){t=t||1/0;let i,r=e.length,n=null,a=[];for(let o=0;o<r;++o){if(i=e.charCodeAt(o),i>55295&&i<57344){if(!n){if(i>56319){(t-=3)>-1&&a.push(239,191,189);continue}else if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}n=i;continue}if(i<56320){(t-=3)>-1&&a.push(239,191,189),n=i;continue}i=(n-55296<<10|i-56320)+65536}else n&&(t-=3)>-1&&a.push(239,191,189);if(n=null,i<128){if((t-=1)<0)break;a.push(i)}else if(i<2048){if((t-=2)<0)break;a.push(i>>6|192,i&63|128)}else if(i<65536){if((t-=3)<0)break;a.push(i>>12|224,i>>6&63|128,i&63|128)}else if(i<1114112){if((t-=4)<0)break;a.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else throw new Error("Invalid code point")}return a}s(Js,"utf8ToBytes");function Km(e){let t=[];for(let i=0;i<e.length;++i)t.push(e.charCodeAt(i)&255);return t}s(Km,"asciiToBytes");function zm(e,t){let i,r,n,a=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)i=e.charCodeAt(o),r=i>>8,n=i%256,a.push(n),a.push(r);return a}s(zm,"utf16leToBytes");function Lc(e){return zs.toByteArray(Ym(e))}s(Lc,"base64ToBytes");function vn(e,t,i,r){let n;for(n=0;n<r&&!(n+i>=t.length||n>=e.length);++n)t[n+i]=e[n];return n}s(vn,"blitBuffer");function He(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}s(He,"isInstance");function ia(e){return e!==e}s(ia,"numberIsNaN");var Xm=function(){let e="0123456789abcdef",t=new Array(256);for(let i=0;i<16;++i){let r=i*16;for(let n=0;n<16;++n)t[r+n]=e[i]+e[n]}return t}();function It(e){return typeof BigInt>"u"?Qm:e}s(It,"defineBigIntMethod");function Qm(){throw new Error("BigInt not supported")}s(Qm,"BufferBigIntNotDefined")});var z=x((QS,Oc)=>{"use strict";Oc.exports={ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,t){return e.includes(t)},ArrayPrototypeIndexOf(e,t){return e.indexOf(t)},ArrayPrototypeJoin(e,t){return e.join(t)},ArrayPrototypeMap(e,t){return e.map(t)},ArrayPrototypePop(e,t){return e.pop(t)},ArrayPrototypePush(e,t){return e.push(t)},ArrayPrototypeSlice(e,t,i){return e.slice(t,i)},Error,FunctionPrototypeCall(e,t,...i){return e.call(t,...i)},FunctionPrototypeSymbolHasInstance(e,t){return Function.prototype[Symbol.hasInstance].call(e,t)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,t){return Object.defineProperties(e,t)},ObjectDefineProperty(e,t,i){return Object.defineProperty(e,t,i)},ObjectGetOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,t){return Object.setPrototypeOf(e,t)},Promise,PromisePrototypeCatch(e,t){return e.catch(t)},PromisePrototypeThen(e,t,i){return e.then(t,i)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,t){return e.test(t)},SafeSet:Set,String,StringPrototypeSlice(e,t,i){return e.slice(t,i)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,t,i){return e.set(t,i)},Boolean,Uint8Array}});var pi=x((JS,En)=>{"use strict";var{AbortController:Dc,AbortSignal:Jm}=typeof self<"u"?self:typeof window<"u"?window:void 0;En.exports=Dc;En.exports.AbortSignal=Jm;En.exports.default=Dc});var Gi=x((ZS,ra)=>{"use strict";var bi=typeof Reflect=="object"?Reflect:null,Mc=bi&&typeof bi.apply=="function"?bi.apply:s(function(t,i,r){return Function.prototype.apply.call(t,i,r)},"ReflectApply"),xn;bi&&typeof bi.ownKeys=="function"?xn=bi.ownKeys:Object.getOwnPropertySymbols?xn=s(function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))},"ReflectOwnKeys"):xn=s(function(t){return Object.getOwnPropertyNames(t)},"ReflectOwnKeys");function Zm(e){console&&console.warn&&console.warn(e)}s(Zm,"ProcessEmitWarning");var Fc=Number.isNaN||s(function(t){return t!==t},"NumberIsNaN");function $(){$.init.call(this)}s($,"EventEmitter");ra.exports=$;ra.exports.once=rg;$.EventEmitter=$;$.prototype._events=void 0;$.prototype._eventsCount=0;$.prototype._maxListeners=void 0;var Bc=10;function Sn(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}s(Sn,"checkListener");Object.defineProperty($,"defaultMaxListeners",{enumerable:!0,get:s(function(){return Bc},"get"),set:s(function(e){if(typeof e!="number"||e<0||Fc(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Bc=e},"set")});$.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};$.prototype.setMaxListeners=s(function(t){if(typeof t!="number"||t<0||Fc(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},"setMaxListeners");function Uc(e){return e._maxListeners===void 0?$.defaultMaxListeners:e._maxListeners}s(Uc,"_getMaxListeners");$.prototype.getMaxListeners=s(function(){return Uc(this)},"getMaxListeners");$.prototype.emit=s(function(t){for(var i=[],r=1;r<arguments.length;r++)i.push(arguments[r]);var n=t==="error",a=this._events;if(a!==void 0)n=n&&a.error===void 0;else if(!n)return!1;if(n){var o;if(i.length>0&&(o=i[0]),o instanceof Error)throw o;var u=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw u.context=o,u}var l=a[t];if(l===void 0)return!1;if(typeof l=="function")Mc(l,this,i);else for(var c=l.length,p=Hc(l,c),r=0;r<c;++r)Mc(p[r],this,i);return!0},"emit");function Vc(e,t,i,r){var n,a,o;if(Sn(i),a=e._events,a===void 0?(a=e._events=Object.create(null),e._eventsCount=0):(a.newListener!==void 0&&(e.emit("newListener",t,i.listener?i.listener:i),a=e._events),o=a[t]),o===void 0)o=a[t]=i,++e._eventsCount;else if(typeof o=="function"?o=a[t]=r?[i,o]:[o,i]:r?o.unshift(i):o.push(i),n=Uc(e),n>0&&o.length>n&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,Zm(u)}return e}s(Vc,"_addListener");$.prototype.addListener=s(function(t,i){return Vc(this,t,i,!1)},"addListener");$.prototype.on=$.prototype.addListener;$.prototype.prependListener=s(function(t,i){return Vc(this,t,i,!0)},"prependListener");function eg(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}s(eg,"onceWrapper");function qc(e,t,i){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:i},n=eg.bind(r);return n.listener=i,r.wrapFn=n,n}s(qc,"_onceWrap");$.prototype.once=s(function(t,i){return Sn(i),this.on(t,qc(this,t,i)),this},"once");$.prototype.prependOnceListener=s(function(t,i){return Sn(i),this.prependListener(t,qc(this,t,i)),this},"prependOnceListener");$.prototype.removeListener=s(function(t,i){var r,n,a,o,u;if(Sn(i),n=this._events,n===void 0)return this;if(r=n[t],r===void 0)return this;if(r===i||r.listener===i)--this._eventsCount===0?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||i));else if(typeof r!="function"){for(a=-1,o=r.length-1;o>=0;o--)if(r[o]===i||r[o].listener===i){u=r[o].listener,a=o;break}if(a<0)return this;a===0?r.shift():tg(r,a),r.length===1&&(n[t]=r[0]),n.removeListener!==void 0&&this.emit("removeListener",t,u||i)}return this},"removeListener");$.prototype.off=$.prototype.removeListener;$.prototype.removeAllListeners=s(function(t){var i,r,n;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var a=Object.keys(r),o;for(n=0;n<a.length;++n)o=a[n],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(i=r[t],typeof i=="function")this.removeListener(t,i);else if(i!==void 0)for(n=i.length-1;n>=0;n--)this.removeListener(t,i[n]);return this},"removeAllListeners");function jc(e,t,i){var r=e._events;if(r===void 0)return[];var n=r[t];return n===void 0?[]:typeof n=="function"?i?[n.listener||n]:[n]:i?ig(n):Hc(n,n.length)}s(jc,"_listeners");$.prototype.listeners=s(function(t){return jc(this,t,!0)},"listeners");$.prototype.rawListeners=s(function(t){return jc(this,t,!1)},"rawListeners");$.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):Wc.call(e,t)};$.prototype.listenerCount=Wc;function Wc(e){var t=this._events;if(t!==void 0){var i=t[e];if(typeof i=="function")return 1;if(i!==void 0)return i.length}return 0}s(Wc,"listenerCount");$.prototype.eventNames=s(function(){return this._eventsCount>0?xn(this._events):[]},"eventNames");function Hc(e,t){for(var i=new Array(t),r=0;r<t;++r)i[r]=e[r];return i}s(Hc,"arrayClone");function tg(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}s(tg,"spliceOne");function ig(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}s(ig,"unwrapListeners");function rg(e,t){return new Promise(function(i,r){function n(o){e.removeListener(t,a),r(o)}s(n,"errorListener");function a(){typeof e.removeListener=="function"&&e.removeListener("error",n),i([].slice.call(arguments))}s(a,"resolver"),$c(e,t,a,{once:!0}),t!=="error"&&ng(e,n,{once:!0})})}s(rg,"once");function ng(e,t,i){typeof e.on=="function"&&$c(e,"error",t,i)}s(ng,"addErrorHandlerIfEventEmitter");function $c(e,t,i,r){if(typeof e.on=="function")r.once?e.once(t,i):e.on(t,i);else if(typeof e.addEventListener=="function")e.addEventListener(t,s(function n(a){r.once&&e.removeEventListener(t,n),i(a)},"wrapListener"));else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}s($c,"eventTargetAgnosticAddListener")});var pe=x((tT,sa)=>{"use strict";var sg=at(),{kResistStopPropagation:ag,SymbolDispose:og}=z(),ug=globalThis.AbortSignal||pi().AbortSignal,lg=globalThis.AbortController||pi().AbortController,cg=Object.getPrototypeOf(async function(){}).constructor,Gc=globalThis.Blob||sg.Blob,fg=s(typeof Gc<"u"?function(t){return t instanceof Gc}:function(t){return!1},"isBlob"),Yc=s((e,t)=>{if(e!==void 0&&(e===null||typeof e!="object"||!("aborted"in e)))throw new ERR_INVALID_ARG_TYPE(t,"AbortSignal",e)},"validateAbortSignal"),hg=s((e,t)=>{if(typeof e!="function")throw new ERR_INVALID_ARG_TYPE(t,"Function",e)},"validateFunction"),aa=class aa extends Error{constructor(t){if(!Array.isArray(t))throw new TypeError(`Expected input to be an Array, got ${typeof t}`);let i="";for(let r=0;r<t.length;r++)i+=`    ${t[r].stack}
`;super(i),this.name="AggregateError",this.errors=t}};s(aa,"AggregateError");var na=aa;sa.exports={AggregateError:na,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(...i){t||(t=!0,e.apply(this,i))}},createDeferredPromise:s(function(){let e,t;return{promise:new Promise((r,n)=>{e=r,t=n}),resolve:e,reject:t}},"createDeferredPromise"),promisify(e){return new Promise((t,i)=>{e((r,...n)=>r?i(r):t(...n))})},debuglog(){return function(){}},format(e,...t){return e.replace(/%([sdifj])/g,function(...[i,r]){let n=t.shift();return r==="f"?n.toFixed(6):r==="j"?JSON.stringify(n):r==="s"&&typeof n=="object"?`${n.constructor!==Object?n.constructor.name:""} {}`.trim():n.toString()})},inspect(e){switch(typeof e){case"string":if(e.includes("'"))if(e.includes('"')){if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}else return`"${e}"`;return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}},types:{isAsyncFunction(e){return e instanceof cg},isArrayBufferView(e){return ArrayBuffer.isView(e)}},isBlob:fg,deprecate(e,t){return e},addAbortListener:Gi().addAbortListener||s(function(t,i){if(t===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",t);Yc(t,"signal"),hg(i,"listener");let r;return t.aborted?queueMicrotask(()=>i()):(t.addEventListener("abort",i,{__proto__:null,once:!0,[ag]:!0}),r=s(()=>{t.removeEventListener("abort",i)},"removeEventListener")),{__proto__:null,[og](){var n;(n=r)===null||n===void 0||n()}}},"addAbortListener"),AbortSignalAny:ug.any||s(function(t){if(t.length===1)return t[0];let i=new lg,r=s(()=>i.abort(),"abort");return t.forEach(n=>{Yc(n,"signals"),n.addEventListener("abort",r,{once:!0})}),i.signal.addEventListener("abort",()=>{t.forEach(n=>n.removeEventListener("abort",r))},{once:!0}),i.signal},"AbortSignalAny")};sa.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var ge=x((rT,Xc)=>{"use strict";var{format:dg,inspect:Tn,AggregateError:pg}=pe(),bg=globalThis.AggregateError||pg,mg=Symbol("kIsNodeError"),gg=["string","function","number","object","Function","Object","boolean","bigint","symbol"],yg=/^([A-Z][a-z0-9]*)+$/,_g="__node_internal_",An={};function $t(e,t){if(!e)throw new An.ERR_INTERNAL_ASSERTION(t)}s($t,"assert");function Kc(e){let t="",i=e.length,r=e[0]==="-"?1:0;for(;i>=r+4;i-=3)t=`_${e.slice(i-3,i)}${t}`;return`${e.slice(0,i)}${t}`}s(Kc,"addNumericalSeparator");function wg(e,t,i){if(typeof t=="function")return $t(t.length<=i.length,`Code: ${e}; The provided arguments length (${i.length}) does not match the required ones (${t.length}).`),t(...i);let r=(t.match(/%[dfijoOs]/g)||[]).length;return $t(r===i.length,`Code: ${e}; The provided arguments length (${i.length}) does not match the required ones (${r}).`),i.length===0?t:dg(t,...i)}s(wg,"getMessage");function he(e,t,i){i||(i=Error);let n=class n extends i{constructor(...o){super(wg(e,t,o))}toString(){return`${this.name} [${e}]: ${this.message}`}};s(n,"NodeError");let r=n;Object.defineProperties(r.prototype,{name:{value:i.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),r.prototype.code=e,r.prototype[mg]=!0,An[e]=r}s(he,"E");function zc(e){let t=_g+e.name;return Object.defineProperty(e,"name",{value:t}),e}s(zc,"hideStackFrames");function vg(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;let i=new bg([t,e],t.message);return i.code=t.code,i}return e||t}s(vg,"aggregateTwoErrors");var ua=class ua extends Error{constructor(t="The operation was aborted",i=void 0){if(i!==void 0&&typeof i!="object")throw new An.ERR_INVALID_ARG_TYPE("options","Object",i);super(t,i),this.code="ABORT_ERR",this.name="AbortError"}};s(ua,"AbortError");var oa=ua;he("ERR_ASSERTION","%s",Error);he("ERR_INVALID_ARG_TYPE",(e,t,i)=>{$t(typeof e=="string","'name' must be a string"),Array.isArray(t)||(t=[t]);let r="The ";e.endsWith(" argument")?r+=`${e} `:r+=`"${e}" ${e.includes(".")?"property":"argument"} `,r+="must be ";let n=[],a=[],o=[];for(let l of t)$t(typeof l=="string","All expected entries have to be of type string"),gg.includes(l)?n.push(l.toLowerCase()):yg.test(l)?a.push(l):($t(l!=="object",'The value "object" should be written as "Object"'),o.push(l));if(a.length>0){let l=n.indexOf("object");l!==-1&&(n.splice(n,l,1),a.push("Object"))}if(n.length>0){switch(n.length){case 1:r+=`of type ${n[0]}`;break;case 2:r+=`one of type ${n[0]} or ${n[1]}`;break;default:{let l=n.pop();r+=`one of type ${n.join(", ")}, or ${l}`}}(a.length>0||o.length>0)&&(r+=" or ")}if(a.length>0){switch(a.length){case 1:r+=`an instance of ${a[0]}`;break;case 2:r+=`an instance of ${a[0]} or ${a[1]}`;break;default:{let l=a.pop();r+=`an instance of ${a.join(", ")}, or ${l}`}}o.length>0&&(r+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(r+="an "),r+=`${o[0]}`;break;case 2:r+=`one of ${o[0]} or ${o[1]}`;break;default:{let l=o.pop();r+=`one of ${o.join(", ")}, or ${l}`}}if(i==null)r+=`. Received ${i}`;else if(typeof i=="function"&&i.name)r+=`. Received function ${i.name}`;else if(typeof i=="object"){var u;if((u=i.constructor)!==null&&u!==void 0&&u.name)r+=`. Received an instance of ${i.constructor.name}`;else{let l=Tn(i,{depth:-1});r+=`. Received ${l}`}}else{let l=Tn(i,{colors:!1});l.length>25&&(l=`${l.slice(0,25)}...`),r+=`. Received type ${typeof i} (${l})`}return r},TypeError);he("ERR_INVALID_ARG_VALUE",(e,t,i="is invalid")=>{let r=Tn(t);return r.length>128&&(r=r.slice(0,128)+"..."),`The ${e.includes(".")?"property":"argument"} '${e}' ${i}. Received ${r}`},TypeError);he("ERR_INVALID_RETURN_VALUE",(e,t,i)=>{var r;let n=i!=null&&(r=i.constructor)!==null&&r!==void 0&&r.name?`instance of ${i.constructor.name}`:`type ${typeof i}`;return`Expected ${e} to be returned from the "${t}" function but got ${n}.`},TypeError);he("ERR_MISSING_ARGS",(...e)=>{$t(e.length>0,"At least one arg needs to be specified");let t,i=e.length;switch(e=(Array.isArray(e)?e:[e]).map(r=>`"${r}"`).join(" or "),i){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{let r=e.pop();t+=`The ${e.join(", ")}, and ${r} arguments`}break}return`${t} must be specified`},TypeError);he("ERR_OUT_OF_RANGE",(e,t,i)=>{$t(t,'Missing "range" argument');let r;return Number.isInteger(i)&&Math.abs(i)>2**32?r=Kc(String(i)):typeof i=="bigint"?(r=String(i),(i>2n**32n||i<-(2n**32n))&&(r=Kc(r)),r+="n"):r=Tn(i),`The value of "${e}" is out of range. It must be ${t}. Received ${r}`},RangeError);he("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);he("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);he("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);he("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);he("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);he("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);he("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);he("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);he("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);he("ERR_STREAM_WRITE_AFTER_END","write after end",Error);he("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);Xc.exports={AbortError:oa,aggregateTwoErrors:zc(vg),hideStackFrames:zc,codes:An}});var gi=x((sT,of)=>{"use strict";var{ArrayIsArray:ca,ArrayPrototypeIncludes:ef,ArrayPrototypeJoin:tf,ArrayPrototypeMap:Eg,NumberIsInteger:fa,NumberIsNaN:xg,NumberMAX_SAFE_INTEGER:Sg,NumberMIN_SAFE_INTEGER:Tg,NumberParseInt:Ag,ObjectPrototypeHasOwnProperty:Cg,RegExpPrototypeExec:rf,String:Ig,StringPrototypeToUpperCase:Rg,StringPrototypeTrim:Ng}=z(),{hideStackFrames:Ne,codes:{ERR_SOCKET_BAD_PORT:Pg,ERR_INVALID_ARG_TYPE:be,ERR_INVALID_ARG_VALUE:mi,ERR_OUT_OF_RANGE:Gt,ERR_UNKNOWN_SIGNAL:Qc}}=ge(),{normalizeEncoding:kg}=pe(),{isAsyncFunction:Lg,isArrayBufferView:Og}=pe().types,Jc={};function Dg(e){return e===(e|0)}s(Dg,"isInt32");function Mg(e){return e===e>>>0}s(Mg,"isUint32");var Bg=/^[0-7]+$/,Fg="must be a 32-bit unsigned integer or an octal string";function Ug(e,t,i){if(typeof e>"u"&&(e=i),typeof e=="string"){if(rf(Bg,e)===null)throw new mi(t,e,Fg);e=Ag(e,8)}return nf(e,t),e}s(Ug,"parseFileMode");var Vg=Ne((e,t,i=Tg,r=Sg)=>{if(typeof e!="number")throw new be(t,"number",e);if(!fa(e))throw new Gt(t,"an integer",e);if(e<i||e>r)throw new Gt(t,`>= ${i} && <= ${r}`,e)}),qg=Ne((e,t,i=-2147483648,r=2147483647)=>{if(typeof e!="number")throw new be(t,"number",e);if(!fa(e))throw new Gt(t,"an integer",e);if(e<i||e>r)throw new Gt(t,`>= ${i} && <= ${r}`,e)}),nf=Ne((e,t,i=!1)=>{if(typeof e!="number")throw new be(t,"number",e);if(!fa(e))throw new Gt(t,"an integer",e);let r=i?1:0,n=4294967295;if(e<r||e>n)throw new Gt(t,`>= ${r} && <= ${n}`,e)});function ha(e,t){if(typeof e!="string")throw new be(t,"string",e)}s(ha,"validateString");function jg(e,t,i=void 0,r){if(typeof e!="number")throw new be(t,"number",e);if(i!=null&&e<i||r!=null&&e>r||(i!=null||r!=null)&&xg(e))throw new Gt(t,`${i!=null?`>= ${i}`:""}${i!=null&&r!=null?" && ":""}${r!=null?`<= ${r}`:""}`,e)}s(jg,"validateNumber");var Wg=Ne((e,t,i)=>{if(!ef(i,e)){let n="must be one of: "+tf(Eg(i,a=>typeof a=="string"?`'${a}'`:Ig(a)),", ");throw new mi(t,e,n)}});function sf(e,t){if(typeof e!="boolean")throw new be(t,"boolean",e)}s(sf,"validateBoolean");function la(e,t,i){return e==null||!Cg(e,t)?i:e[t]}s(la,"getOwnPropertyValueOrDefault");var Hg=Ne((e,t,i=null)=>{let r=la(i,"allowArray",!1),n=la(i,"allowFunction",!1);if(!la(i,"nullable",!1)&&e===null||!r&&ca(e)||typeof e!="object"&&(!n||typeof e!="function"))throw new be(t,"Object",e)}),$g=Ne((e,t)=>{if(e!=null&&typeof e!="object"&&typeof e!="function")throw new be(t,"a dictionary",e)}),Cn=Ne((e,t,i=0)=>{if(!ca(e))throw new be(t,"Array",e);if(e.length<i){let r=`must be longer than ${i}`;throw new mi(t,e,r)}});function Gg(e,t){Cn(e,t);for(let i=0;i<e.length;i++)ha(e[i],`${t}[${i}]`)}s(Gg,"validateStringArray");function Yg(e,t){Cn(e,t);for(let i=0;i<e.length;i++)sf(e[i],`${t}[${i}]`)}s(Yg,"validateBooleanArray");function Kg(e,t){Cn(e,t);for(let i=0;i<e.length;i++){let r=e[i],n=`${t}[${i}]`;if(r==null)throw new be(n,"AbortSignal",r);af(r,n)}}s(Kg,"validateAbortSignalArray");function zg(e,t="signal"){if(ha(e,t),Jc[e]===void 0)throw Jc[Rg(e)]!==void 0?new Qc(e+" (signals must use all capital letters)"):new Qc(e)}s(zg,"validateSignalName");var Xg=Ne((e,t="buffer")=>{if(!Og(e))throw new be(t,["Buffer","TypedArray","DataView"],e)});function Qg(e,t){let i=kg(t),r=e.length;if(i==="hex"&&r%2!==0)throw new mi("encoding",t,`is invalid for data of length ${r}`)}s(Qg,"validateEncoding");function Jg(e,t="Port",i=!0){if(typeof e!="number"&&typeof e!="string"||typeof e=="string"&&Ng(e).length===0||+e!==+e>>>0||e>65535||e===0&&!i)throw new Pg(t,e,i);return e|0}s(Jg,"validatePort");var af=Ne((e,t)=>{if(e!==void 0&&(e===null||typeof e!="object"||!("aborted"in e)))throw new be(t,"AbortSignal",e)}),Zg=Ne((e,t)=>{if(typeof e!="function")throw new be(t,"Function",e)}),ey=Ne((e,t)=>{if(typeof e!="function"||Lg(e))throw new be(t,"Function",e)}),ty=Ne((e,t)=>{if(e!==void 0)throw new be(t,"undefined",e)});function iy(e,t,i){if(!ef(i,e))throw new be(t,`('${tf(i,"|")}')`,e)}s(iy,"validateUnion");var ry=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function Zc(e,t){if(typeof e>"u"||!rf(ry,e))throw new mi(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}s(Zc,"validateLinkHeaderFormat");function ny(e){if(typeof e=="string")return Zc(e,"hints"),e;if(ca(e)){let t=e.length,i="";if(t===0)return i;for(let r=0;r<t;r++){let n=e[r];Zc(n,"hints"),i+=n,r!==t-1&&(i+=", ")}return i}throw new mi("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}s(ny,"validateLinkHeaderValue");of.exports={isInt32:Dg,isUint32:Mg,parseFileMode:Ug,validateArray:Cn,validateStringArray:Gg,validateBooleanArray:Yg,validateAbortSignalArray:Kg,validateBoolean:sf,validateBuffer:Xg,validateDictionary:$g,validateEncoding:Qg,validateFunction:Zg,validateInt32:qg,validateInteger:Vg,validateNumber:jg,validateObject:Hg,validateOneOf:Wg,validatePlainFunction:ey,validatePort:Jg,validateSignalName:zg,validateString:ha,validateUint32:nf,validateUndefined:ty,validateUnion:iy,validateAbortSignal:af,validateLinkHeaderValue:ny}});var Rt=x((oT,ff)=>{var Z=ff.exports={},$e,Ge;function da(){throw new Error("setTimeout has not been defined")}s(da,"defaultSetTimout");function pa(){throw new Error("clearTimeout has not been defined")}s(pa,"defaultClearTimeout");(function(){try{typeof setTimeout=="function"?$e=setTimeout:$e=da}catch{$e=da}try{typeof clearTimeout=="function"?Ge=clearTimeout:Ge=pa}catch{Ge=pa}})();function uf(e){if($e===setTimeout)return setTimeout(e,0);if(($e===da||!$e)&&setTimeout)return $e=setTimeout,setTimeout(e,0);try{return $e(e,0)}catch{try{return $e.call(null,e,0)}catch{return $e.call(this,e,0)}}}s(uf,"runTimeout");function sy(e){if(Ge===clearTimeout)return clearTimeout(e);if((Ge===pa||!Ge)&&clearTimeout)return Ge=clearTimeout,clearTimeout(e);try{return Ge(e)}catch{try{return Ge.call(null,e)}catch{return Ge.call(this,e)}}}s(sy,"runClearTimeout");var ot=[],yi=!1,Yt,In=-1;function ay(){!yi||!Yt||(yi=!1,Yt.length?ot=Yt.concat(ot):In=-1,ot.length&&lf())}s(ay,"cleanUpNextTick");function lf(){if(!yi){var e=uf(ay);yi=!0;for(var t=ot.length;t;){for(Yt=ot,ot=[];++In<t;)Yt&&Yt[In].run();In=-1,t=ot.length}Yt=null,yi=!1,sy(e)}}s(lf,"drainQueue");Z.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];ot.push(new cf(e,t)),ot.length===1&&!yi&&uf(lf)};function cf(e,t){this.fun=e,this.array=t}s(cf,"Item");cf.prototype.run=function(){this.fun.apply(null,this.array)};Z.title="browser";Z.browser=!0;Z.env={};Z.argv=[];Z.version="";Z.versions={};function ut(){}s(ut,"noop");Z.on=ut;Z.addListener=ut;Z.once=ut;Z.off=ut;Z.removeListener=ut;Z.removeAllListeners=ut;Z.emit=ut;Z.prependListener=ut;Z.prependOnceListener=ut;Z.listeners=function(e){return[]};Z.binding=function(e){throw new Error("process.binding is not supported")};Z.cwd=function(){return"/"};Z.chdir=function(e){throw new Error("process.chdir is not supported")};Z.umask=function(){return 0}});var Ke=x((lT,Af)=>{"use strict";var{SymbolAsyncIterator:hf,SymbolIterator:df,SymbolFor:Kt}=z(),pf=Kt("nodejs.stream.destroyed"),bf=Kt("nodejs.stream.errored"),ba=Kt("nodejs.stream.readable"),ma=Kt("nodejs.stream.writable"),mf=Kt("nodejs.stream.disturbed"),oy=Kt("nodejs.webstream.isClosedPromise"),uy=Kt("nodejs.webstream.controllerErrorFunction");function Rn(e,t=!1){var i;return!!(e&&typeof e.pipe=="function"&&typeof e.on=="function"&&(!t||typeof e.pause=="function"&&typeof e.resume=="function")&&(!e._writableState||((i=e._readableState)===null||i===void 0?void 0:i.readable)!==!1)&&(!e._writableState||e._readableState))}s(Rn,"isReadableNodeStream");function Nn(e){var t;return!!(e&&typeof e.write=="function"&&typeof e.on=="function"&&(!e._readableState||((t=e._writableState)===null||t===void 0?void 0:t.writable)!==!1))}s(Nn,"isWritableNodeStream");function ly(e){return!!(e&&typeof e.pipe=="function"&&e._readableState&&typeof e.on=="function"&&typeof e.write=="function")}s(ly,"isDuplexNodeStream");function Ye(e){return e&&(e._readableState||e._writableState||typeof e.write=="function"&&typeof e.on=="function"||typeof e.pipe=="function"&&typeof e.on=="function")}s(Ye,"isNodeStream");function gf(e){return!!(e&&!Ye(e)&&typeof e.pipeThrough=="function"&&typeof e.getReader=="function"&&typeof e.cancel=="function")}s(gf,"isReadableStream");function yf(e){return!!(e&&!Ye(e)&&typeof e.getWriter=="function"&&typeof e.abort=="function")}s(yf,"isWritableStream");function _f(e){return!!(e&&!Ye(e)&&typeof e.readable=="object"&&typeof e.writable=="object")}s(_f,"isTransformStream");function cy(e){return gf(e)||yf(e)||_f(e)}s(cy,"isWebStream");function fy(e,t){return e==null?!1:t===!0?typeof e[hf]=="function":t===!1?typeof e[df]=="function":typeof e[hf]=="function"||typeof e[df]=="function"}s(fy,"isIterable");function Pn(e){if(!Ye(e))return null;let t=e._writableState,i=e._readableState,r=t||i;return!!(e.destroyed||e[pf]||r!=null&&r.destroyed)}s(Pn,"isDestroyed");function wf(e){if(!Nn(e))return null;if(e.writableEnded===!0)return!0;let t=e._writableState;return t!=null&&t.errored?!1:typeof(t==null?void 0:t.ended)!="boolean"?null:t.ended}s(wf,"isWritableEnded");function hy(e,t){if(!Nn(e))return null;if(e.writableFinished===!0)return!0;let i=e._writableState;return i!=null&&i.errored?!1:typeof(i==null?void 0:i.finished)!="boolean"?null:!!(i.finished||t===!1&&i.ended===!0&&i.length===0)}s(hy,"isWritableFinished");function dy(e){if(!Rn(e))return null;if(e.readableEnded===!0)return!0;let t=e._readableState;return!t||t.errored?!1:typeof(t==null?void 0:t.ended)!="boolean"?null:t.ended}s(dy,"isReadableEnded");function vf(e,t){if(!Rn(e))return null;let i=e._readableState;return i!=null&&i.errored?!1:typeof(i==null?void 0:i.endEmitted)!="boolean"?null:!!(i.endEmitted||t===!1&&i.ended===!0&&i.length===0)}s(vf,"isReadableFinished");function Ef(e){return e&&e[ba]!=null?e[ba]:typeof(e==null?void 0:e.readable)!="boolean"?null:Pn(e)?!1:Rn(e)&&e.readable&&!vf(e)}s(Ef,"isReadable");function xf(e){return e&&e[ma]!=null?e[ma]:typeof(e==null?void 0:e.writable)!="boolean"?null:Pn(e)?!1:Nn(e)&&e.writable&&!wf(e)}s(xf,"isWritable");function py(e,t){return Ye(e)?Pn(e)?!0:!((t==null?void 0:t.readable)!==!1&&Ef(e)||(t==null?void 0:t.writable)!==!1&&xf(e)):null}s(py,"isFinished");function by(e){var t,i;return Ye(e)?e.writableErrored?e.writableErrored:(t=(i=e._writableState)===null||i===void 0?void 0:i.errored)!==null&&t!==void 0?t:null:null}s(by,"isWritableErrored");function my(e){var t,i;return Ye(e)?e.readableErrored?e.readableErrored:(t=(i=e._readableState)===null||i===void 0?void 0:i.errored)!==null&&t!==void 0?t:null:null}s(my,"isReadableErrored");function gy(e){if(!Ye(e))return null;if(typeof e.closed=="boolean")return e.closed;let t=e._writableState,i=e._readableState;return typeof(t==null?void 0:t.closed)=="boolean"||typeof(i==null?void 0:i.closed)=="boolean"?(t==null?void 0:t.closed)||(i==null?void 0:i.closed):typeof e._closed=="boolean"&&Sf(e)?e._closed:null}s(gy,"isClosed");function Sf(e){return typeof e._closed=="boolean"&&typeof e._defaultKeepAlive=="boolean"&&typeof e._removedConnection=="boolean"&&typeof e._removedContLen=="boolean"}s(Sf,"isOutgoingMessage");function Tf(e){return typeof e._sent100=="boolean"&&Sf(e)}s(Tf,"isServerResponse");function yy(e){var t;return typeof e._consuming=="boolean"&&typeof e._dumped=="boolean"&&((t=e.req)===null||t===void 0?void 0:t.upgradeOrConnect)===void 0}s(yy,"isServerRequest");function _y(e){if(!Ye(e))return null;let t=e._writableState,i=e._readableState,r=t||i;return!r&&Tf(e)||!!(r&&r.autoDestroy&&r.emitClose&&r.closed===!1)}s(_y,"willEmitClose");function wy(e){var t;return!!(e&&((t=e[mf])!==null&&t!==void 0?t:e.readableDidRead||e.readableAborted))}s(wy,"isDisturbed");function vy(e){var t,i,r,n,a,o,u,l,c,p;return!!(e&&((t=(i=(r=(n=(a=(o=e[bf])!==null&&o!==void 0?o:e.readableErrored)!==null&&a!==void 0?a:e.writableErrored)!==null&&n!==void 0?n:(u=e._readableState)===null||u===void 0?void 0:u.errorEmitted)!==null&&r!==void 0?r:(l=e._writableState)===null||l===void 0?void 0:l.errorEmitted)!==null&&i!==void 0?i:(c=e._readableState)===null||c===void 0?void 0:c.errored)!==null&&t!==void 0?t:!((p=e._writableState)===null||p===void 0)&&p.errored))}s(vy,"isErrored");Af.exports={isDestroyed:Pn,kIsDestroyed:pf,isDisturbed:wy,kIsDisturbed:mf,isErrored:vy,kIsErrored:bf,isReadable:Ef,kIsReadable:ba,kIsClosedPromise:oy,kControllerErrorFunction:uy,kIsWritable:ma,isClosed:gy,isDuplexNodeStream:ly,isFinished:py,isIterable:fy,isReadableNodeStream:Rn,isReadableStream:gf,isReadableEnded:dy,isReadableFinished:vf,isReadableErrored:my,isNodeStream:Ye,isWebStream:cy,isWritable:xf,isWritableNodeStream:Nn,isWritableStream:yf,isWritableEnded:wf,isWritableFinished:hy,isWritableErrored:by,isServerRequest:yy,isServerResponse:Tf,willEmitClose:_y,isTransformStream:_f}});var lt=x((fT,va)=>{var Nt=Rt(),{AbortError:Df,codes:Ey}=ge(),{ERR_INVALID_ARG_TYPE:xy,ERR_STREAM_PREMATURE_CLOSE:Cf}=Ey,{kEmptyObject:ya,once:_a}=pe(),{validateAbortSignal:Sy,validateFunction:Ty,validateObject:Ay,validateBoolean:Cy}=gi(),{Promise:Iy,PromisePrototypeThen:Ry,SymbolDispose:Mf}=z(),{isClosed:Ny,isReadable:If,isReadableNodeStream:ga,isReadableStream:Py,isReadableFinished:Rf,isReadableErrored:Nf,isWritable:Pf,isWritableNodeStream:kf,isWritableStream:ky,isWritableFinished:Lf,isWritableErrored:Of,isNodeStream:Ly,willEmitClose:Oy,kIsClosedPromise:Dy}=Ke(),_i;function My(e){return e.setHeader&&typeof e.abort=="function"}s(My,"isRequest");var wa=s(()=>{},"nop");function Bf(e,t,i){var r,n;if(arguments.length===2?(i=t,t=ya):t==null?t=ya:Ay(t,"options"),Ty(i,"callback"),Sy(t.signal,"options.signal"),i=_a(i),Py(e)||ky(e))return By(e,t,i);if(!Ly(e))throw new xy("stream",["ReadableStream","WritableStream","Stream"],e);let a=(r=t.readable)!==null&&r!==void 0?r:ga(e),o=(n=t.writable)!==null&&n!==void 0?n:kf(e),u=e._writableState,l=e._readableState,c=s(()=>{e.writable||v()},"onlegacyfinish"),p=Oy(e)&&ga(e)===a&&kf(e)===o,g=Lf(e,!1),v=s(()=>{g=!0,e.destroyed&&(p=!1),!(p&&(!e.readable||a))&&(!a||y)&&i.call(e)},"onfinish"),y=Rf(e,!1),S=s(()=>{y=!0,e.destroyed&&(p=!1),!(p&&(!e.writable||o))&&(!o||g)&&i.call(e)},"onend"),E=s(j=>{i.call(e,j)},"onerror"),N=Ny(e),A=s(()=>{N=!0;let j=Of(e)||Nf(e);if(j&&typeof j!="boolean")return i.call(e,j);if(a&&!y&&ga(e,!0)&&!Rf(e,!1))return i.call(e,new Cf);if(o&&!g&&!Lf(e,!1))return i.call(e,new Cf);i.call(e)},"onclose"),M=s(()=>{N=!0;let j=Of(e)||Nf(e);if(j&&typeof j!="boolean")return i.call(e,j);i.call(e)},"onclosed"),k=s(()=>{e.req.on("finish",v)},"onrequest");My(e)?(e.on("complete",v),p||e.on("abort",A),e.req?k():e.on("request",k)):o&&!u&&(e.on("end",c),e.on("close",c)),!p&&typeof e.aborted=="boolean"&&e.on("aborted",A),e.on("end",S),e.on("finish",v),t.error!==!1&&e.on("error",E),e.on("close",A),N?Nt.nextTick(A):u!=null&&u.errorEmitted||l!=null&&l.errorEmitted?p||Nt.nextTick(M):(!a&&(!p||If(e))&&(g||Pf(e)===!1)||!o&&(!p||Pf(e))&&(y||If(e)===!1)||l&&e.req&&e.aborted)&&Nt.nextTick(M);let R=s(()=>{i=wa,e.removeListener("aborted",A),e.removeListener("complete",v),e.removeListener("abort",A),e.removeListener("request",k),e.req&&e.req.removeListener("finish",v),e.removeListener("end",c),e.removeListener("close",c),e.removeListener("finish",v),e.removeListener("end",S),e.removeListener("error",E),e.removeListener("close",A)},"cleanup");if(t.signal&&!N){let j=s(()=>{let J=i;R(),J.call(e,new Df(void 0,{cause:t.signal.reason}))},"abort");if(t.signal.aborted)Nt.nextTick(j);else{_i=_i||pe().addAbortListener;let J=_i(t.signal,j),ue=i;i=_a((...m)=>{J[Mf](),ue.apply(e,m)})}}return R}s(Bf,"eos");function By(e,t,i){let r=!1,n=wa;if(t.signal)if(n=s(()=>{r=!0,i.call(e,new Df(void 0,{cause:t.signal.reason}))},"abort"),t.signal.aborted)Nt.nextTick(n);else{_i=_i||pe().addAbortListener;let o=_i(t.signal,n),u=i;i=_a((...l)=>{o[Mf](),u.apply(e,l)})}let a=s((...o)=>{r||Nt.nextTick(()=>i.apply(e,o))},"resolverFn");return Ry(e[Dy].promise,a,a),wa}s(By,"eosWeb");function Fy(e,t){var i;let r=!1;return t===null&&(t=ya),(i=t)!==null&&i!==void 0&&i.cleanup&&(Cy(t.cleanup,"cleanup"),r=t.cleanup),new Iy((n,a)=>{let o=Bf(e,t,u=>{r&&o(),u?a(u):n()})})}s(Fy,"finished");va.exports=Bf;va.exports.finished=Fy});var zt=x((dT,$f)=>{"use strict";var ze=Rt(),{aggregateTwoErrors:Uy,codes:{ERR_MULTIPLE_CALLBACK:Vy},AbortError:qy}=ge(),{Symbol:Vf}=z(),{kIsDestroyed:jy,isDestroyed:Wy,isFinished:Hy,isServerRequest:$y}=Ke(),qf=Vf("kDestroy"),Ea=Vf("kConstruct");function jf(e,t,i){e&&(e.stack,t&&!t.errored&&(t.errored=e),i&&!i.errored&&(i.errored=e))}s(jf,"checkError");function Gy(e,t){let i=this._readableState,r=this._writableState,n=r||i;return r!=null&&r.destroyed||i!=null&&i.destroyed?(typeof t=="function"&&t(),this):(jf(e,r,i),r&&(r.destroyed=!0),i&&(i.destroyed=!0),n.constructed?Ff(this,e,t):this.once(qf,function(a){Ff(this,Uy(a,e),t)}),this)}s(Gy,"destroy");function Ff(e,t,i){let r=!1;function n(a){if(r)return;r=!0;let o=e._readableState,u=e._writableState;jf(a,u,o),u&&(u.closed=!0),o&&(o.closed=!0),typeof i=="function"&&i(a),a?ze.nextTick(Yy,e,a):ze.nextTick(Wf,e)}s(n,"onDestroy");try{e._destroy(t||null,n)}catch(a){n(a)}}s(Ff,"_destroy");function Yy(e,t){xa(e,t),Wf(e)}s(Yy,"emitErrorCloseNT");function Wf(e){let t=e._readableState,i=e._writableState;i&&(i.closeEmitted=!0),t&&(t.closeEmitted=!0),(i!=null&&i.emitClose||t!=null&&t.emitClose)&&e.emit("close")}s(Wf,"emitCloseNT");function xa(e,t){let i=e._readableState,r=e._writableState;r!=null&&r.errorEmitted||i!=null&&i.errorEmitted||(r&&(r.errorEmitted=!0),i&&(i.errorEmitted=!0),e.emit("error",t))}s(xa,"emitErrorNT");function Ky(){let e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=e.readable===!1,e.endEmitted=e.readable===!1),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=t.writable===!1,t.ending=t.writable===!1,t.finished=t.writable===!1)}s(Ky,"undestroy");function Sa(e,t,i){let r=e._readableState,n=e._writableState;if(n!=null&&n.destroyed||r!=null&&r.destroyed)return this;r!=null&&r.autoDestroy||n!=null&&n.autoDestroy?e.destroy(t):t&&(t.stack,n&&!n.errored&&(n.errored=t),r&&!r.errored&&(r.errored=t),i?ze.nextTick(xa,e,t):xa(e,t))}s(Sa,"errorOrDestroy");function zy(e,t){if(typeof e._construct!="function")return;let i=e._readableState,r=e._writableState;i&&(i.constructed=!1),r&&(r.constructed=!1),e.once(Ea,t),!(e.listenerCount(Ea)>1)&&ze.nextTick(Xy,e)}s(zy,"construct");function Xy(e){let t=!1;function i(r){if(t){Sa(e,r!=null?r:new Vy);return}t=!0;let n=e._readableState,a=e._writableState,o=a||n;n&&(n.constructed=!0),a&&(a.constructed=!0),o.destroyed?e.emit(qf,r):r?Sa(e,r,!0):ze.nextTick(Qy,e)}s(i,"onConstruct");try{e._construct(r=>{ze.nextTick(i,r)})}catch(r){ze.nextTick(i,r)}}s(Xy,"constructNT");function Qy(e){e.emit(Ea)}s(Qy,"emitConstructNT");function Uf(e){return(e==null?void 0:e.setHeader)&&typeof e.abort=="function"}s(Uf,"isRequest");function Hf(e){e.emit("close")}s(Hf,"emitCloseLegacy");function Jy(e,t){e.emit("error",t),ze.nextTick(Hf,e)}s(Jy,"emitErrorCloseLegacy");function Zy(e,t){!e||Wy(e)||(!t&&!Hy(e)&&(t=new qy),$y(e)?(e.socket=null,e.destroy(t)):Uf(e)?e.abort():Uf(e.req)?e.req.abort():typeof e.destroy=="function"?e.destroy(t):typeof e.close=="function"?e.close():t?ze.nextTick(Jy,e,t):ze.nextTick(Hf,e),e.destroyed||(e[jy]=!0))}s(Zy,"destroyer");$f.exports={construct:zy,destroyer:Zy,destroy:Gy,undestroy:Ky,errorOrDestroy:Sa}});var On=x((bT,Yf)=>{"use strict";var{ArrayIsArray:e_,ObjectSetPrototypeOf:Gf}=z(),{EventEmitter:kn}=Gi();function Ln(e){kn.call(this,e)}s(Ln,"Stream");Gf(Ln.prototype,kn.prototype);Gf(Ln,kn);Ln.prototype.pipe=function(e,t){let i=this;function r(p){e.writable&&e.write(p)===!1&&i.pause&&i.pause()}s(r,"ondata"),i.on("data",r);function n(){i.readable&&i.resume&&i.resume()}s(n,"ondrain"),e.on("drain",n),!e._isStdio&&(!t||t.end!==!1)&&(i.on("end",o),i.on("close",u));let a=!1;function o(){a||(a=!0,e.end())}s(o,"onend");function u(){a||(a=!0,typeof e.destroy=="function"&&e.destroy())}s(u,"onclose");function l(p){c(),kn.listenerCount(this,"error")===0&&this.emit("error",p)}s(l,"onerror"),Ta(i,"error",l),Ta(e,"error",l);function c(){i.removeListener("data",r),e.removeListener("drain",n),i.removeListener("end",o),i.removeListener("close",u),i.removeListener("error",l),e.removeListener("error",l),i.removeListener("end",c),i.removeListener("close",c),e.removeListener("close",c)}return s(c,"cleanup"),i.on("end",c),i.on("close",c),e.on("close",c),e.emit("pipe",i),e};function Ta(e,t,i){if(typeof e.prependListener=="function")return e.prependListener(t,i);!e._events||!e._events[t]?e.on(t,i):e_(e._events[t])?e._events[t].unshift(i):e._events[t]=[i,e._events[t]]}s(Ta,"prependListener");Yf.exports={Stream:Ln,prependListener:Ta}});var Yi=x((gT,Dn)=>{"use strict";var{SymbolDispose:t_}=z(),{AbortError:Kf,codes:i_}=ge(),{isNodeStream:zf,isWebStream:r_,kControllerErrorFunction:n_}=Ke(),s_=lt(),{ERR_INVALID_ARG_TYPE:Xf}=i_,Aa,a_=s((e,t)=>{if(typeof e!="object"||!("aborted"in e))throw new Xf(t,"AbortSignal",e)},"validateAbortSignal");Dn.exports.addAbortSignal=s(function(t,i){if(a_(t,"signal"),!zf(i)&&!r_(i))throw new Xf("stream",["ReadableStream","WritableStream","Stream"],i);return Dn.exports.addAbortSignalNoValidate(t,i)},"addAbortSignal");Dn.exports.addAbortSignalNoValidate=function(e,t){if(typeof e!="object"||!("aborted"in e))return t;let i=zf(t)?()=>{t.destroy(new Kf(void 0,{cause:e.reason}))}:()=>{t[n_](new Kf(void 0,{cause:e.reason}))};if(e.aborted)i();else{Aa=Aa||pe().addAbortListener;let r=Aa(e,i);s_(t,r[t_])}return t}});var Zf=x((_T,Jf)=>{"use strict";var{StringPrototypeSlice:Qf,SymbolIterator:o_,TypedArrayPrototypeSet:Mn,Uint8Array:u_}=z(),{Buffer:Ca}=at(),{inspect:l_}=pe(),wi;Jf.exports=(wi=class{constructor(){this.head=null,this.tail=null,this.length=0}push(t){let i={data:t,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}unshift(t){let i={data:t,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}shift(){if(this.length===0)return;let t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,t}clear(){this.head=this.tail=null,this.length=0}join(t){if(this.length===0)return"";let i=this.head,r=""+i.data;for(;(i=i.next)!==null;)r+=t+i.data;return r}concat(t){if(this.length===0)return Ca.alloc(0);let i=Ca.allocUnsafe(t>>>0),r=this.head,n=0;for(;r;)Mn(i,r.data,n),n+=r.data.length,r=r.next;return i}consume(t,i){let r=this.head.data;if(t<r.length){let n=r.slice(0,t);return this.head.data=r.slice(t),n}return t===r.length?this.shift():i?this._getString(t):this._getBuffer(t)}first(){return this.head.data}*[o_](){for(let t=this.head;t;t=t.next)yield t.data}_getString(t){let i="",r=this.head,n=0;do{let a=r.data;if(t>a.length)i+=a,t-=a.length;else{t===a.length?(i+=a,++n,r.next?this.head=r.next:this.head=this.tail=null):(i+=Qf(a,0,t),this.head=r,r.data=Qf(a,t));break}++n}while((r=r.next)!==null);return this.length-=n,i}_getBuffer(t){let i=Ca.allocUnsafe(t),r=t,n=this.head,a=0;do{let o=n.data;if(t>o.length)Mn(i,o,r-t),t-=o.length;else{t===o.length?(Mn(i,o,r-t),++a,n.next?this.head=n.next:this.head=this.tail=null):(Mn(i,new u_(o.buffer,o.byteOffset,t),r-t),this.head=n,n.data=o.slice(t));break}++a}while((n=n.next)!==null);return this.length-=a,i}[Symbol.for("nodejs.util.inspect.custom")](t,i){return l_(this,{...i,depth:0,customInspect:!1})}},s(wi,"BufferList"),wi)});var Ki=x((vT,rh)=>{"use strict";var{MathFloor:c_,NumberIsInteger:f_}=z(),{validateInteger:h_}=gi(),{ERR_INVALID_ARG_VALUE:d_}=ge().codes,eh=16*1024,th=16;function p_(e,t,i){return e.highWaterMark!=null?e.highWaterMark:t?e[i]:null}s(p_,"highWaterMarkFrom");function ih(e){return e?th:eh}s(ih,"getDefaultHighWaterMark");function b_(e,t){h_(t,"value",0),e?th=t:eh=t}s(b_,"setDefaultHighWaterMark");function m_(e,t,i,r){let n=p_(t,r,i);if(n!=null){if(!f_(n)||n<0){let a=r?`options.${i}`:"options.highWaterMark";throw new d_(a,n)}return c_(n)}return ih(e.objectMode)}s(m_,"getHighWaterMark");rh.exports={getHighWaterMark:m_,getDefaultHighWaterMark:ih,setDefaultHighWaterMark:b_}});var ah=x((Ia,sh)=>{var Bn=at(),Xe=Bn.Buffer;function nh(e,t){for(var i in e)t[i]=e[i]}s(nh,"copyProps");Xe.from&&Xe.alloc&&Xe.allocUnsafe&&Xe.allocUnsafeSlow?sh.exports=Bn:(nh(Bn,Ia),Ia.Buffer=Xt);function Xt(e,t,i){return Xe(e,t,i)}s(Xt,"SafeBuffer");Xt.prototype=Object.create(Xe.prototype);nh(Xe,Xt);Xt.from=function(e,t,i){if(typeof e=="number")throw new TypeError("Argument must not be a number");return Xe(e,t,i)};Xt.alloc=function(e,t,i){if(typeof e!="number")throw new TypeError("Argument must be a number");var r=Xe(e);return t!==void 0?typeof i=="string"?r.fill(t,i):r.fill(t):r.fill(0),r};Xt.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Xe(e)};Xt.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Bn.SlowBuffer(e)}});var Pa=x(uh=>{"use strict";var Na=ah().Buffer,oh=Na.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function g_(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}s(g_,"_normalizeEncoding");function y_(e){var t=g_(e);if(typeof t!="string"&&(Na.isEncoding===oh||!oh(e)))throw new Error("Unknown encoding: "+e);return t||e}s(y_,"normalizeEncoding");uh.StringDecoder=zi;function zi(e){this.encoding=y_(e);var t;switch(this.encoding){case"utf16le":this.text=S_,this.end=T_,t=4;break;case"utf8":this.fillLast=v_,t=4;break;case"base64":this.text=A_,this.end=C_,t=3;break;default:this.write=I_,this.end=R_;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Na.allocUnsafe(t)}s(zi,"StringDecoder");zi.prototype.write=function(e){if(e.length===0)return"";var t,i;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<e.length?t?t+this.text(e,i):this.text(e,i):t||""};zi.prototype.end=x_;zi.prototype.text=E_;zi.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function Ra(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}s(Ra,"utf8CheckByte");function __(e,t,i){var r=t.length-1;if(r<i)return 0;var n=Ra(t[r]);return n>=0?(n>0&&(e.lastNeed=n-1),n):--r<i||n===-2?0:(n=Ra(t[r]),n>=0?(n>0&&(e.lastNeed=n-2),n):--r<i||n===-2?0:(n=Ra(t[r]),n>=0?(n>0&&(n===2?n=0:e.lastNeed=n-3),n):0))}s(__,"utf8CheckIncomplete");function w_(e,t,i){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}s(w_,"utf8CheckExtraBytes");function v_(e){var t=this.lastTotal-this.lastNeed,i=w_(this,e,t);if(i!==void 0)return i;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}s(v_,"utf8FillLast");function E_(e,t){var i=__(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=i;var r=e.length-(i-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)}s(E_,"utf8Text");function x_(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}s(x_,"utf8End");function S_(e,t){if((e.length-t)%2===0){var i=e.toString("utf16le",t);if(i){var r=i.charCodeAt(i.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],i.slice(0,-1)}return i}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}s(S_,"utf16Text");function T_(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,i)}return t}s(T_,"utf16End");function A_(e,t){var i=(e.length-t)%3;return i===0?e.toString("base64",t):(this.lastNeed=3-i,this.lastTotal=3,i===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-i))}s(A_,"base64Text");function C_(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}s(C_,"base64End");function I_(e){return e.toString(this.encoding)}s(I_,"simpleWrite");function R_(e){return e&&e.length?this.write(e):""}s(R_,"simpleEnd")});var ka=x((AT,hh)=>{"use strict";var lh=Rt(),{PromisePrototypeThen:N_,SymbolAsyncIterator:ch,SymbolIterator:fh}=z(),{Buffer:P_}=at(),{ERR_INVALID_ARG_TYPE:k_,ERR_STREAM_NULL_VALUES:L_}=ge().codes;function O_(e,t,i){let r;if(typeof t=="string"||t instanceof P_)return new e({objectMode:!0,...i,read(){this.push(t),this.push(null)}});let n;if(t&&t[ch])n=!0,r=t[ch]();else if(t&&t[fh])n=!1,r=t[fh]();else throw new k_("iterable",["Iterable"],t);let a=new e({objectMode:!0,highWaterMark:1,...i}),o=!1;a._read=function(){o||(o=!0,l())},a._destroy=function(c,p){N_(u(c),()=>lh.nextTick(p,c),g=>lh.nextTick(p,g||c))};async function u(c){let p=c!=null,g=typeof r.throw=="function";if(p&&g){let{value:v,done:y}=await r.throw(c);if(await v,y)return}if(typeof r.return=="function"){let{value:v}=await r.return();await v}}s(u,"close");async function l(){for(;;){try{let{value:c,done:p}=n?await r.next():r.next();if(p)a.push(null);else{let g=c&&typeof c.then=="function"?await c:c;if(g===null)throw o=!1,new L_;if(a.push(g))continue;o=!1}}catch(c){a.destroy(c)}break}}return s(l,"next"),a}s(O_,"from");hh.exports=O_});var Qi=x((IT,Nh)=>{var Ue=Rt(),{ArrayPrototypeIndexOf:D_,NumberIsInteger:M_,NumberIsNaN:B_,NumberParseInt:F_,ObjectDefineProperties:Va,ObjectKeys:U_,ObjectSetPrototypeOf:bh,Promise:mh,SafeSet:V_,SymbolAsyncDispose:q_,SymbolAsyncIterator:j_,Symbol:W_}=z();Nh.exports=O;O.ReadableState=qn;var{EventEmitter:H_}=Gi(),{Stream:Pt,prependListener:$_}=On(),{Buffer:La}=at(),{addAbortSignal:G_}=Yi(),gh=lt(),B=pe().debuglog("stream",e=>{B=e}),Y_=Zf(),xi=zt(),{getHighWaterMark:K_,getDefaultHighWaterMark:z_}=Ki(),{aggregateTwoErrors:dh,codes:{ERR_INVALID_ARG_TYPE:X_,ERR_METHOD_NOT_IMPLEMENTED:Q_,ERR_OUT_OF_RANGE:J_,ERR_STREAM_PUSH_AFTER_EOF:Z_,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:ew},AbortError:tw}=ge(),{validateObject:iw}=gi(),Qt=W_("kPaused"),{StringDecoder:yh}=Pa(),rw=ka();bh(O.prototype,Pt.prototype);bh(O,Pt);var Oa=s(()=>{},"nop"),{errorOrDestroy:vi}=xi,Ei=1,nw=2,_h=4,Xi=8,wh=16,Fn=32,Un=64,vh=128,sw=256,aw=512,ow=1024,Fa=2048,Ua=4096,uw=8192,lw=16384,cw=32768,Eh=65536,fw=1<<17,hw=1<<18;function se(e){return{enumerable:!1,get(){return(this.state&e)!==0},set(t){t?this.state|=e:this.state&=~e}}}s(se,"makeBitMapDescriptor");Va(qn.prototype,{objectMode:se(Ei),ended:se(nw),endEmitted:se(_h),reading:se(Xi),constructed:se(wh),sync:se(Fn),needReadable:se(Un),emittedReadable:se(vh),readableListening:se(sw),resumeScheduled:se(aw),errorEmitted:se(ow),emitClose:se(Fa),autoDestroy:se(Ua),destroyed:se(uw),closed:se(lw),closeEmitted:se(cw),multiAwaitDrain:se(Eh),readingMore:se(fw),dataEmitted:se(hw)});function qn(e,t,i){typeof i!="boolean"&&(i=t instanceof Qe()),this.state=Fa|Ua|wh|Fn,e&&e.objectMode&&(this.state|=Ei),i&&e&&e.readableObjectMode&&(this.state|=Ei),this.highWaterMark=e?K_(this,e,"readableHighWaterMark",i):z_(!1),this.buffer=new Y_,this.length=0,this.pipes=[],this.flowing=null,this[Qt]=null,e&&e.emitClose===!1&&(this.state&=~Fa),e&&e.autoDestroy===!1&&(this.state&=~Ua),this.errored=null,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new yh(e.encoding),this.encoding=e.encoding)}s(qn,"ReadableState");function O(e){if(!(this instanceof O))return new O(e);let t=this instanceof Qe();this._readableState=new qn(e,this,t),e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.construct=="function"&&(this._construct=e.construct),e.signal&&!t&&G_(e.signal,this)),Pt.call(this,e),xi.construct(this,()=>{this._readableState.needReadable&&Vn(this,this._readableState)})}s(O,"Readable");O.prototype.destroy=xi.destroy;O.prototype._undestroy=xi.undestroy;O.prototype._destroy=function(e,t){t(e)};O.prototype[H_.captureRejectionSymbol]=function(e){this.destroy(e)};O.prototype[q_]=function(){let e;return this.destroyed||(e=this.readableEnded?null:new tw,this.destroy(e)),new mh((t,i)=>gh(this,r=>r&&r!==e?i(r):t(null)))};O.prototype.push=function(e,t){return xh(this,e,t,!1)};O.prototype.unshift=function(e,t){return xh(this,e,t,!0)};function xh(e,t,i,r){B("readableAddChunk",t);let n=e._readableState,a;if(n.state&Ei||(typeof t=="string"?(i=i||n.defaultEncoding,n.encoding!==i&&(r&&n.encoding?t=La.from(t,i).toString(n.encoding):(t=La.from(t,i),i=""))):t instanceof La?i="":Pt._isUint8Array(t)?(t=Pt._uint8ArrayToBuffer(t),i=""):t!=null&&(a=new X_("chunk",["string","Buffer","Uint8Array"],t))),a)vi(e,a);else if(t===null)n.state&=~Xi,bw(e,n);else if(n.state&Ei||t&&t.length>0)if(r)if(n.state&_h)vi(e,new ew);else{if(n.destroyed||n.errored)return!1;Da(e,n,t,!0)}else if(n.ended)vi(e,new Z_);else{if(n.destroyed||n.errored)return!1;n.state&=~Xi,n.decoder&&!i?(t=n.decoder.write(t),n.objectMode||t.length!==0?Da(e,n,t,!1):Vn(e,n)):Da(e,n,t,!1)}else r||(n.state&=~Xi,Vn(e,n));return!n.ended&&(n.length<n.highWaterMark||n.length===0)}s(xh,"readableAddChunk");function Da(e,t,i,r){t.flowing&&t.length===0&&!t.sync&&e.listenerCount("data")>0?(t.state&Eh?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",i)):(t.length+=t.objectMode?1:i.length,r?t.buffer.unshift(i):t.buffer.push(i),t.state&Un&&jn(e)),Vn(e,t)}s(Da,"addChunk");O.prototype.isPaused=function(){let e=this._readableState;return e[Qt]===!0||e.flowing===!1};O.prototype.setEncoding=function(e){let t=new yh(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;let i=this._readableState.buffer,r="";for(let n of i)r+=t.write(n);return i.clear(),r!==""&&i.push(r),this._readableState.length=r.length,this};var dw=1073741824;function pw(e){if(e>dw)throw new J_("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++,e}s(pw,"computeNewHighWaterMark");function ph(e,t){return e<=0||t.length===0&&t.ended?0:t.state&Ei?1:B_(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}s(ph,"howMuchToRead");O.prototype.read=function(e){B("read",e),e===void 0?e=NaN:M_(e)||(e=F_(e,10));let t=this._readableState,i=e;if(e>t.highWaterMark&&(t.highWaterMark=pw(e)),e!==0&&(t.state&=~vh),e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended))return B("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?Ma(this):jn(this),null;if(e=ph(e,t),e===0&&t.ended)return t.length===0&&Ma(this),null;let r=(t.state&Un)!==0;if(B("need readable",r),(t.length===0||t.length-e<t.highWaterMark)&&(r=!0,B("length less than watermark",r)),t.ended||t.reading||t.destroyed||t.errored||!t.constructed)r=!1,B("reading, ended or constructing",r);else if(r){B("do read"),t.state|=Xi|Fn,t.length===0&&(t.state|=Un);try{this._read(t.highWaterMark)}catch(a){vi(this,a)}t.state&=~Fn,t.reading||(e=ph(i,t))}let n;return e>0?n=Ih(e,t):n=null,n===null?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null),t.length===0&&(t.ended||(t.needReadable=!0),i!==e&&t.ended&&Ma(this)),n!==null&&!t.errorEmitted&&!t.closeEmitted&&(t.dataEmitted=!0,this.emit("data",n)),n};function bw(e,t){if(B("onEofChunk"),!t.ended){if(t.decoder){let i=t.decoder.end();i&&i.length&&(t.buffer.push(i),t.length+=t.objectMode?1:i.length)}t.ended=!0,t.sync?jn(e):(t.needReadable=!1,t.emittedReadable=!0,Sh(e))}}s(bw,"onEofChunk");function jn(e){let t=e._readableState;B("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(B("emitReadable",t.flowing),t.emittedReadable=!0,Ue.nextTick(Sh,e))}s(jn,"emitReadable");function Sh(e){let t=e._readableState;B("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&!t.errored&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,Ah(e)}s(Sh,"emitReadable_");function Vn(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,Ue.nextTick(mw,e,t))}s(Vn,"maybeReadMore");function mw(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){let i=t.length;if(B("maybeReadMore read 0"),e.read(0),i===t.length)break}t.readingMore=!1}s(mw,"maybeReadMore_");O.prototype._read=function(e){throw new Q_("_read()")};O.prototype.pipe=function(e,t){let i=this,r=this._readableState;r.pipes.length===1&&(r.multiAwaitDrain||(r.multiAwaitDrain=!0,r.awaitDrainWriters=new V_(r.awaitDrainWriters?[r.awaitDrainWriters]:[]))),r.pipes.push(e),B("pipe count=%d opts=%j",r.pipes.length,t);let a=(!t||t.end!==!1)&&e!==Ue.stdout&&e!==Ue.stderr?u:N;r.endEmitted?Ue.nextTick(a):i.once("end",a),e.on("unpipe",o);function o(A,M){B("onunpipe"),A===i&&M&&M.hasUnpiped===!1&&(M.hasUnpiped=!0,p())}s(o,"onunpipe");function u(){B("onend"),e.end()}s(u,"onend");let l,c=!1;function p(){B("cleanup"),e.removeListener("close",S),e.removeListener("finish",E),l&&e.removeListener("drain",l),e.removeListener("error",y),e.removeListener("unpipe",o),i.removeListener("end",u),i.removeListener("end",N),i.removeListener("data",v),c=!0,l&&r.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&l()}s(p,"cleanup");function g(){c||(r.pipes.length===1&&r.pipes[0]===e?(B("false write response, pause",0),r.awaitDrainWriters=e,r.multiAwaitDrain=!1):r.pipes.length>1&&r.pipes.includes(e)&&(B("false write response, pause",r.awaitDrainWriters.size),r.awaitDrainWriters.add(e)),i.pause()),l||(l=gw(i,e),e.on("drain",l))}s(g,"pause"),i.on("data",v);function v(A){B("ondata");let M=e.write(A);B("dest.write",M),M===!1&&g()}s(v,"ondata");function y(A){if(B("onerror",A),N(),e.removeListener("error",y),e.listenerCount("error")===0){let M=e._writableState||e._readableState;M&&!M.errorEmitted?vi(e,A):e.emit("error",A)}}s(y,"onerror"),$_(e,"error",y);function S(){e.removeListener("finish",E),N()}s(S,"onclose"),e.once("close",S);function E(){B("onfinish"),e.removeListener("close",S),N()}s(E,"onfinish"),e.once("finish",E);function N(){B("unpipe"),i.unpipe(e)}return s(N,"unpipe"),e.emit("pipe",i),e.writableNeedDrain===!0?g():r.flowing||(B("pipe resume"),i.resume()),e};function gw(e,t){return s(function(){let r=e._readableState;r.awaitDrainWriters===t?(B("pipeOnDrain",1),r.awaitDrainWriters=null):r.multiAwaitDrain&&(B("pipeOnDrain",r.awaitDrainWriters.size),r.awaitDrainWriters.delete(t)),(!r.awaitDrainWriters||r.awaitDrainWriters.size===0)&&e.listenerCount("data")&&e.resume()},"pipeOnDrainFunctionResult")}s(gw,"pipeOnDrain");O.prototype.unpipe=function(e){let t=this._readableState,i={hasUnpiped:!1};if(t.pipes.length===0)return this;if(!e){let n=t.pipes;t.pipes=[],this.pause();for(let a=0;a<n.length;a++)n[a].emit("unpipe",this,{hasUnpiped:!1});return this}let r=D_(t.pipes,e);return r===-1?this:(t.pipes.splice(r,1),t.pipes.length===0&&this.pause(),e.emit("unpipe",this,i),this)};O.prototype.on=function(e,t){let i=Pt.prototype.on.call(this,e,t),r=this._readableState;return e==="data"?(r.readableListening=this.listenerCount("readable")>0,r.flowing!==!1&&this.resume()):e==="readable"&&!r.endEmitted&&!r.readableListening&&(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,B("on readable",r.length,r.reading),r.length?jn(this):r.reading||Ue.nextTick(yw,this)),i};O.prototype.addListener=O.prototype.on;O.prototype.removeListener=function(e,t){let i=Pt.prototype.removeListener.call(this,e,t);return e==="readable"&&Ue.nextTick(Th,this),i};O.prototype.off=O.prototype.removeListener;O.prototype.removeAllListeners=function(e){let t=Pt.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&Ue.nextTick(Th,this),t};function Th(e){let t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&t[Qt]===!1?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}s(Th,"updateReadableListening");function yw(e){B("readable nexttick read 0"),e.read(0)}s(yw,"nReadingNextTick");O.prototype.resume=function(){let e=this._readableState;return e.flowing||(B("resume"),e.flowing=!e.readableListening,_w(this,e)),e[Qt]=!1,this};function _w(e,t){t.resumeScheduled||(t.resumeScheduled=!0,Ue.nextTick(ww,e,t))}s(_w,"resume");function ww(e,t){B("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),Ah(e),t.flowing&&!t.reading&&e.read(0)}s(ww,"resume_");O.prototype.pause=function(){return B("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(B("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Qt]=!0,this};function Ah(e){let t=e._readableState;for(B("flow",t.flowing);t.flowing&&e.read()!==null;);}s(Ah,"flow");O.prototype.wrap=function(e){let t=!1;e.on("data",r=>{!this.push(r)&&e.pause&&(t=!0,e.pause())}),e.on("end",()=>{this.push(null)}),e.on("error",r=>{vi(this,r)}),e.on("close",()=>{this.destroy()}),e.on("destroy",()=>{this.destroy()}),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};let i=U_(e);for(let r=1;r<i.length;r++){let n=i[r];this[n]===void 0&&typeof e[n]=="function"&&(this[n]=e[n].bind(e))}return this};O.prototype[j_]=function(){return Ch(this)};O.prototype.iterator=function(e){return e!==void 0&&iw(e,"options"),Ch(this,e)};function Ch(e,t){typeof e.read!="function"&&(e=O.wrap(e,{objectMode:!0}));let i=vw(e,t);return i.stream=e,i}s(Ch,"streamToAsyncIterator");async function*vw(e,t){let i=Oa;function r(o){this===e?(i(),i=Oa):i=o}s(r,"next"),e.on("readable",r);let n,a=gh(e,{writable:!1},o=>{n=o?dh(n,o):null,i(),i=Oa});try{for(;;){let o=e.destroyed?null:e.read();if(o!==null)yield o;else{if(n)throw n;if(n===null)return;await new mh(r)}}}catch(o){throw n=dh(n,o),n}finally{(n||(t==null?void 0:t.destroyOnReturn)!==!1)&&(n===void 0||e._readableState.autoDestroy)?xi.destroyer(e,null):(e.off("readable",r),a())}}s(vw,"createAsyncIterator");Va(O.prototype,{readable:{__proto__:null,get(){let e=this._readableState;return!!e&&e.readable!==!1&&!e.destroyed&&!e.errorEmitted&&!e.endEmitted},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:s(function(){return this._readableState.dataEmitted},"get")},readableAborted:{__proto__:null,enumerable:!1,get:s(function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)},"get")},readableHighWaterMark:{__proto__:null,enumerable:!1,get:s(function(){return this._readableState.highWaterMark},"get")},readableBuffer:{__proto__:null,enumerable:!1,get:s(function(){return this._readableState&&this._readableState.buffer},"get")},readableFlowing:{__proto__:null,enumerable:!1,get:s(function(){return this._readableState.flowing},"get"),set:s(function(e){this._readableState&&(this._readableState.flowing=e)},"set")},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});Va(qn.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[Qt]!==!1},set(e){this[Qt]=!!e}}});O._fromList=Ih;function Ih(e,t){if(t.length===0)return null;let i;return t.objectMode?i=t.buffer.shift():!e||e>=t.length?(t.decoder?i=t.buffer.join(""):t.buffer.length===1?i=t.buffer.first():i=t.buffer.concat(t.length),t.buffer.clear()):i=t.buffer.consume(e,t.decoder),i}s(Ih,"fromList");function Ma(e){let t=e._readableState;B("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,Ue.nextTick(Ew,t,e))}s(Ma,"endReadable");function Ew(e,t){if(B("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&e.length===0){if(e.endEmitted=!0,t.emit("end"),t.writable&&t.allowHalfOpen===!1)Ue.nextTick(xw,t);else if(e.autoDestroy){let i=t._writableState;(!i||i.autoDestroy&&(i.finished||i.writable===!1))&&t.destroy()}}}s(Ew,"endReadableNT");function xw(e){e.writable&&!e.writableEnded&&!e.destroyed&&e.end()}s(xw,"endWritableNT");O.from=function(e,t){return rw(O,e,t)};var Ba;function Rh(){return Ba===void 0&&(Ba={}),Ba}s(Rh,"lazyWebStreams");O.fromWeb=function(e,t){return Rh().newStreamReadableFromReadableStream(e,t)};O.toWeb=function(e,t){return Rh().newReadableStreamFromStreamReadable(e,t)};O.wrap=function(e,t){var i,r;return new O({objectMode:(i=(r=e.readableObjectMode)!==null&&r!==void 0?r:e.objectMode)!==null&&i!==void 0?i:!0,...t,destroy(n,a){xi.destroyer(e,n),a(n)}}).wrap(e)}});var Yn=x((NT,jh)=>{var Jt=Rt(),{ArrayPrototypeSlice:Lh,Error:Sw,FunctionPrototypeSymbolHasInstance:Oh,ObjectDefineProperty:Dh,ObjectDefineProperties:Tw,ObjectSetPrototypeOf:Mh,StringPrototypeToLowerCase:Aw,Symbol:Cw,SymbolHasInstance:Iw}=z();jh.exports=X;X.WritableState=er;var{EventEmitter:Rw}=Gi(),Ji=On().Stream,{Buffer:Wn}=at(),Gn=zt(),{addAbortSignal:Nw}=Yi(),{getHighWaterMark:Pw,getDefaultHighWaterMark:kw}=Ki(),{ERR_INVALID_ARG_TYPE:Lw,ERR_METHOD_NOT_IMPLEMENTED:Ow,ERR_MULTIPLE_CALLBACK:Bh,ERR_STREAM_CANNOT_PIPE:Dw,ERR_STREAM_DESTROYED:Zi,ERR_STREAM_ALREADY_FINISHED:Mw,ERR_STREAM_NULL_VALUES:Bw,ERR_STREAM_WRITE_AFTER_END:Fw,ERR_UNKNOWN_ENCODING:Fh}=ge().codes,{errorOrDestroy:Si}=Gn;Mh(X.prototype,Ji.prototype);Mh(X,Ji);function Wa(){}s(Wa,"nop");var Ti=Cw("kOnFinished");function er(e,t,i){typeof i!="boolean"&&(i=t instanceof Qe()),this.objectMode=!!(e&&e.objectMode),i&&(this.objectMode=this.objectMode||!!(e&&e.writableObjectMode)),this.highWaterMark=e?Pw(this,e,"writableHighWaterMark",i):kw(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let r=!!(e&&e.decodeStrings===!1);this.decodeStrings=!r,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=Vw.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,$n(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||e.emitClose!==!1,this.autoDestroy=!e||e.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Ti]=[]}s(er,"WritableState");function $n(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}s($n,"resetBuffer");er.prototype.getBuffer=s(function(){return Lh(this.buffered,this.bufferedIndex)},"getBuffer");Dh(er.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function X(e){let t=this instanceof Qe();if(!t&&!Oh(X,this))return new X(e);this._writableState=new er(e,this,t),e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final),typeof e.construct=="function"&&(this._construct=e.construct),e.signal&&Nw(e.signal,this)),Ji.call(this,e),Gn.construct(this,()=>{let i=this._writableState;i.writing||$a(this,i),Ga(this,i)})}s(X,"Writable");Dh(X,Iw,{__proto__:null,value:s(function(e){return Oh(this,e)?!0:this!==X?!1:e&&e._writableState instanceof er},"value")});X.prototype.pipe=function(){Si(this,new Dw)};function Uh(e,t,i,r){let n=e._writableState;if(typeof i=="function")r=i,i=n.defaultEncoding;else{if(!i)i=n.defaultEncoding;else if(i!=="buffer"&&!Wn.isEncoding(i))throw new Fh(i);typeof r!="function"&&(r=Wa)}if(t===null)throw new Bw;if(!n.objectMode)if(typeof t=="string")n.decodeStrings!==!1&&(t=Wn.from(t,i),i="buffer");else if(t instanceof Wn)i="buffer";else if(Ji._isUint8Array(t))t=Ji._uint8ArrayToBuffer(t),i="buffer";else throw new Lw("chunk",["string","Buffer","Uint8Array"],t);let a;return n.ending?a=new Fw:n.destroyed&&(a=new Zi("write")),a?(Jt.nextTick(r,a),Si(e,a,!0),a):(n.pendingcb++,Uw(e,n,t,i,r))}s(Uh,"_write");X.prototype.write=function(e,t,i){return Uh(this,e,t,i)===!0};X.prototype.cork=function(){this._writableState.corked++};X.prototype.uncork=function(){let e=this._writableState;e.corked&&(e.corked--,e.writing||$a(this,e))};X.prototype.setDefaultEncoding=s(function(t){if(typeof t=="string"&&(t=Aw(t)),!Wn.isEncoding(t))throw new Fh(t);return this._writableState.defaultEncoding=t,this},"setDefaultEncoding");function Uw(e,t,i,r,n){let a=t.objectMode?1:i.length;t.length+=a;let o=t.length<t.highWaterMark;return o||(t.needDrain=!0),t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:i,encoding:r,callback:n}),t.allBuffers&&r!=="buffer"&&(t.allBuffers=!1),t.allNoop&&n!==Wa&&(t.allNoop=!1)):(t.writelen=a,t.writecb=n,t.writing=!0,t.sync=!0,e._write(i,r,t.onwrite),t.sync=!1),o&&!t.errored&&!t.destroyed}s(Uw,"writeOrBuffer");function Ph(e,t,i,r,n,a,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new Zi("write")):i?e._writev(n,t.onwrite):e._write(n,a,t.onwrite),t.sync=!1}s(Ph,"doWrite");function kh(e,t,i,r){--t.pendingcb,r(i),Ha(t),Si(e,i)}s(kh,"onwriteError");function Vw(e,t){let i=e._writableState,r=i.sync,n=i.writecb;if(typeof n!="function"){Si(e,new Bh);return}i.writing=!1,i.writecb=null,i.length-=i.writelen,i.writelen=0,t?(t.stack,i.errored||(i.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),r?Jt.nextTick(kh,e,i,t,n):kh(e,i,t,n)):(i.buffered.length>i.bufferedIndex&&$a(e,i),r?i.afterWriteTickInfo!==null&&i.afterWriteTickInfo.cb===n?i.afterWriteTickInfo.count++:(i.afterWriteTickInfo={count:1,cb:n,stream:e,state:i},Jt.nextTick(qw,i.afterWriteTickInfo)):Vh(e,i,1,n))}s(Vw,"onwrite");function qw({stream:e,state:t,count:i,cb:r}){return t.afterWriteTickInfo=null,Vh(e,t,i,r)}s(qw,"afterWriteTick");function Vh(e,t,i,r){for(!t.ending&&!e.destroyed&&t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"));i-- >0;)t.pendingcb--,r();t.destroyed&&Ha(t),Ga(e,t)}s(Vh,"afterWrite");function Ha(e){if(e.writing)return;for(let n=e.bufferedIndex;n<e.buffered.length;++n){var t;let{chunk:a,callback:o}=e.buffered[n],u=e.objectMode?1:a.length;e.length-=u,o((t=e.errored)!==null&&t!==void 0?t:new Zi("write"))}let i=e[Ti].splice(0);for(let n=0;n<i.length;n++){var r;i[n]((r=e.errored)!==null&&r!==void 0?r:new Zi("end"))}$n(e)}s(Ha,"errorBuffer");function $a(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;let{buffered:i,bufferedIndex:r,objectMode:n}=t,a=i.length-r;if(!a)return;let o=r;if(t.bufferProcessing=!0,a>1&&e._writev){t.pendingcb-=a-1;let u=t.allNoop?Wa:c=>{for(let p=o;p<i.length;++p)i[p].callback(c)},l=t.allNoop&&o===0?i:Lh(i,o);l.allBuffers=t.allBuffers,Ph(e,t,!0,t.length,l,"",u),$n(t)}else{do{let{chunk:u,encoding:l,callback:c}=i[o];i[o++]=null;let p=n?1:u.length;Ph(e,t,!1,p,u,l,c)}while(o<i.length&&!t.writing);o===i.length?$n(t):o>256?(i.splice(0,o),t.bufferedIndex=0):t.bufferedIndex=o}t.bufferProcessing=!1}s($a,"clearBuffer");X.prototype._write=function(e,t,i){if(this._writev)this._writev([{chunk:e,encoding:t}],i);else throw new Ow("_write()")};X.prototype._writev=null;X.prototype.end=function(e,t,i){let r=this._writableState;typeof e=="function"?(i=e,e=null,t=null):typeof t=="function"&&(i=t,t=null);let n;if(e!=null){let a=Uh(this,e,t);a instanceof Sw&&(n=a)}return r.corked&&(r.corked=1,this.uncork()),n||(!r.errored&&!r.ending?(r.ending=!0,Ga(this,r,!0),r.ended=!0):r.finished?n=new Mw("end"):r.destroyed&&(n=new Zi("end"))),typeof i=="function"&&(n||r.finished?Jt.nextTick(i,n):r[Ti].push(i)),this};function Hn(e){return e.ending&&!e.destroyed&&e.constructed&&e.length===0&&!e.errored&&e.buffered.length===0&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}s(Hn,"needFinish");function jw(e,t){let i=!1;function r(n){if(i){Si(e,n!=null?n:Bh());return}if(i=!0,t.pendingcb--,n){let a=t[Ti].splice(0);for(let o=0;o<a.length;o++)a[o](n);Si(e,n,t.sync)}else Hn(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,Jt.nextTick(ja,e,t))}s(r,"onFinish"),t.sync=!0,t.pendingcb++;try{e._final(r)}catch(n){r(n)}t.sync=!1}s(jw,"callFinal");function Ww(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"&&!t.destroyed?(t.finalCalled=!0,jw(e,t)):(t.prefinished=!0,e.emit("prefinish")))}s(Ww,"prefinish");function Ga(e,t,i){Hn(t)&&(Ww(e,t),t.pendingcb===0&&(i?(t.pendingcb++,Jt.nextTick((r,n)=>{Hn(n)?ja(r,n):n.pendingcb--},e,t)):Hn(t)&&(t.pendingcb++,ja(e,t))))}s(Ga,"finishMaybe");function ja(e,t){t.pendingcb--,t.finished=!0;let i=t[Ti].splice(0);for(let r=0;r<i.length;r++)i[r]();if(e.emit("finish"),t.autoDestroy){let r=e._readableState;(!r||r.autoDestroy&&(r.endEmitted||r.readable===!1))&&e.destroy()}}s(ja,"finish");Tw(X.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){let e=this._writableState;return!!e&&e.writable!==!1&&!e.destroyed&&!e.errored&&!e.ending&&!e.ended},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let e=this._writableState;return e?!e.destroyed&&!e.ending&&e.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:s(function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)},"get")}});var Hw=Gn.destroy;X.prototype.destroy=function(e,t){let i=this._writableState;return!i.destroyed&&(i.bufferedIndex<i.buffered.length||i[Ti].length)&&Jt.nextTick(Ha,i),Hw.call(this,e,t),this};X.prototype._undestroy=Gn.undestroy;X.prototype._destroy=function(e,t){t(e)};X.prototype[Rw.captureRejectionSymbol]=function(e){this.destroy(e)};var qa;function qh(){return qa===void 0&&(qa={}),qa}s(qh,"lazyWebStreams");X.fromWeb=function(e,t){return qh().newStreamWritableFromWritableStream(e,t)};X.toWeb=function(e){return qh().newWritableStreamFromStreamWritable(e)}});var rd=x((kT,id)=>{var Ya=Rt(),$w=at(),{isReadable:Gw,isWritable:Yw,isIterable:Wh,isNodeStream:Kw,isReadableNodeStream:Hh,isWritableNodeStream:$h,isDuplexNodeStream:zw,isReadableStream:Gh,isWritableStream:Yh}=Ke(),Kh=lt(),{AbortError:ed,codes:{ERR_INVALID_ARG_TYPE:Xw,ERR_INVALID_RETURN_VALUE:zh}}=ge(),{destroyer:Ci}=zt(),Qw=Qe(),td=Qi(),Jw=Yn(),{createDeferredPromise:Xh}=pe(),Qh=ka(),Jh=globalThis.Blob||$w.Blob,Zw=s(typeof Jh<"u"?function(t){return t instanceof Jh}:function(t){return!1},"isBlob"),e1=globalThis.AbortController||pi().AbortController,{FunctionPrototypeCall:Zh}=z(),Ka=class Ka extends Qw{constructor(t){super(t),(t==null?void 0:t.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(t==null?void 0:t.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};s(Ka,"Duplexify");var kt=Ka;id.exports=s(function e(t,i){if(zw(t))return t;if(Hh(t))return Ai({readable:t});if($h(t))return Ai({writable:t});if(Kw(t))return Ai({writable:!1,readable:!1});if(Gh(t))return Ai({readable:td.fromWeb(t)});if(Yh(t))return Ai({writable:Jw.fromWeb(t)});if(typeof t=="function"){let{value:n,write:a,final:o,destroy:u}=t1(t);if(Wh(n))return Qh(kt,n,{objectMode:!0,write:a,final:o,destroy:u});let l=n==null?void 0:n.then;if(typeof l=="function"){let c,p=Zh(l,n,g=>{if(g!=null)throw new zh("nully","body",g)},g=>{Ci(c,g)});return c=new kt({objectMode:!0,readable:!1,write:a,final(g){o(async()=>{try{await p,Ya.nextTick(g,null)}catch(v){Ya.nextTick(g,v)}})},destroy:u})}throw new zh("Iterable, AsyncIterable or AsyncFunction",i,n)}if(Zw(t))return e(t.arrayBuffer());if(Wh(t))return Qh(kt,t,{objectMode:!0,writable:!1});if(Gh(t==null?void 0:t.readable)&&Yh(t==null?void 0:t.writable))return kt.fromWeb(t);if(typeof(t==null?void 0:t.writable)=="object"||typeof(t==null?void 0:t.readable)=="object"){let n=t!=null&&t.readable?Hh(t==null?void 0:t.readable)?t==null?void 0:t.readable:e(t.readable):void 0,a=t!=null&&t.writable?$h(t==null?void 0:t.writable)?t==null?void 0:t.writable:e(t.writable):void 0;return Ai({readable:n,writable:a})}let r=t==null?void 0:t.then;if(typeof r=="function"){let n;return Zh(r,t,a=>{a!=null&&n.push(a),n.push(null)},a=>{Ci(n,a)}),n=new kt({objectMode:!0,writable:!1,read(){}})}throw new Xw(i,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)},"duplexify");function t1(e){let{promise:t,resolve:i}=Xh(),r=new e1,n=r.signal;return{value:e(async function*(){for(;;){let o=t;t=null;let{chunk:u,done:l,cb:c}=await o;if(Ya.nextTick(c),l)return;if(n.aborted)throw new ed(void 0,{cause:n.reason});({promise:t,resolve:i}=Xh()),yield u}}(),{signal:n}),write(o,u,l){let c=i;i=null,c({chunk:o,done:!1,cb:l})},final(o){let u=i;i=null,u({done:!0,cb:o})},destroy(o,u){r.abort(),u(o)}}}s(t1,"fromAsyncGen");function Ai(e){let t=e.readable&&typeof e.readable.read!="function"?td.wrap(e.readable):e.readable,i=e.writable,r=!!Gw(t),n=!!Yw(i),a,o,u,l,c;function p(g){let v=l;l=null,v?v(g):g&&c.destroy(g)}return s(p,"onfinished"),c=new kt({readableObjectMode:!!(t!=null&&t.readableObjectMode),writableObjectMode:!!(i!=null&&i.writableObjectMode),readable:r,writable:n}),n&&(Kh(i,g=>{n=!1,g&&Ci(t,g),p(g)}),c._write=function(g,v,y){i.write(g,v)?y():a=y},c._final=function(g){i.end(),o=g},i.on("drain",function(){if(a){let g=a;a=null,g()}}),i.on("finish",function(){if(o){let g=o;o=null,g()}})),r&&(Kh(t,g=>{r=!1,g&&Ci(t,g),p(g)}),t.on("readable",function(){if(u){let g=u;u=null,g()}}),t.on("end",function(){c.push(null)}),c._read=function(){for(;;){let g=t.read();if(g===null){u=c._read;return}if(!c.push(g))return}}),c._destroy=function(g,v){!g&&l!==null&&(g=new ed),u=null,a=null,o=null,l===null?v(g):(l=v,Ci(i,g),Ci(t,g))},c}s(Ai,"_duplexify")});var Qe=x((OT,ad)=>{"use strict";var{ObjectDefineProperties:i1,ObjectGetOwnPropertyDescriptor:ct,ObjectKeys:r1,ObjectSetPrototypeOf:nd}=z();ad.exports=Ve;var Qa=Qi(),Pe=Yn();nd(Ve.prototype,Qa.prototype);nd(Ve,Qa);{let e=r1(Pe.prototype);for(let t=0;t<e.length;t++){let i=e[t];Ve.prototype[i]||(Ve.prototype[i]=Pe.prototype[i])}}function Ve(e){if(!(this instanceof Ve))return new Ve(e);Qa.call(this,e),Pe.call(this,e),e?(this.allowHalfOpen=e.allowHalfOpen!==!1,e.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}s(Ve,"Duplex");i1(Ve.prototype,{writable:{__proto__:null,...ct(Pe.prototype,"writable")},writableHighWaterMark:{__proto__:null,...ct(Pe.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...ct(Pe.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...ct(Pe.prototype,"writableBuffer")},writableLength:{__proto__:null,...ct(Pe.prototype,"writableLength")},writableFinished:{__proto__:null,...ct(Pe.prototype,"writableFinished")},writableCorked:{__proto__:null,...ct(Pe.prototype,"writableCorked")},writableEnded:{__proto__:null,...ct(Pe.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...ct(Pe.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}});var za;function sd(){return za===void 0&&(za={}),za}s(sd,"lazyWebStreams");Ve.fromWeb=function(e,t){return sd().newStreamDuplexFromReadableWritablePair(e,t)};Ve.toWeb=function(e){return sd().newReadableWritablePairFromDuplex(e)};var Xa;Ve.from=function(e){return Xa||(Xa=rd()),Xa(e,"body")}});var eo=x((MT,ud)=>{"use strict";var{ObjectSetPrototypeOf:od,Symbol:n1}=z();ud.exports=ft;var{ERR_METHOD_NOT_IMPLEMENTED:s1}=ge().codes,Za=Qe(),{getHighWaterMark:a1}=Ki();od(ft.prototype,Za.prototype);od(ft,Za);var tr=n1("kCallback");function ft(e){if(!(this instanceof ft))return new ft(e);let t=e?a1(this,e,"readableHighWaterMark",!0):null;t===0&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),Za.call(this,e),this._readableState.sync=!1,this[tr]=null,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",o1)}s(ft,"Transform");function Ja(e){typeof this._flush=="function"&&!this.destroyed?this._flush((t,i)=>{if(t){e?e(t):this.destroy(t);return}i!=null&&this.push(i),this.push(null),e&&e()}):(this.push(null),e&&e())}s(Ja,"final");function o1(){this._final!==Ja&&Ja.call(this)}s(o1,"prefinish");ft.prototype._final=Ja;ft.prototype._transform=function(e,t,i){throw new s1("_transform()")};ft.prototype._write=function(e,t,i){let r=this._readableState,n=this._writableState,a=r.length;this._transform(e,t,(o,u)=>{if(o){i(o);return}u!=null&&this.push(u),n.ended||a===r.length||r.length<r.highWaterMark?i():this[tr]=i})};ft.prototype._read=function(){if(this[tr]){let e=this[tr];this[tr]=null,e()}}});var io=x((FT,cd)=>{"use strict";var{ObjectSetPrototypeOf:ld}=z();cd.exports=Ii;var to=eo();ld(Ii.prototype,to.prototype);ld(Ii,to);function Ii(e){if(!(this instanceof Ii))return new Ii(e);to.call(this,e)}s(Ii,"PassThrough");Ii.prototype._transform=function(e,t,i){i(null,e)}});var Qn=x((VT,bd)=>{var ir=Rt(),{ArrayIsArray:u1,Promise:l1,SymbolAsyncIterator:c1,SymbolDispose:f1}=z(),Xn=lt(),{once:h1}=pe(),d1=zt(),fd=Qe(),{aggregateTwoErrors:p1,codes:{ERR_INVALID_ARG_TYPE:fo,ERR_INVALID_RETURN_VALUE:ro,ERR_MISSING_ARGS:b1,ERR_STREAM_DESTROYED:m1,ERR_STREAM_PREMATURE_CLOSE:g1},AbortError:y1}=ge(),{validateFunction:_1,validateAbortSignal:w1}=gi(),{isIterable:Zt,isReadable:no,isReadableNodeStream:zn,isNodeStream:hd,isTransformStream:Ri,isWebStream:v1,isReadableStream:so,isReadableFinished:E1}=Ke(),x1=globalThis.AbortController||pi().AbortController,ao,oo,uo;function dd(e,t,i){let r=!1;e.on("close",()=>{r=!0});let n=Xn(e,{readable:t,writable:i},a=>{r=!a});return{destroy:s(a=>{r||(r=!0,d1.destroyer(e,a||new m1("pipe")))},"destroy"),cleanup:n}}s(dd,"destroyer");function S1(e){return _1(e[e.length-1],"streams[stream.length - 1]"),e.pop()}s(S1,"popCallback");function lo(e){if(Zt(e))return e;if(zn(e))return T1(e);throw new fo("val",["Readable","Iterable","AsyncIterable"],e)}s(lo,"makeAsyncIterable");async function*T1(e){oo||(oo=Qi()),yield*oo.prototype[c1].call(e)}s(T1,"fromReadable");async function Kn(e,t,i,{end:r}){let n,a=null,o=s(c=>{if(c&&(n=c),a){let p=a;a=null,p()}},"resume"),u=s(()=>new l1((c,p)=>{n?p(n):a=s(()=>{n?p(n):c()},"onresolve")}),"wait");t.on("drain",o);let l=Xn(t,{readable:!1},o);try{t.writableNeedDrain&&await u();for await(let c of e)t.write(c)||await u();r&&(t.end(),await u()),i()}catch(c){i(n!==c?p1(n,c):c)}finally{l(),t.off("drain",o)}}s(Kn,"pumpToNode");async function co(e,t,i,{end:r}){Ri(t)&&(t=t.writable);let n=t.getWriter();try{for await(let a of e)await n.ready,n.write(a).catch(()=>{});await n.ready,r&&await n.close(),i()}catch(a){try{await n.abort(a),i(a)}catch(o){i(o)}}}s(co,"pumpToWeb");function A1(...e){return pd(e,h1(S1(e)))}s(A1,"pipeline");function pd(e,t,i){if(e.length===1&&u1(e[0])&&(e=e[0]),e.length<2)throw new b1("streams");let r=new x1,n=r.signal,a=i==null?void 0:i.signal,o=[];w1(a,"options.signal");function u(){S(new y1)}s(u,"abort"),uo=uo||pe().addAbortListener;let l;a&&(l=uo(a,u));let c,p,g=[],v=0;function y(k){S(k,--v===0)}s(y,"finish");function S(k,R){var j;if(k&&(!c||c.code==="ERR_STREAM_PREMATURE_CLOSE")&&(c=k),!(!c&&!R)){for(;g.length;)g.shift()(c);(j=l)===null||j===void 0||j[f1](),r.abort(),R&&(c||o.forEach(J=>J()),ir.nextTick(t,c,p))}}s(S,"finishImpl");let E;for(let k=0;k<e.length;k++){let R=e[k],j=k<e.length-1,J=k>0,ue=j||(i==null?void 0:i.end)!==!1,m=k===e.length-1;if(hd(R)){let Q=function(te){te&&te.name!=="AbortError"&&te.code!=="ERR_STREAM_PREMATURE_CLOSE"&&y(te)};var M=Q;if(s(Q,"onError"),ue){let{destroy:te,cleanup:W}=dd(R,j,J);g.push(te),no(R)&&m&&o.push(W)}R.on("error",Q),no(R)&&m&&o.push(()=>{R.removeListener("error",Q)})}if(k===0)if(typeof R=="function"){if(E=R({signal:n}),!Zt(E))throw new ro("Iterable, AsyncIterable or Stream","source",E)}else Zt(R)||zn(R)||Ri(R)?E=R:E=fd.from(R);else if(typeof R=="function"){if(Ri(E)){var N;E=lo((N=E)===null||N===void 0?void 0:N.readable)}else E=lo(E);if(E=R(E,{signal:n}),j){if(!Zt(E,!0))throw new ro("AsyncIterable",`transform[${k-1}]`,E)}else{var A;ao||(ao=io());let Q=new ao({objectMode:!0}),te=(A=E)===null||A===void 0?void 0:A.then;if(typeof te=="function")v++,te.call(E,ce=>{p=ce,ce!=null&&Q.write(ce),ue&&Q.end(),ir.nextTick(y)},ce=>{Q.destroy(ce),ir.nextTick(y,ce)});else if(Zt(E,!0))v++,Kn(E,Q,y,{end:ue});else if(so(E)||Ri(E)){let ce=E.readable||E;v++,Kn(ce,Q,y,{end:ue})}else throw new ro("AsyncIterable or Promise","destination",E);E=Q;let{destroy:W,cleanup:Ae}=dd(E,!1,!0);g.push(W),m&&o.push(Ae)}}else if(hd(R)){if(zn(E)){v+=2;let Q=C1(E,R,y,{end:ue});no(R)&&m&&o.push(Q)}else if(Ri(E)||so(E)){let Q=E.readable||E;v++,Kn(Q,R,y,{end:ue})}else if(Zt(E))v++,Kn(E,R,y,{end:ue});else throw new fo("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],E);E=R}else if(v1(R)){if(zn(E))v++,co(lo(E),R,y,{end:ue});else if(so(E)||Zt(E))v++,co(E,R,y,{end:ue});else if(Ri(E))v++,co(E.readable,R,y,{end:ue});else throw new fo("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],E);E=R}else E=fd.from(R)}return(n!=null&&n.aborted||a!=null&&a.aborted)&&ir.nextTick(u),E}s(pd,"pipelineImpl");function C1(e,t,i,{end:r}){let n=!1;if(t.on("close",()=>{n||i(new g1)}),e.pipe(t,{end:!1}),r){let o=function(){n=!0,t.end()};var a=o;s(o,"endFn"),E1(e)?ir.nextTick(o):e.once("end",o)}else i();return Xn(e,{readable:!0,writable:!1},o=>{let u=e._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&u&&u.ended&&!u.errored&&!u.errorEmitted?e.once("end",i).once("error",i):i(o)}),Xn(t,{readable:!1,writable:!0},i)}s(C1,"pipe");bd.exports={pipelineImpl:pd,pipeline:A1}});var po=x((jT,vd)=>{"use strict";var{pipeline:I1}=Qn(),Jn=Qe(),{destroyer:R1}=zt(),{isNodeStream:Zn,isReadable:md,isWritable:gd,isWebStream:ho,isTransformStream:ei,isWritableStream:yd,isReadableStream:_d}=Ke(),{AbortError:N1,codes:{ERR_INVALID_ARG_VALUE:wd,ERR_MISSING_ARGS:P1}}=ge(),k1=lt();vd.exports=s(function(...t){if(t.length===0)throw new P1("streams");if(t.length===1)return Jn.from(t[0]);let i=[...t];if(typeof t[0]=="function"&&(t[0]=Jn.from(t[0])),typeof t[t.length-1]=="function"){let y=t.length-1;t[y]=Jn.from(t[y])}for(let y=0;y<t.length;++y)if(!(!Zn(t[y])&&!ho(t[y]))){if(y<t.length-1&&!(md(t[y])||_d(t[y])||ei(t[y])))throw new wd(`streams[${y}]`,i[y],"must be readable");if(y>0&&!(gd(t[y])||yd(t[y])||ei(t[y])))throw new wd(`streams[${y}]`,i[y],"must be writable")}let r,n,a,o,u;function l(y){let S=o;o=null,S?S(y):y?u.destroy(y):!v&&!g&&u.destroy()}s(l,"onfinished");let c=t[0],p=I1(t,l),g=!!(gd(c)||yd(c)||ei(c)),v=!!(md(p)||_d(p)||ei(p));if(u=new Jn({writableObjectMode:!!(c!=null&&c.writableObjectMode),readableObjectMode:!!(p!=null&&p.readableObjectMode),writable:g,readable:v}),g){if(Zn(c))u._write=function(S,E,N){c.write(S,E)?N():r=N},u._final=function(S){c.end(),n=S},c.on("drain",function(){if(r){let S=r;r=null,S()}});else if(ho(c)){let E=(ei(c)?c.writable:c).getWriter();u._write=async function(N,A,M){try{await E.ready,E.write(N).catch(()=>{}),M()}catch(k){M(k)}},u._final=async function(N){try{await E.ready,E.close().catch(()=>{}),n=N}catch(A){N(A)}}}let y=ei(p)?p.readable:p;k1(y,()=>{if(n){let S=n;n=null,S()}})}if(v){if(Zn(p))p.on("readable",function(){if(a){let y=a;a=null,y()}}),p.on("end",function(){u.push(null)}),u._read=function(){for(;;){let y=p.read();if(y===null){a=u._read;return}if(!u.push(y))return}};else if(ho(p)){let S=(ei(p)?p.readable:p).getReader();u._read=async function(){for(;;)try{let{value:E,done:N}=await S.read();if(!u.push(E))return;if(N){u.push(null);return}}catch{return}}}}return u._destroy=function(y,S){!y&&o!==null&&(y=new N1),a=null,r=null,n=null,o===null?S(y):(o=S,Zn(p)&&R1(p,y))},u},"compose")});var Pd=x((HT,go)=>{"use strict";var L1=globalThis.AbortController||pi().AbortController,{codes:{ERR_INVALID_ARG_VALUE:O1,ERR_INVALID_ARG_TYPE:rr,ERR_MISSING_ARGS:D1,ERR_OUT_OF_RANGE:M1},AbortError:Je}=ge(),{validateAbortSignal:ti,validateInteger:Ed,validateObject:ii}=gi(),B1=z().Symbol("kWeak"),F1=z().Symbol("kResistStopPropagation"),{finished:U1}=lt(),V1=po(),{addAbortSignalNoValidate:q1}=Yi(),{isWritable:j1,isNodeStream:W1}=Ke(),{deprecate:H1}=pe(),{ArrayPrototypePush:$1,Boolean:G1,MathFloor:xd,Number:Y1,NumberIsNaN:K1,Promise:Sd,PromiseReject:Td,PromiseResolve:z1,PromisePrototypeThen:Ad,Symbol:Id}=z(),es=Id("kEmpty"),Cd=Id("kEof");function X1(e,t){if(t!=null&&ii(t,"options"),(t==null?void 0:t.signal)!=null&&ti(t.signal,"options.signal"),W1(e)&&!j1(e))throw new O1("stream",e,"must be writable");let i=V1(this,e);return t!=null&&t.signal&&q1(t.signal,i),i}s(X1,"compose");function ts(e,t){if(typeof e!="function")throw new rr("fn",["Function","AsyncFunction"],e);t!=null&&ii(t,"options"),(t==null?void 0:t.signal)!=null&&ti(t.signal,"options.signal");let i=1;(t==null?void 0:t.concurrency)!=null&&(i=xd(t.concurrency));let r=i-1;return(t==null?void 0:t.highWaterMark)!=null&&(r=xd(t.highWaterMark)),Ed(i,"options.concurrency",1),Ed(r,"options.highWaterMark",0),r+=i,s(async function*(){let a=pe().AbortSignalAny([t==null?void 0:t.signal].filter(G1)),o=this,u=[],l={signal:a},c,p,g=!1,v=0;function y(){g=!0,S()}s(y,"onCatch");function S(){v-=1,E()}s(S,"afterItemProcessed");function E(){p&&!g&&v<i&&u.length<r&&(p(),p=null)}s(E,"maybeResume");async function N(){try{for await(let A of o){if(g)return;if(a.aborted)throw new Je;try{if(A=e(A,l),A===es)continue;A=z1(A)}catch(M){A=Td(M)}v+=1,Ad(A,S,y),u.push(A),c&&(c(),c=null),!g&&(u.length>=r||v>=i)&&await new Sd(M=>{p=M})}u.push(Cd)}catch(A){let M=Td(A);Ad(M,S,y),u.push(M)}finally{g=!0,c&&(c(),c=null)}}s(N,"pump"),N();try{for(;;){for(;u.length>0;){let A=await u[0];if(A===Cd)return;if(a.aborted)throw new Je;A!==es&&(yield A),u.shift(),E()}await new Sd(A=>{c=A})}}finally{g=!0,p&&(p(),p=null)}},"map").call(this)}s(ts,"map");function Q1(e=void 0){return e!=null&&ii(e,"options"),(e==null?void 0:e.signal)!=null&&ti(e.signal,"options.signal"),s(async function*(){let i=0;for await(let n of this){var r;if(e!=null&&(r=e.signal)!==null&&r!==void 0&&r.aborted)throw new Je({cause:e.signal.reason});yield[i++,n]}},"asIndexedPairs").call(this)}s(Q1,"asIndexedPairs");async function Rd(e,t=void 0){for await(let i of mo.call(this,e,t))return!0;return!1}s(Rd,"some");async function J1(e,t=void 0){if(typeof e!="function")throw new rr("fn",["Function","AsyncFunction"],e);return!await Rd.call(this,async(...i)=>!await e(...i),t)}s(J1,"every");async function Z1(e,t){for await(let i of mo.call(this,e,t))return i}s(Z1,"find");async function ev(e,t){if(typeof e!="function")throw new rr("fn",["Function","AsyncFunction"],e);async function i(r,n){return await e(r,n),es}s(i,"forEachFn");for await(let r of ts.call(this,i,t));}s(ev,"forEach");function mo(e,t){if(typeof e!="function")throw new rr("fn",["Function","AsyncFunction"],e);async function i(r,n){return await e(r,n)?r:es}return s(i,"filterFn"),ts.call(this,i,t)}s(mo,"filter");var yo=class yo extends D1{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};s(yo,"ReduceAwareErrMissingArgs");var bo=yo;async function tv(e,t,i){var r;if(typeof e!="function")throw new rr("reducer",["Function","AsyncFunction"],e);i!=null&&ii(i,"options"),(i==null?void 0:i.signal)!=null&&ti(i.signal,"options.signal");let n=arguments.length>1;if(i!=null&&(r=i.signal)!==null&&r!==void 0&&r.aborted){let c=new Je(void 0,{cause:i.signal.reason});throw this.once("error",()=>{}),await U1(this.destroy(c)),c}let a=new L1,o=a.signal;if(i!=null&&i.signal){let c={once:!0,[B1]:this,[F1]:!0};i.signal.addEventListener("abort",()=>a.abort(),c)}let u=!1;try{for await(let c of this){var l;if(u=!0,i!=null&&(l=i.signal)!==null&&l!==void 0&&l.aborted)throw new Je;n?t=await e(t,c,{signal:o}):(t=c,n=!0)}if(!u&&!n)throw new bo}finally{a.abort()}return t}s(tv,"reduce");async function iv(e){e!=null&&ii(e,"options"),(e==null?void 0:e.signal)!=null&&ti(e.signal,"options.signal");let t=[];for await(let r of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Je(void 0,{cause:e.signal.reason});$1(t,r)}return t}s(iv,"toArray");function rv(e,t){let i=ts.call(this,e,t);return s(async function*(){for await(let n of i)yield*n},"flatMap").call(this)}s(rv,"flatMap");function Nd(e){if(e=Y1(e),K1(e))return 0;if(e<0)throw new M1("number",">= 0",e);return e}s(Nd,"toIntegerOrInfinity");function nv(e,t=void 0){return t!=null&&ii(t,"options"),(t==null?void 0:t.signal)!=null&&ti(t.signal,"options.signal"),e=Nd(e),s(async function*(){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new Je;for await(let a of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Je;e--<=0&&(yield a)}},"drop").call(this)}s(nv,"drop");function sv(e,t=void 0){return t!=null&&ii(t,"options"),(t==null?void 0:t.signal)!=null&&ti(t.signal,"options.signal"),e=Nd(e),s(async function*(){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new Je;for await(let a of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Je;if(e-- >0&&(yield a),e<=0)return}},"take").call(this)}s(sv,"take");go.exports.streamReturningOperators={asIndexedPairs:H1(Q1,"readable.asIndexedPairs will be removed in a future version."),drop:nv,filter:mo,flatMap:rv,map:ts,take:sv,compose:X1};go.exports.promiseReturningOperators={every:J1,forEach:ev,reduce:tv,toArray:iv,some:Rd,find:Z1}});var _o=x((GT,kd)=>{"use strict";var{ArrayPrototypePop:av,Promise:ov}=z(),{isIterable:uv,isNodeStream:lv,isWebStream:cv}=Ke(),{pipelineImpl:fv}=Qn(),{finished:hv}=lt();wo();function dv(...e){return new ov((t,i)=>{let r,n,a=e[e.length-1];if(a&&typeof a=="object"&&!lv(a)&&!uv(a)&&!cv(a)){let o=av(e);r=o.signal,n=o.end}fv(e,(o,u)=>{o?i(o):t(u)},{signal:r,end:n})})}s(dv,"pipeline");kd.exports={finished:hv,pipeline:dv}});var wo=x((KT,qd)=>{var{Buffer:pv}=at(),{ObjectDefineProperty:ht,ObjectKeys:Dd,ReflectApply:Md}=z(),{promisify:{custom:Bd}}=pe(),{streamReturningOperators:Ld,promiseReturningOperators:Od}=Pd(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:Fd}}=ge(),bv=po(),{setDefaultHighWaterMark:mv,getDefaultHighWaterMark:gv}=Ki(),{pipeline:Ud}=Qn(),{destroyer:yv}=zt(),Vd=lt(),vo=_o(),nr=Ke(),G=qd.exports=On().Stream;G.isDestroyed=nr.isDestroyed;G.isDisturbed=nr.isDisturbed;G.isErrored=nr.isErrored;G.isReadable=nr.isReadable;G.isWritable=nr.isWritable;G.Readable=Qi();for(let e of Dd(Ld)){let i=function(...r){if(new.target)throw Fd();return G.Readable.from(Md(t,this,r))};Eo=i,s(i,"fn");let t=Ld[e];ht(i,"name",{__proto__:null,value:t.name}),ht(i,"length",{__proto__:null,value:t.length}),ht(G.Readable.prototype,e,{__proto__:null,value:i,enumerable:!1,configurable:!0,writable:!0})}var Eo;for(let e of Dd(Od)){let i=function(...n){if(new.target)throw Fd();return Md(t,this,n)};Eo=i,s(i,"fn");let t=Od[e];ht(i,"name",{__proto__:null,value:t.name}),ht(i,"length",{__proto__:null,value:t.length}),ht(G.Readable.prototype,e,{__proto__:null,value:i,enumerable:!1,configurable:!0,writable:!0})}var Eo;G.Writable=Yn();G.Duplex=Qe();G.Transform=eo();G.PassThrough=io();G.pipeline=Ud;var{addAbortSignal:_v}=Yi();G.addAbortSignal=_v;G.finished=Vd;G.destroy=yv;G.compose=bv;G.setDefaultHighWaterMark=mv;G.getDefaultHighWaterMark=gv;ht(G,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return vo}});ht(Ud,Bd,{__proto__:null,enumerable:!0,get(){return vo.pipeline}});ht(Vd,Bd,{__proto__:null,enumerable:!0,get(){return vo.finished}});G.Stream=G;G._isUint8Array=s(function(t){return t instanceof Uint8Array},"isUint8Array");G._uint8ArrayToBuffer=s(function(t){return pv.from(t.buffer,t.byteOffset,t.byteLength)},"_uint8ArrayToBuffer")});var jd=x((XT,ee)=>{"use strict";var ae=wo(),wv=_o(),vv=ae.Readable.destroy;ee.exports=ae.Readable;ee.exports._uint8ArrayToBuffer=ae._uint8ArrayToBuffer;ee.exports._isUint8Array=ae._isUint8Array;ee.exports.isDisturbed=ae.isDisturbed;ee.exports.isErrored=ae.isErrored;ee.exports.isReadable=ae.isReadable;ee.exports.Readable=ae.Readable;ee.exports.Writable=ae.Writable;ee.exports.Duplex=ae.Duplex;ee.exports.Transform=ae.Transform;ee.exports.PassThrough=ae.PassThrough;ee.exports.addAbortSignal=ae.addAbortSignal;ee.exports.finished=ae.finished;ee.exports.destroy=ae.destroy;ee.exports.destroy=vv;ee.exports.pipeline=ae.pipeline;ee.exports.compose=ae.compose;Object.defineProperty(ae,"promises",{configurable:!0,enumerable:!0,get(){return wv}});ee.exports.Stream=ae.Stream;ee.exports.default=ee.exports});var Ot=x(is=>{"use strict";Object.defineProperty(is,"__esModule",{value:!0});is.Url=void 0;var Lt="https://www.youtube.com",Ev=/^https?:\/\//,Wd=/^[a-zA-Z0-9-_]{11}$/,xv=new Set(["youtube.com","www.youtube.com","m.youtube.com","music.youtube.com","gaming.youtube.com"]),Sv=/^https?:\/\/(youtu\.be\/|(www\.)?youtube\.com\/(embed|v|shorts|live)\/)/,So=class So{static getBaseUrl(){return Lt}static getPlayerJsUrl(t){return`${Lt}/s/player/${t}/player_ias.vflset/en_US/base.js`}static getWatchPageUrl(t){return`${Lt}/watch?v=${t}`}static getEmbedUrl(t){return`${Lt}/embed/${t}`}static getIframeApiUrl(){return`${Lt}/iframe_api`}static getInnertubeBaseUrl(){return`${Lt}/youtubei/v1`}static getTvUrl(){return`${Lt}/tv`}static getRefreshTokenApiUrl(){return`${Lt}/o/oauth2/token`}static validateID(t){return Wd.test(t.trim())}static getURLVideoID(t){let i=new URL(t.trim()),r=i.searchParams.get("v");if(Sv.test(t.trim())&&!r){let n=i.pathname.split("/");r=i.host==="youtu.be"?n[1]:n[2]}else if(i.hostname&&!xv.has(i.hostname))throw new Error("Not a YouTube domain");if(!r)throw new Error(`No video id found: "${t}"`);if(r=r.substring(0,11),!this.validateID(r))throw new TypeError(`Video id (${r}) does not match expected format (${Wd.toString()})`);return r}static getVideoID(t){return this.validateID(t)?t:Ev.test(t.trim())?this.getURLVideoID(t):null}static validateURL(t){try{return this.getURLVideoID(t),!0}catch{return!1}}};s(So,"Url");var xo=So;is.Url=xo});var sr=x(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.UserAgent=void 0;var Hd={desktop:["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.61"],ios:["Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/127.0.0.0 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPad; CPU OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/126.0.1.45 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 14_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/123.0.2.98 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPad; CPU OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/125.0.3.110 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 15_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/124.0.5.72 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPad; CPU OS 14_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/122.0.4.82 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/128.0.1.101 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPad; CPU OS 15_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/125.0.1.95 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 14_8 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/121.0.2.67 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPad; CPU OS 16_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/129.0.0.85 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 15_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/126.0.3.92 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPad; CPU OS 14_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/123.0.5.105 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/127.0.2.56 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPad; CPU OS 15_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/124.0.1.30 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 14_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/120.0.4.102 Mobile/15E148 Safari/604.1"],android:["Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/128.0.6613.146 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; K) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/128.0.6613.127 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 14; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/128.0.6613.128 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 11; K) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/128.0.6613.127 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 14; K) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/128.0.6613.127 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/128.0.6613.128 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 9; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/128.0.6613.146 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 12; K) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/128.0.6613.127 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/128.0.6613.127 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) SamsungBrowser/26.0 Chrome/122.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/92.0.4515.105 Mobile Safari/537.36"],tv:["Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version"]},To=class To{static getRandomUserAgent(t){let i=Hd[t];return i?i[Math.floor(Math.random()*i.length)]:Hd.desktop[0]}};s(To,"UserAgent");var ri=To;rs.UserAgent=ri;ri.default="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36";ri.ios="com.google.ios.youtube/19.29.1 (iPhone16,2; U; CPU iOS 17_5_1 like Mac OS X;)";ri.android="com.google.android.youtube/18.48.37(Linux; U; Android 13; en_US; sdk_gphone64_x86_64 Build/UPB4.230623.005) gzip";ri.tv="Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version"});var Ro=x(Co=>{"use strict";Object.defineProperty(Co,"__esModule",{value:!0});var Io=class Io extends Error{constructor(t,i){super(t),this.statusCode=i||0}};s(Io,"RequestError");var Ao=Io;Co.default=Ao});var $d=x(ar=>{"use strict";var Tv=ar&&ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ar,"__esModule",{value:!0});var Av=Tv(Ro()),Po=class Po extends Av.default{constructor(t,i,r){super(t),this.response=i,this.statusCode=r||0}};s(Po,"PlayerRequestError");var No=Po;ar.default=No});var Gd=x(Lo=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});var Oo=class Oo extends Error{};s(Oo,"UnrecoverableError");var ko=Oo;Lo.default=ko});var ns=x(Ze=>{"use strict";var Do=Ze&&Ze.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.RequestError=Ze.UnrecoverableError=Ze.PlayerRequestError=void 0;var Cv=$d();Object.defineProperty(Ze,"PlayerRequestError",{enumerable:!0,get:s(function(){return Do(Cv).default},"get")});var Iv=Gd();Object.defineProperty(Ze,"UnrecoverableError",{enumerable:!0,get:s(function(){return Do(Iv).default},"get")});var Rv=Ro();Object.defineProperty(Ze,"RequestError",{enumerable:!0,get:s(function(){return Do(Rv).default},"get")})});var Ni=x(ss=>{"use strict";Object.defineProperty(ss,"__esModule",{value:!0});ss.Fetcher=void 0;var Nv=Ie(),Pv=Te(),kv=ns(),Lv=sr(),Bo=class Bo{static async fetch(t,i,r=!1){var l;let n=Nv.Platform.getShim(),{rewriteRequest:a,originalProxy:o}=n.requestRelated;if(!r){if(typeof a=="function"){let c=a(t,i||{},{isDownloadUrl:!1});i=c.options,t=c.url}if(o)try{let c=new URL(o.base);t.includes(c.host)||(t=`${c.protocol}//${c.host}/?url=${encodeURIComponent(t)}`)}catch{}}Pv.Logger.debug(`[ Request ]: <magenta>${(i==null?void 0:i.method)||"GET"}</magenta> -> ${t}`);let u=new Headers;return i!=null&&i.headers&&Object.entries(i.headers).forEach(([c,p])=>{p&&u.append(c,p.toString())}),u.has("User-Agent")||u.append("User-Agent",Lv.UserAgent.getRandomUserAgent("desktop")),await n.fetcher(t,{method:(i==null?void 0:i.method)||"GET",headers:u,body:(l=i==null?void 0:i.body)==null?void 0:l.toString()})}static async request(t,{requestOptions:i,rewriteRequest:r,originalProxy:n}={}){var c;if(typeof r=="function"){let p=r(t,i||{},{isDownloadUrl:!1});i=p.options,t=p.url}if(n)try{let p=new URL(n.base);t.includes(p.host)||(t=`${p.protocol}//${p.host}${p.pathname}?${n.urlQueryName||"url"}=${encodeURIComponent(t)}`)}catch{}let a=await this.fetch(t,{method:(i==null?void 0:i.method)||"GET",headers:i==null?void 0:i.headers,body:(c=i==null?void 0:i.body)==null?void 0:c.toString()},!0),o=a.status.toString(),u=a.headers.get("location")||null;if(o.startsWith("2"))return(a.headers.get("content-type")||"").includes("application/json")?a.json():a.text();if(o.startsWith("3")&&u)return this.request(u.toString(),{requestOptions:i,rewriteRequest:r,originalProxy:n});throw new kv.RequestError(`Status Code: ${o}`,a.status)}};s(Bo,"Fetcher");var Mo=Bo;ss.Fetcher=Mo});var or=x(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.lastUpdateCheck=void 0;Ee.between=Uo;Ee.tryParseBetween=Kd;Ee.parseAbbreviatedNumber=zd;Ee.cutAfterJS=Xd;Ee.checkForUpdates=ep;Ee.getPropInsensitive=Qd;Ee.setPropInsensitive=Jd;Ee.generateClientPlaybackNonce=Zd;var Ov=Ie(),Dv=Ni(),Mv=li(),Fo=Te(),Bv=[{start:'"',end:'"'},{start:"'",end:"'"},{start:"`",end:"`"},{start:"/",end:"/",startPrefix:/(^|[[{:;,/])\s?$/}],Fv=1e3*60*60*12;function Yd(e,t){return Object.keys(e).find(i=>i.toLowerCase()===t.toLowerCase())||null}s(Yd,"findPropKeyInsensitive");function Uo(e,t,i){let r=null;if(t instanceof RegExp){let n=e.match(t);if(!n)return"";r=(n.index||0)+n[0].length}else{if(r=e.indexOf(t),r===-1)return"";r+=t.length}return e=e.slice(r),r=e.indexOf(i),r===-1?"":(e=e.slice(0,r),e)}s(Uo,"between");function Kd(e,t,i,r="",n=""){try{let a=Uo(e,t,i);return a?JSON.parse(`${r}${a}${n}`):null}catch{return null}}s(Kd,"tryParseBetween");function zd(e){let t=e.replace(",",".").replace(" ","").match(/([\d,.]+)([MK]?)/);if(t){let i=t[2],r=t[1];return r=parseFloat(r),Math.round(i==="M"?r*1e6:i==="K"?r*1e3:r)}return null}s(zd,"parseAbbreviatedNumber");function Xd(e){let t=null,i=null;if(e[0]==="["?(t="[",i="]"):e[0]==="{"&&(t="{",i="}"),!t)throw new Error(`Can't cut unsupported JSON (need to begin with [ or { ) but got: ${e[0]}`);let r=null,n=!1,a=0;for(let o=0;o<e.length;o++){if(r!==null&&!n&&e[o]===r.end){r=null;continue}else if(!n&&r===null){for(let u of Bv)if(e[o]===u.start&&(!u.startPrefix||e.substring(o-10,o).match(u.startPrefix))){r=u;break}if(r!==null)continue}if(n=e[o]==="\\"&&!n,r===null&&(e[o]===t?a++:e[o]===i&&a--,a===0))return e.slice(0,o+1)}throw new Error("Can't cut unsupported JSON (no matching closing bracket found)")}s(Xd,"cutAfterJS");function Qd(e,t){let i=Yd(e,t);return i&&e[i]}s(Qd,"getPropInsensitive");function Jd(e,t,i){let r=Yd(e,t);return e[r||t]=i,r}s(Jd,"setPropInsensitive");function Zd(e){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";return Array.from({length:e},()=>t[Math.floor(Math.random()*t.length)]).join("")}s(Zd,"generateClientPlaybackNonce");var Uv=0,as=0;Ee.lastUpdateCheck=as;function ep(){return!Ov.Platform.getShim().options.other.noUpdate&&Date.now()-as>=Fv?(Ee.lastUpdateCheck=as=Date.now(),Dv.Fetcher.request("https://api.github.com/repos/ybd-project/ytdl-core/contents/package.json",{requestOptions:{headers:{"User-Agent":'Chromium";v="112", "Microsoft Edge";v="112", "Not:A-Brand";v="99'}}}).then(i=>{if(!i.content)throw new Error("No content in response");let r=Buffer.from(i.content,i.encoding);JSON.parse(r.toString("ascii")).version!==Mv.VERSION&&Uv++<5&&Fo.Logger.warning('@ybd-project/ytdl-core is out of date! Update with "npm install @ybd-project/ytdl-core@latest".')},i=>{Fo.Logger.warning("Error checking for updates:",i.message),Fo.Logger.warning("It can be disabled by setting `noUpdate` to `true` in the YtdlCore options.")})):null}s(ep,"checkForUpdates");Ee.default={between:Uo,tryParseBetween:Kd,parseAbbreviatedNumber:zd,cutAfterJS:Xd,lastUpdateCheck:as,checkForUpdates:ep,getPropInsensitive:Qd,setPropInsensitive:Jd,generateClientPlaybackNonce:Zd}});var mt=x(Pi=>{"use strict";var Vv=Pi&&Pi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pi,"__esModule",{value:!0});Pi.Clients=void 0;var Vo=Vv(or()),Dt=sr(),dt="https://www.youtube.com/youtubei/v1",pt=Object.freeze({web:{context:{client:{clientName:"WEB",clientVersion:"2.20240726.00.00",userAgent:Dt.UserAgent.default}},clientName:1,apiInfo:{key:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8"}},webCreator:{context:{client:{clientName:"WEB_CREATOR",clientVersion:"1.20240723.03.00",userAgent:Dt.UserAgent.default}},clientName:62,apiInfo:{key:"AIzaSyBUPetSUmoZL-OhlxA7wSac5XinrygCqMo"}},webEmbedded:{context:{client:{clientName:"WEB_EMBEDDED_PLAYER",clientVersion:"2.20240111.09.00",userAgent:Dt.UserAgent.default,clientScreen:"EMBED"}},clientName:56,apiInfo:{key:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8"}},android:{context:{client:{clientName:"ANDROID",clientVersion:"18.48.37",androidSdkVersion:33,userAgent:Dt.UserAgent.android,osName:"Android",osVersion:"13"}},clientName:3,apiInfo:{key:"AIzaSyA8eiZmM1FaDVjRy-df2KTyQ_vz_yYM39w"}},ios:{context:{client:{clientName:"IOS",clientVersion:"19.29.1",deviceMake:"Apple",deviceModel:"iPhone16,2",userAgent:Dt.UserAgent.ios,osName:"iPhone",osVersion:"17.5.1.21F90"}},clientName:5,apiInfo:{key:"AIzaSyB-63vPrdThhKuerbB2N_l7Kwwcxj6yUAc"}},mweb:{context:{client:{clientName:"MWEB",clientVersion:"2.20240726.01.00",userAgent:Dt.UserAgent.default}},clientName:2,apiInfo:{}},tv:{context:{client:{clientName:"TVHTML5",clientVersion:"7.20240724.13.00",userAgent:Dt.UserAgent.tv}},clientName:7,apiInfo:{}},tvEmbedded:{context:{client:{clientName:"TVHTML5_SIMPLY_EMBEDDED_PLAYER",clientVersion:"2.0",userAgent:Dt.UserAgent.tv},thirdParty:{embedUrl:"https://www.youtube.com/"}},clientName:85,apiInfo:{}}}),bt={videoId:"",cpn:Vo.default.generateClientPlaybackNonce(16),contentCheckOk:!0,racyCheckOk:!0,serviceIntegrityDimensions:{},playbackContext:{contentPlaybackContext:{vis:0,splay:!1,referer:"",currentUrl:"",autonavState:"STATE_ON",autoCaptionsDefaultOn:!1,html5Preference:"HTML5_PREF_WANTS",lactMilliseconds:"-1",signatureTimestamp:0}},attestationRequest:{omitBotguardData:!0},context:{client:{},request:{useSsl:!0,internalExperimentFlags:[],consistencyTokenJars:[]},user:{lockedSafetyMode:!1}}},et=class et{static getAuthorizationHeader(t){return t&&t.isEnabled?{authorization:"Bearer "+t.getAccessToken()}:{}}static web({videoId:t,signatureTimestamp:i,options:{poToken:r,visitorData:n,oauth2:a,hl:o,gl:u}}){let l=pt.web,c={...bt};return c.videoId=t,c.playbackContext.contentPlaybackContext.signatureTimestamp=i,c.context.client=l.context.client,c.context.client.hl=o||"en",c.context.client.gl=u||"US",r?c.serviceIntegrityDimensions.poToken=r:c.serviceIntegrityDimensions=void 0,n&&(c.context.client.visitorData=n),{url:`${dt}/player?key=${l.apiInfo.key}&prettyPrint=false`,payload:c,headers:{"X-YouTube-Client-Name":l.clientName,"X-Youtube-Client-Version":l.context.client.clientVersion,"X-Goog-Visitor-Id":n,"User-Agent":l.context.client.userAgent,...et.getAuthorizationHeader(a)}}}static web_nextApi({videoId:t,options:{poToken:i,visitorData:r,oauth2:n,hl:a,gl:o}}){let u=pt.web,l={...bt,autonavState:"STATE_OFF",playbackContext:{vis:0,lactMilliseconds:"-1"},captionsRequested:!1};return l.videoId=t,l.context.client=u.context.client,l.context.client.hl=a||"en",l.context.client.gl=o||"US",i?l.serviceIntegrityDimensions.poToken=i:l.serviceIntegrityDimensions=void 0,r&&(l.context.client.visitorData=r),{url:`${dt+"/next"}?key=${u.apiInfo.key}&prettyPrint=false`,payload:l,headers:{"X-YouTube-Client-Name":u.clientName,"X-Youtube-Client-Version":u.context.client.clientVersion,"X-Goog-Visitor-Id":r,"User-Agent":u.context.client.userAgent,...et.getAuthorizationHeader(n)}}}static webCreator({videoId:t,signatureTimestamp:i,options:{poToken:r,visitorData:n,hl:a,gl:o}}){let u=pt.webCreator,l={...bt};return l.videoId=t,l.playbackContext.contentPlaybackContext.signatureTimestamp=i,l.context.client=u.context.client,l.context.client.hl=a||"en",l.context.client.gl=o||"US",r?l.serviceIntegrityDimensions.poToken=r:l.serviceIntegrityDimensions=void 0,n&&(l.context.client.visitorData=n),{url:`${dt}/player?key=${u.apiInfo.key}&prettyPrint=false`,payload:l,headers:{"X-YouTube-Client-Name":u.clientName,"X-Youtube-Client-Version":u.context.client.clientVersion,"X-Goog-Visitor-Id":n,"User-Agent":u.context.client.userAgent}}}static webEmbedded({videoId:t,signatureTimestamp:i,options:{poToken:r,visitorData:n,hl:a,gl:o}}){let u=pt.webEmbedded,l={...bt};return l.videoId=t,l.playbackContext.contentPlaybackContext.signatureTimestamp=i,l.context.client=u.context.client,l.context.client.hl=a||"en",l.context.client.gl=o||"US",r?l.serviceIntegrityDimensions.poToken=r:l.serviceIntegrityDimensions=void 0,n&&(l.context.client.visitorData=n),{url:`${dt}/player?key=${u.apiInfo.key}&prettyPrint=false`,payload:l,headers:{"X-YouTube-Client-Name":u.clientName,"X-Youtube-Client-Version":u.context.client.clientVersion,"X-Goog-Visitor-Id":n,"User-Agent":u.context.client.userAgent}}}static android({videoId:t,signatureTimestamp:i,options:{poToken:r,visitorData:n,oauth2:a,hl:o,gl:u}}){let l=pt.android,c={...bt};return c.videoId=t,c.playbackContext.contentPlaybackContext.signatureTimestamp=i,c.context.client=l.context.client,c.context.client.hl=o||"en",c.context.client.gl=u||"US",r?c.serviceIntegrityDimensions.poToken=r:c.serviceIntegrityDimensions=void 0,n&&(c.context.client.visitorData=n),{url:`${dt}/player?key=${l.apiInfo.key}&prettyPrint=false&id=${t}&t=${Vo.default.generateClientPlaybackNonce(12)}`,payload:c,headers:{"X-YouTube-Client-Name":l.clientName,"X-Youtube-Client-Version":l.context.client.clientVersion,"X-Goog-Visitor-Id":n,"User-Agent":l.context.client.userAgent,...et.getAuthorizationHeader(a)}}}static ios({videoId:t,signatureTimestamp:i,options:{poToken:r,visitorData:n,oauth2:a,hl:o,gl:u}}){let l=pt.ios,c={...bt};return c.videoId=t,c.playbackContext.contentPlaybackContext.signatureTimestamp=i,c.context.client=l.context.client,c.context.client.hl=o||"en",c.context.client.gl=u||"US",r?c.serviceIntegrityDimensions.poToken=r:c.serviceIntegrityDimensions=void 0,n&&(c.context.client.visitorData=n),{url:`${dt}/player?key=${l.apiInfo.key}&prettyPrint=false&id=${t}&t=${Vo.default.generateClientPlaybackNonce(12)}`,payload:c,headers:{"X-YouTube-Client-Name":l.clientName,"X-Youtube-Client-Version":l.context.client.clientVersion,"X-Goog-Visitor-Id":n,"User-Agent":l.context.client.userAgent,...et.getAuthorizationHeader(a)}}}static mweb({videoId:t,signatureTimestamp:i,options:{poToken:r,visitorData:n,oauth2:a,hl:o,gl:u}}){let l=pt.mweb,c={...bt};return c.videoId=t,c.playbackContext.contentPlaybackContext.signatureTimestamp=i,c.context.client=l.context.client,c.context.client.hl=o||"en",c.context.client.gl=u||"US",r?c.serviceIntegrityDimensions.poToken=r:c.serviceIntegrityDimensions=void 0,n&&(c.context.client.visitorData=n),{url:`${dt}/player?prettyPrint=false`,payload:c,headers:{"X-YouTube-Client-Name":l.clientName,"X-Youtube-Client-Version":l.context.client.clientVersion,"X-Goog-Visitor-Id":n,"User-Agent":l.context.client.userAgent,...et.getAuthorizationHeader(a)}}}static tv({videoId:t,signatureTimestamp:i,options:{poToken:r,visitorData:n,oauth2:a,hl:o,gl:u}}){let l=pt.web,c={...bt};return c.videoId=t,c.playbackContext.contentPlaybackContext.signatureTimestamp=i,c.context.client=l.context.client,c.context.client.hl=o||"en",c.context.client.gl=u||"US",r?c.serviceIntegrityDimensions.poToken=r:c.serviceIntegrityDimensions=void 0,n&&(c.context.client.visitorData=n),{url:`${dt}/player?prettyPrint=false`,payload:c,headers:{"X-YouTube-Client-Name":l.clientName,"X-Youtube-Client-Version":l.context.client.clientVersion,"X-Goog-Visitor-Id":n,"User-Agent":l.context.client.userAgent,...et.getAuthorizationHeader(a)}}}static tvEmbedded({videoId:t,signatureTimestamp:i,options:{poToken:r,visitorData:n,oauth2:a,hl:o,gl:u}}){let l=pt.tvEmbedded,c={...bt};return c.videoId=t,c.playbackContext.contentPlaybackContext.signatureTimestamp=i,c.context.client=l.context.client,c.context.client.hl=o||"en",c.context.client.gl=u||"US",r?c.serviceIntegrityDimensions.poToken=r:c.serviceIntegrityDimensions=void 0,n&&(c.context.client.visitorData=n),{url:`${dt}/player?prettyPrint=false`,payload:c,headers:{"X-YouTube-Client-Name":l.clientName,"X-Youtube-Client-Version":l.context.client.clientVersion,"X-Goog-Visitor-Id":n,"User-Agent":l.context.client.userAgent,...et.getAuthorizationHeader(a)}}}};s(et,"Clients");var qo=et;Pi.Clients=qo});var gt=x(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});var os=ns(),jo=Ni(),$o=class $o{static playError(t){let i=t&&t.playabilityStatus;return i?i.status==="ERROR"||i.status==="LOGIN_REQUIRED"?new os.UnrecoverableError(i.reason||i.messages&&i.messages[0]):i.status==="LIVE_STREAM_OFFLINE"?new os.UnrecoverableError(i.reason||"The live stream is offline."):i.status==="UNPLAYABLE"?new os.UnrecoverableError(i.reason||"This video is unavailable."):null:null}static request(t,i,r){return new Promise(async(n,a)=>{let o={"Content-Type":"application/json","X-Goog-Visitor-Id":r.options.visitorData||"",...i.headers},u={requestOptions:{method:"POST",headers:o,body:typeof i.payload=="string"?i.payload:JSON.stringify(i.payload)},rewriteRequest:r.options.rewriteRequest,originalProxy:r.options.originalProxy},l=t.includes("/next"),c=s(p=>{let g=this.playError(p);if(g){if(u.originalProxy){u.originalProxy=void 0,jo.Fetcher.request(t,u).then(c).catch(v=>{a({isError:!0,error:v,contents:null})});return}return a({isError:!0,error:g,contents:p})}if(!l&&(!p.videoDetails||r.videoId!==p.videoDetails.videoId)){let v=new os.PlayerRequestError("Malformed response from YouTube",p,null);return v.response=p,a({isError:!0,error:v,contents:p})}n({isError:!1,error:null,contents:p})},"responseHandler");try{jo.Fetcher.request(t,u).then(c).catch(p=>{u.originalProxy&&(u.originalProxy=void 0,jo.Fetcher.request(t,u).then(c).catch(g=>{a({isError:!0,error:g,contents:null})})),a({isError:!0,error:p,contents:null})})}catch(p){a({isError:!0,error:p,contents:null})}})}};s($o,"Base");var Wo=$o;Ho.default=Wo});var rp=x(ur=>{"use strict";var qv=ur&&ur.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ur,"__esModule",{value:!0});var tp=mt(),ip=qv(gt()),Yo=class Yo{static async getPlayerResponse(t){let{url:i,payload:r,headers:n}=tp.Clients.web(t);return await ip.default.request(i,{payload:r,headers:n},t)}static async getNextResponse(t){let{url:i,payload:r,headers:n}=tp.Clients.web_nextApi(t);return await ip.default.request(i,{payload:r,headers:n},t)}};s(Yo,"Web");var Go=Yo;ur.default=Go});var np=x(lr=>{"use strict";var jv=lr&&lr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lr,"__esModule",{value:!0});var Wv=mt(),Hv=jv(gt()),zo=class zo{static async getPlayerResponse(t){let{url:i,payload:r,headers:n}=Wv.Clients.webCreator(t);return await Hv.default.request(i,{payload:r,headers:n},t)}};s(zo,"WebCreator");var Ko=zo;lr.default=Ko});var sp=x(cr=>{"use strict";var $v=cr&&cr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cr,"__esModule",{value:!0});var Gv=mt(),Yv=$v(gt()),Qo=class Qo{static async getPlayerResponse(t){let{url:i,payload:r,headers:n}=Gv.Clients.webEmbedded(t);return await Yv.default.request(i,{payload:r,headers:n},t)}};s(Qo,"WebEmbedded");var Xo=Qo;cr.default=Xo});var ap=x(fr=>{"use strict";var Kv=fr&&fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fr,"__esModule",{value:!0});var zv=mt(),Xv=Kv(gt()),Zo=class Zo{static async getPlayerResponse(t){let{url:i,payload:r,headers:n}=zv.Clients.mweb(t);return await Xv.default.request(i,{payload:r,headers:n},t)}};s(Zo,"MWeb");var Jo=Zo;fr.default=Jo});var op=x(hr=>{"use strict";var Qv=hr&&hr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hr,"__esModule",{value:!0});var Jv=mt(),Zv=Qv(gt()),tu=class tu{static async getPlayerResponse(t){let{url:i,payload:r,headers:n}=Jv.Clients.android(t);return await Zv.default.request(i,{payload:r,headers:n},t)}};s(tu,"Android");var eu=tu;hr.default=eu});var up=x(dr=>{"use strict";var eE=dr&&dr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dr,"__esModule",{value:!0});var tE=mt(),iE=eE(gt()),ru=class ru{static async getPlayerResponse(t){let{url:i,payload:r,headers:n}=tE.Clients.ios(t);return await iE.default.request(i,{payload:r,headers:n},t)}};s(ru,"Ios");var iu=ru;dr.default=iu});var lp=x(pr=>{"use strict";var rE=pr&&pr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pr,"__esModule",{value:!0});var nE=mt(),sE=rE(gt()),su=class su{static async getPlayerResponse(t){let{url:i,payload:r,headers:n}=nE.Clients.tv(t);return await sE.default.request(i,{payload:r,headers:n},t)}};s(su,"Tv");var nu=su;pr.default=nu});var cp=x(br=>{"use strict";var aE=br&&br.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(br,"__esModule",{value:!0});var oE=mt(),uE=aE(gt()),ou=class ou{static async getPlayerResponse(t){let{url:i,payload:r,headers:n}=oE.Clients.tvEmbedded(t);return await uE.default.request(i,{payload:r,headers:n},t)}};s(ou,"TvEmbedded");var au=ou;br.default=au});var us=x(ie=>{"use strict";var Mt=ie&&ie.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ie,"__esModule",{value:!0});ie.TvEmbedded=ie.Tv=ie.Ios=ie.Android=ie.MWeb=ie.WebEmbedded=ie.WebCreator=ie.Web=void 0;var lE=rp();Object.defineProperty(ie,"Web",{enumerable:!0,get:s(function(){return Mt(lE).default},"get")});var cE=np();Object.defineProperty(ie,"WebCreator",{enumerable:!0,get:s(function(){return Mt(cE).default},"get")});var fE=sp();Object.defineProperty(ie,"WebEmbedded",{enumerable:!0,get:s(function(){return Mt(fE).default},"get")});var hE=ap();Object.defineProperty(ie,"MWeb",{enumerable:!0,get:s(function(){return Mt(hE).default},"get")});var dE=op();Object.defineProperty(ie,"Android",{enumerable:!0,get:s(function(){return Mt(dE).default},"get")});var pE=up();Object.defineProperty(ie,"Ios",{enumerable:!0,get:s(function(){return Mt(pE).default},"get")});var bE=lp();Object.defineProperty(ie,"Tv",{enumerable:!0,get:s(function(){return Mt(bE).default},"get")});var mE=cp();Object.defineProperty(ie,"TvEmbedded",{enumerable:!0,get:s(function(){return Mt(mE).default},"get")})});var fu=x(fs=>{"use strict";Object.defineProperty(fs,"__esModule",{value:!0});fs.OAuth2=void 0;var hp=Ie(),ki=Te(),ls=Ot(),gE=sr(),yE=us(),fp=Ni(),uu={tvScript:new RegExp('<script\\s+id="base-js"\\s+src="([^"]+)"[^>]*><\\/script>'),clientIdentity:new RegExp('clientId:"(?<client_id>[^"]+)",[^"]*?:"(?<client_secret>[^"]+)"')},cs=hp.Platform.getShim().fileCache,cu=class cu{constructor(t){var i,r;if(this.isEnabled=!1,this.credentials={accessToken:"",refreshToken:"",expiryDate:""},this.accessToken="",this.refreshToken="",this.expiryDate="",!t){this.isEnabled=!1;return}if(this.isEnabled=!0,this.credentials=t,this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expiryDate=t.expiryDate,this.clientId=(i=t.clientData)==null?void 0:i.clientId,this.clientSecret=(r=t.clientData)==null?void 0:r.clientSecret,this.shouldRefreshToken())try{this.refreshAccessToken().finally(()=>this.availableTokenCheck())}catch{}else this.availableTokenCheck();cs.set("oauth2",JSON.stringify(t))}async availableTokenCheck(){try{let t=await cs.get("html5Player");yE.Web.getPlayerResponse({videoId:"dQw4w9WgXcQ",signatureTimestamp:parseInt((t==null?void 0:t.signatureTimestamp)||"0")||0,options:{oauth2:this}}).then(()=>ki.Logger.debug("The specified OAuth2 token is valid.")).catch(i=>{i.error.message.includes("401")&&this.error("Request using the specified token failed (Web Client). Generating the token again may fix the problem.")})}catch(t){(t.message||t.error.message).includes("401")&&this.error("Request using the specified token failed (Web Client). Generating the token again may fix the problem.")}}error(t){ki.Logger.error(t),ki.Logger.info("OAuth2 is disabled due to an error."),this.isEnabled=!1}async getClientData(){var u,l,c,p,g,v,y;let t=await cs.get("oauth2")||{};if((u=t.clientData)!=null&&u.clientId&&((l=t.clientData)!=null&&l.clientSecret))return{clientId:t.clientData.clientId,clientSecret:t.clientData.clientSecret};let i={"User-Agent":gE.UserAgent.tv,Referer:ls.Url.getTvUrl()},r=hp.Platform.getShim(),n=await fp.Fetcher.fetch(ls.Url.getTvUrl(),{headers:i});if(!n.ok)return this.error("Failed to get client data: "+n.status),null;let a=await n.text(),o=(c=uu.tvScript.exec(a))==null?void 0:c[1];if(o){ki.Logger.debug("Found YouTube TV script: "+o);let S=await fp.Fetcher.fetch(ls.Url.getBaseUrl()+o,{headers:i});if(!S.ok)return this.error("TV script request failed with status code: "+S.status),null;let E=await S.text(),N=(g=(p=uu.clientIdentity.exec(E))==null?void 0:p.groups)==null?void 0:g.client_id,A=(y=(v=uu.clientIdentity.exec(E))==null?void 0:v.groups)==null?void 0:y.client_secret;return!N||!A?(this.error("Could not obtain client ID. Please create an issue in the repository for possible specification changes on YouTube's side."),null):(ki.Logger.debug("Found client ID: "+N),ki.Logger.debug("Found client secret: "+A),{clientId:N,clientSecret:A})}return this.error("Could not obtain script URL. Please create an issue in the repository for possible specification changes on YouTube's side."),null}shouldRefreshToken(){return this.isEnabled?Date.now()>=new Date(this.expiryDate).getTime():!1}async refreshAccessToken(){if(this.isEnabled){if(!this.clientId||!this.clientSecret){let t=await this.getClientData();if(!t)return;this.clientId=t.clientId,this.clientSecret=t.clientSecret,cs.set("oauth2",JSON.stringify({accessToken:this.accessToken,refreshToken:this.refreshToken,expiryDate:this.expiryDate,clientData:{clientId:t.clientId,clientSecret:t.clientSecret}}))}if(!this.refreshToken)return this.error("Refresh token is missing, make sure it is specified.");try{let t={client_id:this.clientId,client_secret:this.clientSecret,refresh_token:this.refreshToken,grant_type:"refresh_token"},i=await fetch(ls.Url.getRefreshTokenApiUrl(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!i.ok)return this.error(`Failed to refresh access token: ${i.status}`);let r=await i.json();if(r.error_code)return this.error("Authorization server returned an error: "+JSON.stringify(r));this.expiryDate=new Date(Date.now()+r.expires_in*1e3).toISOString(),this.accessToken=r.access_token}catch(t){this.error(t.message)}}}getAccessToken(){return this.accessToken}getCredentials(){return this.credentials}};s(cu,"OAuth2");var lu=cu;fs.OAuth2=lu});var hu,T,U=L(()=>{hu=class hu{constructor(t,i){this.node=t,this.visitor=i}run(){}};s(hu,"BaseJSNode");T=hu});var du,mr,dp=L(()=>{U();du=class du extends T{run(){return this.node.elements.map(t=>this.visitor.visitNode(t))}};s(du,"ArrayExpression");mr=du});var hs={};Ws(hs,{JinterError:()=>yt,namedFunction:()=>ni});var ni,pu,yt,si=L(()=>{ni=s((e,t)=>Object.defineProperty(t,"name",{value:e}),"namedFunction"),pu=class pu extends Error{constructor(t,i){super(t),i&&(this.info=i)}};s(pu,"JinterError");yt=pu});var bu,gr,pp=L(()=>{si();U();bu=class bu extends T{run(){let{params:t,body:i}=this.node;return ni("anonymous function",n=>{let a=0;for(let o of t)this.visitor.visitNode(o),o.type==="Identifier"?this.visitor.scope.set(o.name,n[a]):console.warn("Unhandled param type",o.type),a++;return this.visitor.visitNode(i)})}};s(bu,"ArrowFunctionExpression");gr=bu});var mu,yr,bp=L(()=>{U();mu=class mu extends T{run(){let t=this.node.operator,i=this.visitor.visitNode(this.node.right);switch(t){case"=":if(this.node.left.type==="MemberExpression"){let r=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return r[n]=i}else if(this.node.left.type==="Identifier")return this.visitor.scope.set(this.node.left.name,i),this.visitor.scope.get(this.node.left.name);console.warn("Unhandled left node",this.node.left);break;case"+=":if(this.node.left.type==="MemberExpression"){let r=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return r[n]+=i}else if(this.node.left.type==="Identifier"){let r=this.visitor.visitNode(this.node.left)+i;return this.visitor.scope.set(this.node.left.name,r),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"-=":if(this.node.left.type==="MemberExpression"){let r=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return r[n]-=i}else if(this.node.left.type==="Identifier"){let r=this.visitor.visitNode(this.node.left)-i;return this.visitor.scope.set(this.node.left.name,r),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"*=":if(this.node.left.type==="MemberExpression"){let r=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return r[n]*=i}else if(this.node.left.type==="Identifier"){let r=this.visitor.visitNode(this.node.left)*i;return this.visitor.scope.set(this.node.left.name,r),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"/=":if(this.node.left.type==="MemberExpression"){let r=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return r[n]/=i}else if(this.node.left.type==="Identifier"){let r=this.visitor.visitNode(this.node.left)/i;return this.visitor.scope.set(this.node.left.name,r),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"%=":if(this.node.left.type==="MemberExpression"){let r=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return r[n]%=i}else if(this.node.left.type==="Identifier"){let r=this.visitor.visitNode(this.node.left)%i;return this.visitor.scope.set(this.node.left.name,r),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"**=":if(this.node.left.type==="MemberExpression"){let r=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return r[n]**=i}else if(this.node.left.type==="Identifier"){let r=this.visitor.visitNode(this.node.left)**i;return this.visitor.scope.set(this.node.left.name,r),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"<<=":if(this.node.left.type==="MemberExpression"){let r=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return r[n]<<=i}else if(this.node.left.type==="Identifier"){let r=this.visitor.visitNode(this.node.left)<<i;return this.visitor.scope.set(this.node.left.name,r),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>=":if(this.node.left.type==="MemberExpression"){let r=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return r[n]>>=i}else if(this.node.left.type==="Identifier"){let r=this.visitor.visitNode(this.node.left)>>i;return this.visitor.scope.set(this.node.left.name,r),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>>=":if(this.node.left.type==="MemberExpression"){let r=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return r[n]>>>=i}else if(this.node.left.type==="Identifier"){let r=this.visitor.visitNode(this.node.left)>>>i;return this.visitor.scope.set(this.node.left.name,r),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"&=":if(this.node.left.type==="MemberExpression"){let r=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return r[n]&=i}else if(this.node.left.type==="Identifier"){let r=this.visitor.visitNode(this.node.left)&i;return this.visitor.scope.set(this.node.left.name,r),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break}}};s(mu,"AssignmentExpression");yr=mu});var gu,_r,mp=L(()=>{U();gu=class gu extends T{run(){let t=this.node.operator,i=this.visitor.visitNode(this.node.left),r=this.visitor.visitNode(this.node.right);switch(t){case"!=":return i!=r;case"!==":return i!==r;case"%":return i%r;case"&":return i&r;case"*":return i*r;case"**":return i**r;case"+":return i+r;case"-":return i-r;case"/":return i/r;case"<":return i<r;case"<<":return i<<r;case"<=":return i<=r;case"==":return i==r;case"===":return i===r;case">":return i>r;case">=":return i>=r;case">>":return i>>r;case">>>":return i>>>r;case"^":return i^r;case"|":return i|r;case"in":return i in r;case"instanceof":return i instanceof r}}};s(gu,"BinaryExpression");_r=gu});var yu,wr,gp=L(()=>{U();yu=class yu extends T{run(){for(let t of this.node.body){let i=this.visitor.visitNode(t);if(t.type==="ReturnStatement"||i==="break"||i==="continue"||(t.type==="WhileStatement"||t.type==="IfStatement"||t.type==="ForStatement"||t.type==="TryStatement")&&i)return i}}};s(yu,"BlockStatement");wr=yu});var _u,vr,yp=L(()=>{U();_u=class _u extends T{run(){return"break"}};s(_u,"BreakStatement");vr=_u});var Er,ai,ds,_p,wu,xr,vu,Sr,wp=L(()=>{U();si();Er=function(e,t,i,r){if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?r:i==="a"?r.call(e):r?r.value:t.get(e)},wu=class wu extends T{constructor(){super(...arguments),ai.add(this)}run(){let t,i;if(this.node.callee.type==="MemberExpression"?(t=this.visitor.getName(this.node.callee.object),i=this.visitor.getName(this.node.callee.property)):this.node.callee.type==="Identifier"&&(i=this.node.callee.name),t&&this.visitor.listeners[t]){let a=this.visitor.listeners[t](this.node,this.visitor);if(a!=="__continue_exec")return a}if(i&&i!=="toString"&&this.visitor.listeners[i]){let a=this.visitor.listeners[i](this.node,this.visitor);if(a!=="__continue_exec")return a}if(this.node.callee.type==="MemberExpression"){if(Sr.has(this.node,this.visitor))return Sr.execute(this.node,this.visitor);let a=this.visitor.visitNode(this.node.callee.object),o=this.node.callee.computed?this.visitor.visitNode(this.node.callee.property):this.visitor.getName(this.node.callee.property),u=this.node.arguments.map(l=>this.visitor.visitNode(l));return a||Er(this,ai,"m",ds).call(this),typeof a[o]!="function"&&Er(this,ai,"m",ds).call(this),a[o].toString().includes("[native code]")?a[o](...u):a[o](u)}let r=this.visitor.visitNode(this.node.callee),n=this.node.arguments.map(a=>this.visitor.visitNode(a));return typeof r!="function"&&Er(this,ai,"m",ds).call(this),r(n)}};s(wu,"CallExpression");xr=wu;ai=new WeakSet,ds=s(function(){if(this.node.callee.type==="MemberExpression"||this.node.callee.type==="Identifier"){let t=Er(this,ai,"m",_p).call(this,this.node.callee);throw new yt(`${t} is not a function`)}else if(this.node.callee.type==="SequenceExpression"){let t=[],i=[];throw t.push("("),this.node.callee.expressions.forEach(r=>{r.type==="Literal"?i.push(r.raw||""):r.type==="Identifier"?i.push(r.name):r.type==="MemberExpression"&&(r.computed?i.push(`${this.visitor.getName(r.object)}[${this.visitor.getName(r.property)||"..."}]`):i.push(`${this.visitor.getName(r.object)}.${this.visitor.getName(r.property)}`))}),t.push(i.join(", ")),t.push(")"),new yt(`${t.join("")} is not a function`)}},"_CallExpression_throwError"),_p=s(function e(t){if(t.type==="Identifier")return t.name;if(t.type==="MemberExpression"){let i=Er(this,ai,"m",e).call(this,t.object),r=t.computed?`[${this.visitor.getName(t.property)||"..."}]`:`.${this.visitor.getName(t.property)}`;return`${i}${r}`}return"<unknown>"},"_CallExpression_getCalleeString");vu=class vu{static has(t,i){var r;return t.callee.type==="MemberExpression"?!!(!((r=this.builtins)===null||r===void 0)&&r[i.getName(t.callee.property)||""]):!1}static execute(t,i){if(t.callee.type==="MemberExpression")return this.builtins[i.getName(t.callee.property)||""](t,i)}};s(vu,"Builtins");Sr=vu;Sr.builtins={forEach:s((e,t)=>{let i=e.arguments.map(r=>t.visitNode(r));if(e.callee.type==="MemberExpression"){let r=t.visitNode(e.callee.object);i.length>1&&t.scope.set("_this",i.slice(-1)[0]);let n=0;for(let a of r)i[0]([a,n++,r])}else console.warn("Unhandled callee type:",e.callee.type)},"forEach"),toString:s((e,t)=>{if(e.callee.type==="MemberExpression")return t.visitNode(e.callee.object).toString()},"toString")}});var Eu,Tr,vp=L(()=>{U();Eu=class Eu extends T{run(){let{test:t,consequent:i,alternate:r}=this.node;return this.visitor.visitNode(t)?this.visitor.visitNode(i):this.visitor.visitNode(r)}};s(Eu,"ConditionalExpression");Tr=Eu});var xu,Ar,Ep=L(()=>{U();xu=class xu extends T{run(){return"continue"}};s(xu,"ContinueStatement");Ar=xu});var Su,Cr,xp=L(()=>{U();Su=class Su extends T{run(){return this.visitor.visitNode(this.node.expression)}};s(Su,"ExpressionStatement");Cr=Su});var Tu,Ir,Sp=L(()=>{U();Tu=class Tu extends T{run(){this.visitor.visitNode(this.node.left);let t=this.visitor.visitNode(this.node.right);for(let i of t){if(this.node.left.type==="VariableDeclaration"&&this.node.left.declarations[0].id.type==="Identifier")this.visitor.scope.set(this.node.left.declarations[0].id.name,i);else if(this.node.left.type==="VariableDeclaration"&&this.node.left.declarations[0].id.type==="ObjectPattern")for(let n of this.node.left.declarations[0].id.properties)n.type==="Property"&&n.value.type==="Identifier"&&n.key.type==="Identifier"&&this.visitor.scope.set(n.value.name,i[n.key.name]);let r=this.visitor.visitNode(this.node.body);if(r==="break")break;if(r!=="continue"&&r&&this.node.body.type!=="ExpressionStatement")return r}}};s(Tu,"ForOfStatement");Ir=Tu});var Au,Rr,Tp=L(()=>{U();Au=class Au extends T{run(){this.node.init&&this.visitor.visitNode(this.node.init);let t=s(()=>this.node.test?this.visitor.visitNode(this.node.test):!0,"test");for(;t();){let r=this.visitor.visitNode(this.node.body);if(r!=="continue"){if(r==="break")break;if(this.node.update&&this.visitor.visitNode(this.node.update),r&&this.node.body.type!=="ExpressionStatement")return r}}}};s(Au,"ForStatement");Rr=Au});var Cu,Nr,Ap=L(()=>{si();U();Cu=class Cu extends T{run(){let{params:t,body:i}=this.node,r=this.visitor.visitNode(this.node.id),n=ni(r,a=>{let o=0;for(let u of t)this.visitor.visitNode(u),u.type==="Identifier"?this.visitor.scope.set(u.name,a[o]):console.warn("Unhandled param type",u.type),o++;return this.visitor.visitNode(i)});this.visitor.scope.set(r,n)}};s(Cu,"FunctionDeclaration");Nr=Cu});var Iu,Pr,Cp=L(()=>{si();U();Iu=class Iu extends T{run(){let{params:t,body:i}=this.node;return ni("anonymous function",n=>{let a=0;for(let o of t)this.visitor.visitNode(o),o.type==="Identifier"?this.visitor.scope.set(o.name,n[a]):console.warn("Unhandled param type",o.type),a++;return this.visitor.visitNode(i)})}};s(Iu,"FunctionExpression");Pr=Iu});var Ru,kr,Ip=L(()=>{U();Ru=class Ru extends T{run(){if(this.visitor.listeners[this.node.name]){let t=this.visitor.listeners[this.node.name](this.node,this.visitor);if(t!=="__continue_exec")return t}return this.visitor.scope.has(this.node.name)?this.visitor.scope.get(this.node.name):this.node.name}};s(Ru,"Identifier");kr=Ru});var Nu,Lr,Rp=L(()=>{U();Nu=class Nu extends T{run(){if(this.visitor.visitNode(this.node.test))return this.visitor.visitNode(this.node.consequent);if(this.node.alternate)return this.visitor.visitNode(this.node.alternate)}};s(Nu,"IfStatement");Lr=Nu});var Pu,Or,Np=L(()=>{U();Pu=class Pu extends T{run(){return this.node.value}};s(Pu,"Literal");Or=Pu});var ku,Dr,Pp=L(()=>{U();ku=class ku extends T{run(){switch(this.node.operator){case"&&":{let i=this.visitor.visitNode(this.node.left);return i===!0?this.visitor.visitNode(this.node.right):i}case"||":return this.visitor.visitNode(this.node.left)||this.visitor.visitNode(this.node.right);case"??":{let i=this.visitor.visitNode(this.node.left);return i!=null?i:this.visitor.visitNode(this.node.right)}}}};s(ku,"LogicalExpression");Dr=ku});var Lu,Mr,kp=L(()=>{U();Lu=class Lu extends T{run(){let{object:t,property:i,computed:r}=this.node,n=this.visitor.visitNode(t),a=r?this.visitor.visitNode(i):this.visitor.getName(i);if(a!==void 0||a!==null){if(this.visitor.listeners[a]){let o=this.visitor.listeners[a](this.node,this.visitor);if(o!=="__continue_exec")return o}return n==null?void 0:n[a]}}};s(Lu,"MemberExpression");Mr=Lu});var Ou,Br,Lp=L(()=>{U();Ou=class Ou extends T{run(){let t=this.visitor.visitNode(this.node.callee),i=this.node.arguments.map(r=>this.visitor.visitNode(r));return i.length?new t(i):new t}};s(Ou,"NewExpression");Br=Ou});var Du,Fr,Op=L(()=>{U();Du=class Du extends T{run(){let t={};for(let i of this.node.properties)if(i.type==="Property")t=Object.assign(Object.assign({},t),this.visitor.visitNode(i));else throw new Error(`Unhandled property type: ${i.type}`);return t}};s(Du,"ObjectExpression");Fr=Du});var Mu,Ur,Dp,Mp,Bp,Bu,Vr,Fp=L(()=>{U();Mu=function(e,t,i,r){if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?r:i==="a"?r.call(e):r?r.value:t.get(e)},Bu=class Bu extends T{constructor(){super(...arguments),Ur.add(this)}run(){switch(this.node.kind){case"init":return Mu(this,Ur,"m",Dp).call(this);case"get":return Mu(this,Ur,"m",Mp).call(this);case"set":return Mu(this,Ur,"m",Bp).call(this);default:throw new Error(`Unhandled property kind: ${this.node.kind}`)}}};s(Bu,"Property");Vr=Bu;Ur=new WeakSet,Dp=s(function(){let t=this.node.computed?this.visitor.visitNode(this.node.key):this.visitor.getName(this.node.key),i=this.visitor.visitNode(this.node.value);if(t)return{[t]:i}},"_Property_init"),Mp=s(function(){throw new TypeError("Not implemented: Property.get")},"_Property_get"),Bp=s(function(){throw new TypeError("Not implemented: Property.set")},"_Property_set")});var Fu,qr,Up=L(()=>{U();Fu=class Fu extends T{run(){if(this.node.argument)return this.visitor.visitNode(this.node.argument)}};s(Fu,"ReturnStatement");qr=Fu});var Uu,jr,Vp=L(()=>{U();Uu=class Uu extends T{run(){let t;for(let i of this.node.expressions)t=this.visitor.visitNode(i);return t}};s(Uu,"SequenceExpression");jr=Uu});var Vu,Wr,qp=L(()=>{U();Vu=class Vu extends T{run(){for(let t of this.node.consequent){let i=this.visitor.visitNode(t);if(t.type==="ContinueStatement"||t.type==="BreakStatement")return i}}};s(Vu,"SwitchCase");Wr=Vu});var qu,Hr,jp=L(()=>{U();qu=class qu extends T{run(){let t=this.visitor.visitNode(this.node.discriminant),i=!1,r=-1,n=0;for(;;){let a=this.node.cases[n];if(i){let o=this.visitor.visitNode(a);if(o==="break")break;if(o==="continue")return o;if(++n,n>=this.node.cases.length){n=0;break}else continue}if(i=a&&t===this.visitor.visitNode(a.test),i===void 0&&n>this.node.cases.length)break;if(a&&!i&&!a.test){r=n,n+=1;continue}if(!a&&!i&&r!==-1){i=!0,n=r;continue}i||++n}}};s(qu,"SwitchStatement");Hr=qu});var ju,$r,Wp=L(()=>{U();ju=class ju extends T{run(){let t="";for(let i=0;i<this.node.quasis.length;++i){let r=this.node.quasis[i];if(r.type==="TemplateElement"){if(r.value.cooked===null)throw new Error(`Invalid template literal: ${r.value.raw}`);if(r.value.cooked!==void 0&&(t+=r.value.cooked),!r.tail){let n=this.node.expressions[i];if(n!==void 0)t+=this.visitor.visitNode(n);else throw new Error(`Expected expression after: ${r.value}`)}}else throw new Error(`Unhandled quasi type: ${r.type}`)}return t}};s(ju,"TemplateLiteral");$r=ju});var Wu,Gr,Hp=L(()=>{U();Wu=class Wu extends T{run(){return this.visitor.scope.get("_this")}};s(Wu,"ThisExpression");Gr=Wu});var Hu,Yr,$p=L(()=>{U();Hu=class Hu extends T{run(){throw this.visitor.visitNode(this.node.argument)}};s(Hu,"ThrowStatement");Yr=Hu});var $u,Kr,Gp=L(()=>{U();$u=class $u extends T{run(){try{return this.visitor.visitNode(this.node.block)}catch(t){if(this.node.handler)return this.node.handler.param&&this.node.handler.param.type==="Identifier"&&this.visitor.scope.set(this.node.handler.param.name,t),this.visitor.visitNode(this.node.handler.body)}finally{this.visitor.visitNode(this.node.finalizer)}}};s($u,"TryStatement");Kr=$u});var Gu,zr,Yp=L(()=>{U();Gu=class Gu extends T{run(){let t=this.node.operator;switch(t){case"-":return-this.visitor.visitNode(this.node.argument);case"+":return+this.visitor.visitNode(this.node.argument);case"!":return!this.visitor.visitNode(this.node.argument);case"~":return~this.visitor.visitNode(this.node.argument);case"void":{this.visitor.visitNode(this.node.argument);return}case"typeof":return typeof this.visitor.visitNode(this.node.argument);case"delete":{if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object),r=this.node.argument.computed?this.visitor.visitNode(this.node.argument.property):this.visitor.getName(this.node.argument.property);return delete i[r]}else if(this.node.argument.type==="Identifier")return this.visitor.scope.delete(this.node.argument.name);return!0}default:console.warn("Unhandled UnaryExpression operator",t)}}};s(Gu,"UnaryExpression");zr=Gu});var Yu,Xr,Kp=L(()=>{U();Yu=class Yu extends T{run(){switch(this.node.operator){case"++":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]++}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i+1),this.node.prefix?++i:i}break;case"--":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]--}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i-1),this.node.prefix?--i:i}break}}};s(Yu,"UpdateExpression");Xr=Yu});var Ku,Qr,zp=L(()=>{U();Ku=class Ku extends T{run(){this.node.declarations.forEach(t=>{let{id:i,init:r}=t,n=this.visitor.getName(i),a=r?this.visitor.visitNode(r):void 0;n&&this.visitor.scope.set(n,a),typeof a=="object"&&a!==null&&this.visitor.scope.set("_this",a)})}};s(Ku,"VariableDeclaration");Qr=Ku});var zu,Jr,Xp=L(()=>{U();zu=class zu extends T{run(){for(;this.visitor.visitNode(this.node.test);){let t=this.visitor.visitNode(this.node.body);if(t==="break")break;if(t!=="continue"&&t)return t}}};s(zu,"WhileStatement");Jr=zu});var Li={};Ws(Li,{ArrayExpression:()=>mr,ArrowFunctionExpression:()=>gr,AssignmentExpression:()=>yr,BinaryExpression:()=>_r,BlockStatement:()=>wr,BreakStatement:()=>vr,CallExpression:()=>xr,ConditionalExpression:()=>Tr,ContinueStatement:()=>Ar,ExpressionStatement:()=>Cr,ForOfStatement:()=>Ir,ForStatement:()=>Rr,FunctionDeclaration:()=>Nr,FunctionExpression:()=>Pr,Identifier:()=>kr,IfStatement:()=>Lr,Literal:()=>Or,LogicalExpression:()=>Dr,MemberExpression:()=>Mr,NewExpression:()=>Br,ObjectExpression:()=>Fr,Property:()=>Vr,ReturnStatement:()=>qr,SequenceExpression:()=>jr,SwitchCase:()=>Wr,SwitchStatement:()=>Hr,TemplateLiteral:()=>$r,ThisExpression:()=>Gr,ThrowStatement:()=>Yr,TryStatement:()=>Kr,UnaryExpression:()=>zr,UpdateExpression:()=>Xr,VariableDeclaration:()=>Qr,WhileStatement:()=>Jr});var Xu=L(()=>{dp();pp();bp();mp();gp();yp();wp();vp();Ep();xp();Sp();Tp();Ap();Cp();Ip();Rp();Np();Pp();kp();Lp();Op();Fp();Up();Vp();qp();jp();Wp();Hp();$p();Gp();Yp();Kp();zp();Xp()});var _E,Qu,Qp,Ju,Zr,Jp=L(()=>{Xu();_E=function(e,t,i,r){if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?r:i==="a"?r.call(e):r?r.value:t.get(e)},Ju=class Ju{constructor(){Qu.add(this),this.scope=new Map,this.listeners={},this.ast=[]}setAST(t){this.ast=t}run(){let t;for(let i of this.ast)t=this.visitNode(i);return t}visitNode(t){if(!t)return null;let i=_E(this,Qu,"m",Qp).call(this,t.type);if(i)return new i(t,this).run()}getName(t){if(t.type==="Identifier")return t.name;if(t.type==="Literal")return t.value}on(t,i){this.listeners[t]=i}};s(Ju,"Visitor");Zr=Ju;Qu=new WeakSet,Qp=s(function(t){let i=Li[t];return i||console.warn("[JINTER]:",`JavaScript node "${t}" not implemented!
If this is causing unexpected behavior, please report it at https://github.com/LuanRT/Jinter/issues/new`),i},"_Visitor_getNode")});function il(e,t){for(var i=65536,r=0;r<t.length;r+=2){if(i+=t[r],i>e)return!1;if(i+=t[r+1],i>=e)return!0}return!1}function _t(e,t){return e<65?e===36:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&SE.test(String.fromCharCode(e)):t===!1?!1:il(e,n0)}function Oi(e,t){return e<48?e===36:e<58?!0:e<65?!1:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&TE.test(String.fromCharCode(e)):t===!1?!1:il(e,n0)||il(e,wE)}function ke(e,t){return new q(e,{beforeExpr:!0,binop:t})}function V(e,t){return t===void 0&&(t={}),t.keyword=e,al[e]=new q(e,t)}function Di(e){return e===10||e===13||e===8232||e===8233}function a0(e,t,i){i===void 0&&(i=e.length);for(var r=t;r<i;r++){var n=e.charCodeAt(r);if(Di(n))return r<i-1&&n===13&&e.charCodeAt(r+1)===10?r+2:r+1}return-1}function Bt(e){return e0[e]||(e0[e]=new RegExp("^(?:"+e.replace(/ /g,"|")+")$"))}function Ft(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10)+55296,(e&1023)+56320))}function l0(e,t){for(var i=1,r=0;;){var n=a0(e,r,t);if(n<0)return new tn(i,t-r);++i,r=n}}function NE(e){var t={};for(var i in rl)t[i]=e&&nn(e,i)?e[i]:rl[i];if(t.ecmaVersion==="latest"?t.ecmaVersion=1e8:t.ecmaVersion==null?(!t0&&typeof console=="object"&&console.warn&&(t0=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),t.ecmaVersion=11):t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),t.allowReserved==null&&(t.allowReserved=t.ecmaVersion<5),(!e||e.allowHashBang==null)&&(t.allowHashBang=t.ecmaVersion>=14),Zp(t.onToken)){var r=t.onToken;t.onToken=function(n){return r.push(n)}}return Zp(t.onComment)&&(t.onComment=PE(t,t.onComment)),t}function PE(e,t){return function(i,r,n,a,o,u){var l={type:i?"Block":"Line",value:r,start:n,end:a};e.locations&&(l.loc=new _s(this,o,u)),e.ranges&&(l.range=[n,a]),t.push(l)}}function cl(e,t){return Mi|(e?ol:0)|(t?c0:0)}function DE(e,t){var i=t.key.name,r=e[i],n="true";return t.type==="MethodDefinition"&&(t.kind==="get"||t.kind==="set")&&(n=(t.static?"s":"i")+t.kind),r==="iget"&&n==="iset"||r==="iset"&&n==="iget"||r==="sget"&&n==="sset"||r==="sset"&&n==="sget"?(e[i]="true",!1):r?!0:(e[i]=n,!1)}function ms(e,t){var i=e.computed,r=e.key;return!i&&(r.type==="Identifier"&&r.name===t||r.type==="Literal"&&r.value===t)}function y0(e){return e.type==="Identifier"||e.type==="ParenthesizedExpression"&&y0(e.expression)}function sl(e){return e.type==="MemberExpression"&&e.property.type==="PrivateIdentifier"||e.type==="ChainExpression"&&sl(e.expression)||e.type==="ParenthesizedExpression"&&sl(e.expression)}function _0(e,t,i,r){return e.type=t,e.end=i,this.options.locations&&(e.loc.end=r),this.options.ranges&&(e.range[1]=i),e}function HE(e){var t=N0[e]={binary:Bt(UE[e]+" "+i0),binaryOfStrings:Bt(qE[e]),nonBinary:{General_Category:Bt(i0),Script:Bt(WE[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}function $E(e){for(var t in e)return!0;return!1}function P0(e){return e===36||e>=40&&e<=43||e===46||e===63||e>=91&&e<=94||e>=123&&e<=125}function GE(e){return _t(e,!0)||e===36||e===95}function YE(e){return Oi(e,!0)||e===36||e===95||e===8204||e===8205}function k0(e){return e>=65&&e<=90||e>=97&&e<=122}function KE(e){return e>=0&&e<=1114111}function zE(e){return e===100||e===68||e===115||e===83||e===119||e===87}function O0(e){return k0(e)||e===95}function XE(e){return O0(e)||Es(e)}function QE(e){return e===33||e>=35&&e<=38||e>=42&&e<=44||e===46||e>=58&&e<=64||e===94||e===96||e===126}function JE(e){return e===40||e===41||e===45||e===47||e>=91&&e<=93||e>=123&&e<=125}function ZE(e){return e===33||e===35||e===37||e===38||e===44||e===45||e>=58&&e<=62||e===64||e===96||e===126}function Es(e){return e>=48&&e<=57}function D0(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function M0(e){return e>=65&&e<=70?10+(e-65):e>=97&&e<=102?10+(e-97):e-48}function B0(e){return e>=48&&e<=55}function ex(e,t){return t?parseInt(e,8):parseFloat(e.replace(/_/g,""))}function F0(e){return typeof BigInt!="function"?null:BigInt(e.replace(/_/g,""))}function pl(e,t){return oe.parse(e,t)}var wE,n0,vE,s0,Zu,el,EE,xE,SE,TE,q,Le,xe,al,h,Me,AE,o0,Oe,u0,CE,IE,nn,Zp,e0,RE,tn,_s,rl,t0,rn,Mi,ol,c0,f0,h0,ul,d0,sn,ll,bs,fl,vt,p0,b0,m0,oe,tt,ye,kE,ws,I,hl,LE,OE,en,nl,g0,Be,qe,Y,Bi,P,ME,gs,Ut,BE,vs,an,w0,v0,E0,x0,S0,FE,UE,VE,qE,i0,T0,A0,C0,I0,R0,jE,WE,N0,r0,ps,tl,C,ys,it,L0,wt,De,dl,F,U0,tx,V0=L(()=>{wE=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],n0=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],vE="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\u30FB\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F\uFF65",s0="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",Zu={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},el="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",EE={5:el,"5module":el+" export import",6:el+" const class extends export import super"},xE=/^in(stanceof)?$/,SE=new RegExp("["+s0+"]"),TE=new RegExp("["+s0+vE+"]");s(il,"isInAstralSet");s(_t,"isIdentifierStart");s(Oi,"isIdentifierChar");q=s(function(t,i){i===void 0&&(i={}),this.label=t,this.keyword=i.keyword,this.beforeExpr=!!i.beforeExpr,this.startsExpr=!!i.startsExpr,this.isLoop=!!i.isLoop,this.isAssign=!!i.isAssign,this.prefix=!!i.prefix,this.postfix=!!i.postfix,this.binop=i.binop||null,this.updateContext=null},"TokenType");s(ke,"binop");Le={beforeExpr:!0},xe={startsExpr:!0},al={};s(V,"kw");h={num:new q("num",xe),regexp:new q("regexp",xe),string:new q("string",xe),name:new q("name",xe),privateId:new q("privateId",xe),eof:new q("eof"),bracketL:new q("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new q("]"),braceL:new q("{",{beforeExpr:!0,startsExpr:!0}),braceR:new q("}"),parenL:new q("(",{beforeExpr:!0,startsExpr:!0}),parenR:new q(")"),comma:new q(",",Le),semi:new q(";",Le),colon:new q(":",Le),dot:new q("."),question:new q("?",Le),questionDot:new q("?."),arrow:new q("=>",Le),template:new q("template"),invalidTemplate:new q("invalidTemplate"),ellipsis:new q("...",Le),backQuote:new q("`",xe),dollarBraceL:new q("${",{beforeExpr:!0,startsExpr:!0}),eq:new q("=",{beforeExpr:!0,isAssign:!0}),assign:new q("_=",{beforeExpr:!0,isAssign:!0}),incDec:new q("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new q("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:ke("||",1),logicalAND:ke("&&",2),bitwiseOR:ke("|",3),bitwiseXOR:ke("^",4),bitwiseAND:ke("&",5),equality:ke("==/!=/===/!==",6),relational:ke("</>/<=/>=",7),bitShift:ke("<</>>/>>>",8),plusMin:new q("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:ke("%",10),star:ke("*",10),slash:ke("/",10),starstar:new q("**",{beforeExpr:!0}),coalesce:ke("??",1),_break:V("break"),_case:V("case",Le),_catch:V("catch"),_continue:V("continue"),_debugger:V("debugger"),_default:V("default",Le),_do:V("do",{isLoop:!0,beforeExpr:!0}),_else:V("else",Le),_finally:V("finally"),_for:V("for",{isLoop:!0}),_function:V("function",xe),_if:V("if"),_return:V("return",Le),_switch:V("switch"),_throw:V("throw",Le),_try:V("try"),_var:V("var"),_const:V("const"),_while:V("while",{isLoop:!0}),_with:V("with"),_new:V("new",{beforeExpr:!0,startsExpr:!0}),_this:V("this",xe),_super:V("super",xe),_class:V("class",xe),_extends:V("extends",Le),_export:V("export"),_import:V("import",xe),_null:V("null",xe),_true:V("true",xe),_false:V("false",xe),_in:V("in",{beforeExpr:!0,binop:7}),_instanceof:V("instanceof",{beforeExpr:!0,binop:7}),_typeof:V("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:V("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:V("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Me=/\r\n?|\n|\u2028|\u2029/,AE=new RegExp(Me.source,"g");s(Di,"isNewLine");s(a0,"nextLineBreak");o0=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Oe=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,u0=Object.prototype,CE=u0.hasOwnProperty,IE=u0.toString,nn=Object.hasOwn||function(e,t){return CE.call(e,t)},Zp=Array.isArray||function(e){return IE.call(e)==="[object Array]"},e0=Object.create(null);s(Bt,"wordsRegexp");s(Ft,"codePointToString");RE=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,tn=s(function(t,i){this.line=t,this.column=i},"Position");tn.prototype.offset=s(function(t){return new tn(this.line,this.column+t)},"offset");_s=s(function(t,i,r){this.start=i,this.end=r,t.sourceFile!==null&&(this.source=t.sourceFile)},"SourceLocation");s(l0,"getLineInfo");rl={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},t0=!1;s(NE,"getOptions");s(PE,"pushComment");rn=1,Mi=2,ol=4,c0=8,f0=16,h0=32,ul=64,d0=128,sn=256,ll=rn|Mi|sn;s(cl,"functionFlags");bs=0,fl=1,vt=2,p0=3,b0=4,m0=5,oe=s(function(t,i,r){this.options=t=NE(t),this.sourceFile=t.sourceFile,this.keywords=Bt(EE[t.ecmaVersion>=6?6:t.sourceType==="module"?"5module":5]);var n="";t.allowReserved!==!0&&(n=Zu[t.ecmaVersion>=6?6:t.ecmaVersion===5?5:3],t.sourceType==="module"&&(n+=" await")),this.reservedWords=Bt(n);var a=(n?n+" ":"")+Zu.strict;this.reservedWordsStrict=Bt(a),this.reservedWordsStrictBind=Bt(a+" "+Zu.strictBind),this.input=String(i),this.containsEsc=!1,r?(this.pos=r,this.lineStart=this.input.lastIndexOf(`
`,r-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Me).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=h.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=t.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&t.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(rn),this.regexpState=null,this.privateNameStack=[]},"Parser"),tt={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};oe.prototype.parse=s(function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)},"parse");tt.inFunction.get=function(){return(this.currentVarScope().flags&Mi)>0};tt.inGenerator.get=function(){return(this.currentVarScope().flags&c0)>0&&!this.currentVarScope().inClassFieldInit};tt.inAsync.get=function(){return(this.currentVarScope().flags&ol)>0&&!this.currentVarScope().inClassFieldInit};tt.canAwait.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e];if(t.inClassFieldInit||t.flags&sn)return!1;if(t.flags&Mi)return(t.flags&ol)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};tt.allowSuper.get=function(){var e=this.currentThisScope(),t=e.flags,i=e.inClassFieldInit;return(t&ul)>0||i||this.options.allowSuperOutsideMethod};tt.allowDirectSuper.get=function(){return(this.currentThisScope().flags&d0)>0};tt.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};tt.allowNewDotTarget.get=function(){var e=this.currentThisScope(),t=e.flags,i=e.inClassFieldInit;return(t&(Mi|sn))>0||i};tt.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&sn)>0};oe.extend=s(function(){for(var t=[],i=arguments.length;i--;)t[i]=arguments[i];for(var r=this,n=0;n<t.length;n++)r=t[n](r);return r},"extend");oe.parse=s(function(t,i){return new this(i,t).parse()},"parse");oe.parseExpressionAt=s(function(t,i,r){var n=new this(r,t,i);return n.nextToken(),n.parseExpression()},"parseExpressionAt");oe.tokenizer=s(function(t,i){return new this(i,t)},"tokenizer");Object.defineProperties(oe.prototype,tt);ye=oe.prototype,kE=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;ye.strictDirective=function(e){if(this.options.ecmaVersion<5)return!1;for(;;){Oe.lastIndex=e,e+=Oe.exec(this.input)[0].length;var t=kE.exec(this.input.slice(e));if(!t)return!1;if((t[1]||t[2])==="use strict"){Oe.lastIndex=e+t[0].length;var i=Oe.exec(this.input),r=i.index+i[0].length,n=this.input.charAt(r);return n===";"||n==="}"||Me.test(i[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(n)||n==="!"&&this.input.charAt(r+1)==="=")}e+=t[0].length,Oe.lastIndex=e,e+=Oe.exec(this.input)[0].length,this.input[e]===";"&&e++}};ye.eat=function(e){return this.type===e?(this.next(),!0):!1};ye.isContextual=function(e){return this.type===h.name&&this.value===e&&!this.containsEsc};ye.eatContextual=function(e){return this.isContextual(e)?(this.next(),!0):!1};ye.expectContextual=function(e){this.eatContextual(e)||this.unexpected()};ye.canInsertSemicolon=function(){return this.type===h.eof||this.type===h.braceR||Me.test(this.input.slice(this.lastTokEnd,this.start))};ye.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};ye.semicolon=function(){!this.eat(h.semi)&&!this.insertSemicolon()&&this.unexpected()};ye.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0};ye.expect=function(e){this.eat(e)||this.unexpected()};ye.unexpected=function(e){this.raise(e!=null?e:this.start,"Unexpected token")};ws=s(function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1},"DestructuringErrors");ye.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var i=t?e.parenthesizedAssign:e.parenthesizedBind;i>-1&&this.raiseRecoverable(i,t?"Assigning to rvalue":"Parenthesized pattern")}};ye.checkExpressionErrors=function(e,t){if(!e)return!1;var i=e.shorthandAssign,r=e.doubleProto;if(!t)return i>=0||r>=0;i>=0&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")};ye.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};ye.isSimpleAssignTarget=function(e){return e.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(e.expression):e.type==="Identifier"||e.type==="MemberExpression"};I=oe.prototype;I.parseTopLevel=function(e){var t=Object.create(null);for(e.body||(e.body=[]);this.type!==h.eof;){var i=this.parseStatement(null,!0,t);e.body.push(i)}if(this.inModule)for(var r=0,n=Object.keys(this.undefinedExports);r<n.length;r+=1){var a=n[r];this.raiseRecoverable(this.undefinedExports[a].start,"Export '"+a+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};hl={kind:"loop"},LE={kind:"switch"};I.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Oe.lastIndex=this.pos;var t=Oe.exec(this.input),i=this.pos+t[0].length,r=this.input.charCodeAt(i);if(r===91||r===92)return!0;if(e)return!1;if(r===123||r>55295&&r<56320)return!0;if(_t(r,!0)){for(var n=i+1;Oi(r=this.input.charCodeAt(n),!0);)++n;if(r===92||r>55295&&r<56320)return!0;var a=this.input.slice(i,n);if(!xE.test(a))return!0}return!1};I.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Oe.lastIndex=this.pos;var e=Oe.exec(this.input),t=this.pos+e[0].length,i;return!Me.test(this.input.slice(this.pos,t))&&this.input.slice(t,t+8)==="function"&&(t+8===this.input.length||!(Oi(i=this.input.charCodeAt(t+8))||i>55295&&i<56320))};I.parseStatement=function(e,t,i){var r=this.type,n=this.startNode(),a;switch(this.isLet(e)&&(r=h._var,a="let"),r){case h._break:case h._continue:return this.parseBreakContinueStatement(n,r.keyword);case h._debugger:return this.parseDebuggerStatement(n);case h._do:return this.parseDoStatement(n);case h._for:return this.parseForStatement(n);case h._function:return e&&(this.strict||e!=="if"&&e!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(n,!1,!e);case h._class:return e&&this.unexpected(),this.parseClass(n,!0);case h._if:return this.parseIfStatement(n);case h._return:return this.parseReturnStatement(n);case h._switch:return this.parseSwitchStatement(n);case h._throw:return this.parseThrowStatement(n);case h._try:return this.parseTryStatement(n);case h._const:case h._var:return a=a||this.value,e&&a!=="var"&&this.unexpected(),this.parseVarStatement(n,a);case h._while:return this.parseWhileStatement(n);case h._with:return this.parseWithStatement(n);case h.braceL:return this.parseBlock(!0,n);case h.semi:return this.parseEmptyStatement(n);case h._export:case h._import:if(this.options.ecmaVersion>10&&r===h._import){Oe.lastIndex=this.pos;var o=Oe.exec(this.input),u=this.pos+o[0].length,l=this.input.charCodeAt(u);if(l===40||l===46)return this.parseExpressionStatement(n,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),r===h._import?this.parseImport(n):this.parseExport(n,i);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(n,!0,!e);var c=this.value,p=this.parseExpression();return r===h.name&&p.type==="Identifier"&&this.eat(h.colon)?this.parseLabeledStatement(n,c,p,e):this.parseExpressionStatement(n,p)}};I.parseBreakContinueStatement=function(e,t){var i=t==="break";this.next(),this.eat(h.semi)||this.insertSemicolon()?e.label=null:this.type!==h.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var n=this.labels[r];if((e.label==null||n.name===e.label.name)&&(n.kind!=null&&(i||n.kind==="loop")||e.label&&i))break}return r===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,i?"BreakStatement":"ContinueStatement")};I.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")};I.parseDoStatement=function(e){return this.next(),this.labels.push(hl),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(h._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(h.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")};I.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(hl),this.enterScope(0),this.expect(h.parenL),this.type===h.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var i=this.isLet();if(this.type===h._var||this.type===h._const||i){var r=this.startNode(),n=i?"let":this.value;return this.next(),this.parseVar(r,!0,n),this.finishNode(r,"VariableDeclaration"),(this.type===h._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&r.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===h._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,r)):(t>-1&&this.unexpected(t),this.parseFor(e,r))}var a=this.isContextual("let"),o=!1,u=this.containsEsc,l=new ws,c=this.start,p=t>-1?this.parseExprSubscripts(l,"await"):this.parseExpression(!0,l);return this.type===h._in||(o=this.options.ecmaVersion>=6&&this.isContextual("of"))?(t>-1?(this.type===h._in&&this.unexpected(t),e.await=!0):o&&this.options.ecmaVersion>=8&&(p.start===c&&!u&&p.type==="Identifier"&&p.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(e.await=!1)),a&&o&&this.raise(p.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(p,!1,l),this.checkLValPattern(p),this.parseForIn(e,p)):(this.checkExpressionErrors(l,!0),t>-1&&this.unexpected(t),this.parseFor(e,p))};I.parseFunctionStatement=function(e,t,i){return this.next(),this.parseFunction(e,en|(i?0:nl),!1,t)};I.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(h._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")};I.parseReturnStatement=function(e){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(h.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")};I.parseSwitchStatement=function(e){this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(h.braceL),this.labels.push(LE),this.enterScope(0);for(var t,i=!1;this.type!==h.braceR;)if(this.type===h._case||this.type===h._default){var r=this.type===h._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),r?t.test=this.parseExpression():(i&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),i=!0,t.test=null),this.expect(h.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")};I.parseThrowStatement=function(e){return this.next(),Me.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};OE=[];I.parseCatchClauseParam=function(){var e=this.parseBindingAtom(),t=e.type==="Identifier";return this.enterScope(t?h0:0),this.checkLValPattern(e,t?b0:vt),this.expect(h.parenR),e};I.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===h._catch){var t=this.startNode();this.next(),this.eat(h.parenL)?t.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0)),t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(h._finally)?this.parseBlock():null,!e.handler&&!e.finalizer&&this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")};I.parseVarStatement=function(e,t,i){return this.next(),this.parseVar(e,!1,t,i),this.semicolon(),this.finishNode(e,"VariableDeclaration")};I.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(hl),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")};I.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")};I.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")};I.parseLabeledStatement=function(e,t,i,r){for(var n=0,a=this.labels;n<a.length;n+=1){var o=a[n];o.name===t&&this.raise(i.start,"Label '"+t+"' is already declared")}for(var u=this.type.isLoop?"loop":this.type===h._switch?"switch":null,l=this.labels.length-1;l>=0;l--){var c=this.labels[l];if(c.statementStart===e.start)c.statementStart=this.start,c.kind=u;else break}return this.labels.push({name:t,kind:u,statementStart:this.start}),e.body=this.parseStatement(r?r.indexOf("label")===-1?r+"label":r:"label"),this.labels.pop(),e.label=i,this.finishNode(e,"LabeledStatement")};I.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")};I.parseBlock=function(e,t,i){for(e===void 0&&(e=!0),t===void 0&&(t=this.startNode()),t.body=[],this.expect(h.braceL),e&&this.enterScope(0);this.type!==h.braceR;){var r=this.parseStatement(null);t.body.push(r)}return i&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")};I.parseFor=function(e,t){return e.init=t,this.expect(h.semi),e.test=this.type===h.semi?null:this.parseExpression(),this.expect(h.semi),e.update=this.type===h.parenR?null:this.parseExpression(),this.expect(h.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")};I.parseForIn=function(e,t){var i=this.type===h._in;return this.next(),t.type==="VariableDeclaration"&&t.declarations[0].init!=null&&(!i||this.options.ecmaVersion<8||this.strict||t.kind!=="var"||t.declarations[0].id.type!=="Identifier")&&this.raise(t.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"),e.left=t,e.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(h.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,i?"ForInStatement":"ForOfStatement")};I.parseVar=function(e,t,i,r){for(e.declarations=[],e.kind=i;;){var n=this.startNode();if(this.parseVarId(n,i),this.eat(h.eq)?n.init=this.parseMaybeAssign(t):!r&&i==="const"&&!(this.type===h._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!r&&n.id.type!=="Identifier"&&!(t&&(this.type===h._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):n.init=null,e.declarations.push(this.finishNode(n,"VariableDeclarator")),!this.eat(h.comma))break}return e};I.parseVarId=function(e,t){e.id=this.parseBindingAtom(),this.checkLValPattern(e.id,t==="var"?fl:vt,!1)};en=1,nl=2,g0=4;I.parseFunction=function(e,t,i,r,n){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===h.star&&t&nl&&this.unexpected(),e.generator=this.eat(h.star)),this.options.ecmaVersion>=8&&(e.async=!!r),t&en&&(e.id=t&g0&&this.type!==h.name?null:this.parseIdent(),e.id&&!(t&nl)&&this.checkLValSimple(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?fl:vt:p0));var a=this.yieldPos,o=this.awaitPos,u=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(cl(e.async,e.generator)),t&en||(e.id=this.type===h.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,i,!1,n),this.yieldPos=a,this.awaitPos=o,this.awaitIdentPos=u,this.finishNode(e,t&en?"FunctionDeclaration":"FunctionExpression")};I.parseFunctionParams=function(e){this.expect(h.parenL),e.params=this.parseBindingList(h.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};I.parseClass=function(e,t){this.next();var i=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var r=this.enterClassBody(),n=this.startNode(),a=!1;for(n.body=[],this.expect(h.braceL);this.type!==h.braceR;){var o=this.parseClassElement(e.superClass!==null);o&&(n.body.push(o),o.type==="MethodDefinition"&&o.kind==="constructor"?(a&&this.raiseRecoverable(o.start,"Duplicate constructor in the same class"),a=!0):o.key&&o.key.type==="PrivateIdentifier"&&DE(r,o)&&this.raiseRecoverable(o.key.start,"Identifier '#"+o.key.name+"' has already been declared"))}return this.strict=i,this.next(),e.body=this.finishNode(n,"ClassBody"),this.exitClassBody(),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")};I.parseClassElement=function(e){if(this.eat(h.semi))return null;var t=this.options.ecmaVersion,i=this.startNode(),r="",n=!1,a=!1,o="method",u=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(h.braceL))return this.parseClassStaticBlock(i),i;this.isClassElementNameStart()||this.type===h.star?u=!0:r="static"}if(i.static=u,!r&&t>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===h.star)&&!this.canInsertSemicolon()?a=!0:r="async"),!r&&(t>=9||!a)&&this.eat(h.star)&&(n=!0),!r&&!a&&!n){var l=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?o=l:r=l)}if(r?(i.computed=!1,i.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),i.key.name=r,this.finishNode(i.key,"Identifier")):this.parseClassElementName(i),t<13||this.type===h.parenL||o!=="method"||n||a){var c=!i.static&&ms(i,"constructor"),p=c&&e;c&&o!=="method"&&this.raise(i.key.start,"Constructor can't have get/set modifier"),i.kind=c?"constructor":o,this.parseClassMethod(i,n,a,p)}else this.parseClassField(i);return i};I.isClassElementNameStart=function(){return this.type===h.name||this.type===h.privateId||this.type===h.num||this.type===h.string||this.type===h.bracketL||this.type.keyword};I.parseClassElementName=function(e){this.type===h.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)};I.parseClassMethod=function(e,t,i,r){var n=e.key;e.kind==="constructor"?(t&&this.raise(n.start,"Constructor can't be a generator"),i&&this.raise(n.start,"Constructor can't be an async method")):e.static&&ms(e,"prototype")&&this.raise(n.start,"Classes may not have a static property named prototype");var a=e.value=this.parseMethod(t,i,r);return e.kind==="get"&&a.params.length!==0&&this.raiseRecoverable(a.start,"getter should have no params"),e.kind==="set"&&a.params.length!==1&&this.raiseRecoverable(a.start,"setter should have exactly one param"),e.kind==="set"&&a.params[0].type==="RestElement"&&this.raiseRecoverable(a.params[0].start,"Setter cannot use rest params"),this.finishNode(e,"MethodDefinition")};I.parseClassField=function(e){if(ms(e,"constructor")?this.raise(e.key.start,"Classes can't have a field named 'constructor'"):e.static&&ms(e,"prototype")&&this.raise(e.key.start,"Classes can't have a static field named 'prototype'"),this.eat(h.eq)){var t=this.currentThisScope(),i=t.inClassFieldInit;t.inClassFieldInit=!0,e.value=this.parseMaybeAssign(),t.inClassFieldInit=i}else e.value=null;return this.semicolon(),this.finishNode(e,"PropertyDefinition")};I.parseClassStaticBlock=function(e){e.body=[];var t=this.labels;for(this.labels=[],this.enterScope(sn|ul);this.type!==h.braceR;){var i=this.parseStatement(null);e.body.push(i)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(e,"StaticBlock")};I.parseClassId=function(e,t){this.type===h.name?(e.id=this.parseIdent(),t&&this.checkLValSimple(e.id,vt,!1)):(t===!0&&this.unexpected(),e.id=null)};I.parseClassSuper=function(e){e.superClass=this.eat(h._extends)?this.parseExprSubscripts(null,!1):null};I.enterClassBody=function(){var e={declared:Object.create(null),used:[]};return this.privateNameStack.push(e),e.declared};I.exitClassBody=function(){var e=this.privateNameStack.pop(),t=e.declared,i=e.used;if(this.options.checkPrivateFields)for(var r=this.privateNameStack.length,n=r===0?null:this.privateNameStack[r-1],a=0;a<i.length;++a){var o=i[a];nn(t,o.name)||(n?n.used.push(o):this.raiseRecoverable(o.start,"Private field '#"+o.name+"' must be declared in an enclosing class"))}};s(DE,"isPrivateNameConflicted");s(ms,"checkKeyName");I.parseExportAllDeclaration=function(e,t){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseModuleExportName(),this.checkExport(t,e.exported,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==h.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration")};I.parseExport=function(e,t){if(this.next(),this.eat(h.star))return this.parseExportAllDeclaration(e,t);if(this.eat(h._default))return this.checkExport(t,"default",this.lastTokStart),e.declaration=this.parseExportDefaultDeclaration(),this.finishNode(e,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())e.declaration=this.parseExportDeclaration(e),e.declaration.type==="VariableDeclaration"?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==h.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var i=0,r=e.specifiers;i<r.length;i+=1){var n=r[i];this.checkUnreserved(n.local),this.checkLocalExport(n.local),n.local.type==="Literal"&&this.raise(n.local.start,"A string literal cannot be used as an exported binding without `from`.")}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")};I.parseExportDeclaration=function(e){return this.parseStatement(null)};I.parseExportDefaultDeclaration=function(){var e;if(this.type===h._function||(e=this.isAsyncFunction())){var t=this.startNode();return this.next(),e&&this.next(),this.parseFunction(t,en|g0,!1,e)}else if(this.type===h._class){var i=this.startNode();return this.parseClass(i,"nullableID")}else{var r=this.parseMaybeAssign();return this.semicolon(),r}};I.checkExport=function(e,t,i){e&&(typeof t!="string"&&(t=t.type==="Identifier"?t.name:t.value),nn(e,t)&&this.raiseRecoverable(i,"Duplicate export '"+t+"'"),e[t]=!0)};I.checkPatternExport=function(e,t){var i=t.type;if(i==="Identifier")this.checkExport(e,t,t.start);else if(i==="ObjectPattern")for(var r=0,n=t.properties;r<n.length;r+=1){var a=n[r];this.checkPatternExport(e,a)}else if(i==="ArrayPattern")for(var o=0,u=t.elements;o<u.length;o+=1){var l=u[o];l&&this.checkPatternExport(e,l)}else i==="Property"?this.checkPatternExport(e,t.value):i==="AssignmentPattern"?this.checkPatternExport(e,t.left):i==="RestElement"&&this.checkPatternExport(e,t.argument)};I.checkVariableExport=function(e,t){if(e)for(var i=0,r=t;i<r.length;i+=1){var n=r[i];this.checkPatternExport(e,n.id)}};I.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};I.parseExportSpecifier=function(e){var t=this.startNode();return t.local=this.parseModuleExportName(),t.exported=this.eatContextual("as")?this.parseModuleExportName():t.local,this.checkExport(e,t.exported,t.exported.start),this.finishNode(t,"ExportSpecifier")};I.parseExportSpecifiers=function(e){var t=[],i=!0;for(this.expect(h.braceL);!this.eat(h.braceR);){if(i)i=!1;else if(this.expect(h.comma),this.afterTrailingComma(h.braceR))break;t.push(this.parseExportSpecifier(e))}return t};I.parseImport=function(e){return this.next(),this.type===h.string?(e.specifiers=OE,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===h.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")};I.parseImportSpecifier=function(){var e=this.startNode();return e.imported=this.parseModuleExportName(),this.eatContextual("as")?e.local=this.parseIdent():(this.checkUnreserved(e.imported),e.local=e.imported),this.checkLValSimple(e.local,vt),this.finishNode(e,"ImportSpecifier")};I.parseImportDefaultSpecifier=function(){var e=this.startNode();return e.local=this.parseIdent(),this.checkLValSimple(e.local,vt),this.finishNode(e,"ImportDefaultSpecifier")};I.parseImportNamespaceSpecifier=function(){var e=this.startNode();return this.next(),this.expectContextual("as"),e.local=this.parseIdent(),this.checkLValSimple(e.local,vt),this.finishNode(e,"ImportNamespaceSpecifier")};I.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===h.name&&(e.push(this.parseImportDefaultSpecifier()),!this.eat(h.comma)))return e;if(this.type===h.star)return e.push(this.parseImportNamespaceSpecifier()),e;for(this.expect(h.braceL);!this.eat(h.braceR);){if(t)t=!1;else if(this.expect(h.comma),this.afterTrailingComma(h.braceR))break;e.push(this.parseImportSpecifier())}return e};I.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===h.string){var e=this.parseLiteral(this.value);return RE.test(e.value)&&this.raise(e.start,"An export name cannot include a lone surrogate."),e}return this.parseIdent(!0)};I.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)};I.isDirectiveCandidate=function(e){return this.options.ecmaVersion>=5&&e.type==="ExpressionStatement"&&e.expression.type==="Literal"&&typeof e.expression.value=="string"&&(this.input[e.start]==='"'||this.input[e.start]==="'")};Be=oe.prototype;Be.toAssignable=function(e,t,i){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&e.name==="await"&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var r=0,n=e.properties;r<n.length;r+=1){var a=n[r];this.toAssignable(a,t),a.type==="RestElement"&&(a.argument.type==="ArrayPattern"||a.argument.type==="ObjectPattern")&&this.raise(a.argument.start,"Unexpected token")}break;case"Property":e.kind!=="init"&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),e.argument.type==="AssignmentPattern"&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":e.operator!=="="&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,i);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return e};Be.toAssignableList=function(e,t){for(var i=e.length,r=0;r<i;r++){var n=e[r];n&&this.toAssignable(n,t)}if(i){var a=e[i-1];this.options.ecmaVersion===6&&t&&a&&a.type==="RestElement"&&a.argument.type!=="Identifier"&&this.unexpected(a.argument.start)}return e};Be.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")};Be.parseRestBinding=function(){var e=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==h.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")};Be.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case h.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(h.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case h.braceL:return this.parseObj(!0)}return this.parseIdent()};Be.parseBindingList=function(e,t,i,r){for(var n=[],a=!0;!this.eat(e);)if(a?a=!1:this.expect(h.comma),t&&this.type===h.comma)n.push(null);else{if(i&&this.afterTrailingComma(e))break;if(this.type===h.ellipsis){var o=this.parseRestBinding();this.parseBindingListItem(o),n.push(o),this.type===h.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}else n.push(this.parseAssignableListItem(r))}return n};Be.parseAssignableListItem=function(e){var t=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(t),t};Be.parseBindingListItem=function(e){return e};Be.parseMaybeDefault=function(e,t,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(h.eq))return i;var r=this.startNodeAt(e,t);return r.left=i,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")};Be.checkLValSimple=function(e,t,i){t===void 0&&(t=bs);var r=t!==bs;switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(r?"Binding ":"Assigning to ")+e.name+" in strict mode"),r&&(t===vt&&e.name==="let"&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),i&&(nn(i,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),i[e.name]=!0),t!==m0&&this.declareName(e.name,t,e.start));break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":r&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ParenthesizedExpression":return r&&this.raiseRecoverable(e.start,"Binding parenthesized expression"),this.checkLValSimple(e.expression,t,i);default:this.raise(e.start,(r?"Binding":"Assigning to")+" rvalue")}};Be.checkLValPattern=function(e,t,i){switch(t===void 0&&(t=bs),e.type){case"ObjectPattern":for(var r=0,n=e.properties;r<n.length;r+=1){var a=n[r];this.checkLValInnerPattern(a,t,i)}break;case"ArrayPattern":for(var o=0,u=e.elements;o<u.length;o+=1){var l=u[o];l&&this.checkLValInnerPattern(l,t,i)}break;default:this.checkLValSimple(e,t,i)}};Be.checkLValInnerPattern=function(e,t,i){switch(t===void 0&&(t=bs),e.type){case"Property":this.checkLValInnerPattern(e.value,t,i);break;case"AssignmentPattern":this.checkLValPattern(e.left,t,i);break;case"RestElement":this.checkLValPattern(e.argument,t,i);break;default:this.checkLValPattern(e,t,i)}};qe=s(function(t,i,r,n,a){this.token=t,this.isExpr=!!i,this.preserveSpace=!!r,this.override=n,this.generator=!!a},"TokContext"),Y={b_stat:new qe("{",!1),b_expr:new qe("{",!0),b_tmpl:new qe("${",!1),p_stat:new qe("(",!1),p_expr:new qe("(",!0),q_tmpl:new qe("`",!0,!0,function(e){return e.tryReadTemplateToken()}),f_stat:new qe("function",!1),f_expr:new qe("function",!0),f_expr_gen:new qe("function",!0,!1,null,!0),f_gen:new qe("function",!1,!1,null,!0)},Bi=oe.prototype;Bi.initialContext=function(){return[Y.b_stat]};Bi.curContext=function(){return this.context[this.context.length-1]};Bi.braceIsBlock=function(e){var t=this.curContext();return t===Y.f_expr||t===Y.f_stat?!0:e===h.colon&&(t===Y.b_stat||t===Y.b_expr)?!t.isExpr:e===h._return||e===h.name&&this.exprAllowed?Me.test(this.input.slice(this.lastTokEnd,this.start)):e===h._else||e===h.semi||e===h.eof||e===h.parenR||e===h.arrow?!0:e===h.braceL?t===Y.b_stat:e===h._var||e===h._const||e===h.name?!1:!this.exprAllowed};Bi.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if(t.token==="function")return t.generator}return!1};Bi.updateContext=function(e){var t,i=this.type;i.keyword&&e===h.dot?this.exprAllowed=!1:(t=i.updateContext)?t.call(this,e):this.exprAllowed=i.beforeExpr};Bi.overrideContext=function(e){this.curContext()!==e&&(this.context[this.context.length-1]=e)};h.parenR.updateContext=h.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var e=this.context.pop();e===Y.b_stat&&this.curContext().token==="function"&&(e=this.context.pop()),this.exprAllowed=!e.isExpr};h.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?Y.b_stat:Y.b_expr),this.exprAllowed=!0};h.dollarBraceL.updateContext=function(){this.context.push(Y.b_tmpl),this.exprAllowed=!0};h.parenL.updateContext=function(e){var t=e===h._if||e===h._for||e===h._with||e===h._while;this.context.push(t?Y.p_stat:Y.p_expr),this.exprAllowed=!0};h.incDec.updateContext=function(){};h._function.updateContext=h._class.updateContext=function(e){e.beforeExpr&&e!==h._else&&!(e===h.semi&&this.curContext()!==Y.p_stat)&&!(e===h._return&&Me.test(this.input.slice(this.lastTokEnd,this.start)))&&!((e===h.colon||e===h.braceL)&&this.curContext()===Y.b_stat)?this.context.push(Y.f_expr):this.context.push(Y.f_stat),this.exprAllowed=!1};h.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};h.backQuote.updateContext=function(){this.curContext()===Y.q_tmpl?this.context.pop():this.context.push(Y.q_tmpl),this.exprAllowed=!1};h.star.updateContext=function(e){if(e===h._function){var t=this.context.length-1;this.context[t]===Y.f_expr?this.context[t]=Y.f_expr_gen:this.context[t]=Y.f_gen}this.exprAllowed=!0};h.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==h.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};P=oe.prototype;P.checkPropClash=function(e,t,i){if(!(this.options.ecmaVersion>=9&&e.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var r=e.key,n;switch(r.type){case"Identifier":n=r.name;break;case"Literal":n=String(r.value);break;default:return}var a=e.kind;if(this.options.ecmaVersion>=6){n==="__proto__"&&a==="init"&&(t.proto&&(i?i.doubleProto<0&&(i.doubleProto=r.start):this.raiseRecoverable(r.start,"Redefinition of __proto__ property")),t.proto=!0);return}n="$"+n;var o=t[n];if(o){var u;a==="init"?u=this.strict&&o.init||o.get||o.set:u=o.init||o[a],u&&this.raiseRecoverable(r.start,"Redefinition of property")}else o=t[n]={init:!1,get:!1,set:!1};o[a]=!0}};P.parseExpression=function(e,t){var i=this.start,r=this.startLoc,n=this.parseMaybeAssign(e,t);if(this.type===h.comma){var a=this.startNodeAt(i,r);for(a.expressions=[n];this.eat(h.comma);)a.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(a,"SequenceExpression")}return n};P.parseMaybeAssign=function(e,t,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var r=!1,n=-1,a=-1,o=-1;t?(n=t.parenthesizedAssign,a=t.trailingComma,o=t.doubleProto,t.parenthesizedAssign=t.trailingComma=-1):(t=new ws,r=!0);var u=this.start,l=this.startLoc;(this.type===h.parenL||this.type===h.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=e==="await");var c=this.parseMaybeConditional(e,t);if(i&&(c=i.call(this,c,u,l)),this.type.isAssign){var p=this.startNodeAt(u,l);return p.operator=this.value,this.type===h.eq&&(c=this.toAssignable(c,!1,t)),r||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=c.start&&(t.shorthandAssign=-1),this.type===h.eq?this.checkLValPattern(c):this.checkLValSimple(c),p.left=c,this.next(),p.right=this.parseMaybeAssign(e),o>-1&&(t.doubleProto=o),this.finishNode(p,"AssignmentExpression")}else r&&this.checkExpressionErrors(t,!0);return n>-1&&(t.parenthesizedAssign=n),a>-1&&(t.trailingComma=a),c};P.parseMaybeConditional=function(e,t){var i=this.start,r=this.startLoc,n=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return n;if(this.eat(h.question)){var a=this.startNodeAt(i,r);return a.test=n,a.consequent=this.parseMaybeAssign(),this.expect(h.colon),a.alternate=this.parseMaybeAssign(e),this.finishNode(a,"ConditionalExpression")}return n};P.parseExprOps=function(e,t){var i=this.start,r=this.startLoc,n=this.parseMaybeUnary(t,!1,!1,e);return this.checkExpressionErrors(t)||n.start===i&&n.type==="ArrowFunctionExpression"?n:this.parseExprOp(n,i,r,-1,e)};P.parseExprOp=function(e,t,i,r,n){var a=this.type.binop;if(a!=null&&(!n||this.type!==h._in)&&a>r){var o=this.type===h.logicalOR||this.type===h.logicalAND,u=this.type===h.coalesce;u&&(a=h.logicalAND.binop);var l=this.value;this.next();var c=this.start,p=this.startLoc,g=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,n),c,p,a,n),v=this.buildBinary(t,i,e,g,l,o||u);return(o&&this.type===h.coalesce||u&&(this.type===h.logicalOR||this.type===h.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(v,t,i,r,n)}return e};P.buildBinary=function(e,t,i,r,n,a){r.type==="PrivateIdentifier"&&this.raise(r.start,"Private identifier can only be left side of binary expression");var o=this.startNodeAt(e,t);return o.left=i,o.operator=n,o.right=r,this.finishNode(o,a?"LogicalExpression":"BinaryExpression")};P.parseMaybeUnary=function(e,t,i,r){var n=this.start,a=this.startLoc,o;if(this.isContextual("await")&&this.canAwait)o=this.parseAwait(r),t=!0;else if(this.type.prefix){var u=this.startNode(),l=this.type===h.incDec;u.operator=this.value,u.prefix=!0,this.next(),u.argument=this.parseMaybeUnary(null,!0,l,r),this.checkExpressionErrors(e,!0),l?this.checkLValSimple(u.argument):this.strict&&u.operator==="delete"&&y0(u.argument)?this.raiseRecoverable(u.start,"Deleting local variable in strict mode"):u.operator==="delete"&&sl(u.argument)?this.raiseRecoverable(u.start,"Private fields can not be deleted"):t=!0,o=this.finishNode(u,l?"UpdateExpression":"UnaryExpression")}else if(!t&&this.type===h.privateId)(r||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),o=this.parsePrivateIdent(),this.type!==h._in&&this.unexpected();else{if(o=this.parseExprSubscripts(e,r),this.checkExpressionErrors(e))return o;for(;this.type.postfix&&!this.canInsertSemicolon();){var c=this.startNodeAt(n,a);c.operator=this.value,c.prefix=!1,c.argument=o,this.checkLValSimple(o),this.next(),o=this.finishNode(c,"UpdateExpression")}}if(!i&&this.eat(h.starstar))if(t)this.unexpected(this.lastTokStart);else return this.buildBinary(n,a,o,this.parseMaybeUnary(null,!1,!1,r),"**",!1);else return o};s(y0,"isLocalVariableAccess");s(sl,"isPrivateFieldAccess");P.parseExprSubscripts=function(e,t){var i=this.start,r=this.startLoc,n=this.parseExprAtom(e,t);if(n.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return n;var a=this.parseSubscripts(n,i,r,!1,t);return e&&a.type==="MemberExpression"&&(e.parenthesizedAssign>=a.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=a.start&&(e.parenthesizedBind=-1),e.trailingComma>=a.start&&(e.trailingComma=-1)),a};P.parseSubscripts=function(e,t,i,r,n){for(var a=this.options.ecmaVersion>=8&&e.type==="Identifier"&&e.name==="async"&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start===5&&this.potentialArrowAt===e.start,o=!1;;){var u=this.parseSubscript(e,t,i,r,a,o,n);if(u.optional&&(o=!0),u===e||u.type==="ArrowFunctionExpression"){if(o){var l=this.startNodeAt(t,i);l.expression=u,u=this.finishNode(l,"ChainExpression")}return u}e=u}};P.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(h.arrow)};P.parseSubscriptAsyncArrow=function(e,t,i,r){return this.parseArrowExpression(this.startNodeAt(e,t),i,!0,r)};P.parseSubscript=function(e,t,i,r,n,a,o){var u=this.options.ecmaVersion>=11,l=u&&this.eat(h.questionDot);r&&l&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var c=this.eat(h.bracketL);if(c||l&&this.type!==h.parenL&&this.type!==h.backQuote||this.eat(h.dot)){var p=this.startNodeAt(t,i);p.object=e,c?(p.property=this.parseExpression(),this.expect(h.bracketR)):this.type===h.privateId&&e.type!=="Super"?p.property=this.parsePrivateIdent():p.property=this.parseIdent(this.options.allowReserved!=="never"),p.computed=!!c,u&&(p.optional=l),e=this.finishNode(p,"MemberExpression")}else if(!r&&this.eat(h.parenL)){var g=new ws,v=this.yieldPos,y=this.awaitPos,S=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var E=this.parseExprList(h.parenR,this.options.ecmaVersion>=8,!1,g);if(n&&!l&&this.shouldParseAsyncArrow())return this.checkPatternErrors(g,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=v,this.awaitPos=y,this.awaitIdentPos=S,this.parseSubscriptAsyncArrow(t,i,E,o);this.checkExpressionErrors(g,!0),this.yieldPos=v||this.yieldPos,this.awaitPos=y||this.awaitPos,this.awaitIdentPos=S||this.awaitIdentPos;var N=this.startNodeAt(t,i);N.callee=e,N.arguments=E,u&&(N.optional=l),e=this.finishNode(N,"CallExpression")}else if(this.type===h.backQuote){(l||a)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var A=this.startNodeAt(t,i);A.tag=e,A.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(A,"TaggedTemplateExpression")}return e};P.parseExprAtom=function(e,t,i){this.type===h.slash&&this.readRegexp();var r,n=this.potentialArrowAt===this.start;switch(this.type){case h._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),r=this.startNode(),this.next(),this.type===h.parenL&&!this.allowDirectSuper&&this.raise(r.start,"super() call outside constructor of a subclass"),this.type!==h.dot&&this.type!==h.bracketL&&this.type!==h.parenL&&this.unexpected(),this.finishNode(r,"Super");case h._this:return r=this.startNode(),this.next(),this.finishNode(r,"ThisExpression");case h.name:var a=this.start,o=this.startLoc,u=this.containsEsc,l=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!u&&l.name==="async"&&!this.canInsertSemicolon()&&this.eat(h._function))return this.overrideContext(Y.f_expr),this.parseFunction(this.startNodeAt(a,o),0,!1,!0,t);if(n&&!this.canInsertSemicolon()){if(this.eat(h.arrow))return this.parseArrowExpression(this.startNodeAt(a,o),[l],!1,t);if(this.options.ecmaVersion>=8&&l.name==="async"&&this.type===h.name&&!u&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return l=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(h.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(a,o),[l],!0,t)}return l;case h.regexp:var c=this.value;return r=this.parseLiteral(c.value),r.regex={pattern:c.pattern,flags:c.flags},r;case h.num:case h.string:return this.parseLiteral(this.value);case h._null:case h._true:case h._false:return r=this.startNode(),r.value=this.type===h._null?null:this.type===h._true,r.raw=this.type.keyword,this.next(),this.finishNode(r,"Literal");case h.parenL:var p=this.start,g=this.parseParenAndDistinguishExpression(n,t);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(g)&&(e.parenthesizedAssign=p),e.parenthesizedBind<0&&(e.parenthesizedBind=p)),g;case h.bracketL:return r=this.startNode(),this.next(),r.elements=this.parseExprList(h.bracketR,!0,!0,e),this.finishNode(r,"ArrayExpression");case h.braceL:return this.overrideContext(Y.b_expr),this.parseObj(!1,e);case h._function:return r=this.startNode(),this.next(),this.parseFunction(r,0);case h._class:return this.parseClass(this.startNode(),!1);case h._new:return this.parseNew();case h.backQuote:return this.parseTemplate();case h._import:return this.options.ecmaVersion>=11?this.parseExprImport(i):this.unexpected();default:return this.parseExprAtomDefault()}};P.parseExprAtomDefault=function(){this.unexpected()};P.parseExprImport=function(e){var t=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===h.parenL&&!e)return this.parseDynamicImport(t);if(this.type===h.dot){var i=this.startNodeAt(t.start,t.loc&&t.loc.start);return i.name="import",t.meta=this.finishNode(i,"Identifier"),this.parseImportMeta(t)}else this.unexpected()};P.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),!this.eat(h.parenR)){var t=this.start;this.eat(h.comma)&&this.eat(h.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")};P.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="meta"&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")};P.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),t.raw.charCodeAt(t.raw.length-1)===110&&(t.bigint=t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")};P.parseParenExpression=function(){this.expect(h.parenL);var e=this.parseExpression();return this.expect(h.parenR),e};P.shouldParseArrow=function(e){return!this.canInsertSemicolon()};P.parseParenAndDistinguishExpression=function(e,t){var i=this.start,r=this.startLoc,n,a=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var o=this.start,u=this.startLoc,l=[],c=!0,p=!1,g=new ws,v=this.yieldPos,y=this.awaitPos,S;for(this.yieldPos=0,this.awaitPos=0;this.type!==h.parenR;)if(c?c=!1:this.expect(h.comma),a&&this.afterTrailingComma(h.parenR,!0)){p=!0;break}else if(this.type===h.ellipsis){S=this.start,l.push(this.parseParenItem(this.parseRestBinding())),this.type===h.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else l.push(this.parseMaybeAssign(!1,g,this.parseParenItem));var E=this.lastTokEnd,N=this.lastTokEndLoc;if(this.expect(h.parenR),e&&this.shouldParseArrow(l)&&this.eat(h.arrow))return this.checkPatternErrors(g,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=v,this.awaitPos=y,this.parseParenArrowList(i,r,l,t);(!l.length||p)&&this.unexpected(this.lastTokStart),S&&this.unexpected(S),this.checkExpressionErrors(g,!0),this.yieldPos=v||this.yieldPos,this.awaitPos=y||this.awaitPos,l.length>1?(n=this.startNodeAt(o,u),n.expressions=l,this.finishNodeAt(n,"SequenceExpression",E,N)):n=l[0]}else n=this.parseParenExpression();if(this.options.preserveParens){var A=this.startNodeAt(i,r);return A.expression=n,this.finishNode(A,"ParenthesizedExpression")}else return n};P.parseParenItem=function(e){return e};P.parseParenArrowList=function(e,t,i,r){return this.parseArrowExpression(this.startNodeAt(e,t),i,!1,r)};ME=[];P.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===h.dot){var t=this.startNodeAt(e.start,e.loc&&e.loc.start);t.name="new",e.meta=this.finishNode(t,"Identifier"),this.next();var i=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="target"&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),i&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(e.start,"'new.target' can only be used in functions and class static block"),this.finishNode(e,"MetaProperty")}var r=this.start,n=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),r,n,!0,!1),this.eat(h.parenL)?e.arguments=this.parseExprList(h.parenR,this.options.ecmaVersion>=8,!1):e.arguments=ME,this.finishNode(e,"NewExpression")};P.parseTemplateElement=function(e){var t=e.isTagged,i=this.startNode();return this.type===h.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),i.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):i.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),i.tail=this.type===h.backQuote,this.finishNode(i,"TemplateElement")};P.parseTemplate=function(e){e===void 0&&(e={});var t=e.isTagged;t===void 0&&(t=!1);var i=this.startNode();this.next(),i.expressions=[];var r=this.parseTemplateElement({isTagged:t});for(i.quasis=[r];!r.tail;)this.type===h.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(h.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(h.braceR),i.quasis.push(r=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(i,"TemplateLiteral")};P.isAsyncProp=function(e){return!e.computed&&e.key.type==="Identifier"&&e.key.name==="async"&&(this.type===h.name||this.type===h.num||this.type===h.string||this.type===h.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===h.star)&&!Me.test(this.input.slice(this.lastTokEnd,this.start))};P.parseObj=function(e,t){var i=this.startNode(),r=!0,n={};for(i.properties=[],this.next();!this.eat(h.braceR);){if(r)r=!1;else if(this.expect(h.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(h.braceR))break;var a=this.parseProperty(e,t);e||this.checkPropClash(a,n,t),i.properties.push(a)}return this.finishNode(i,e?"ObjectPattern":"ObjectExpression")};P.parseProperty=function(e,t){var i=this.startNode(),r,n,a,o;if(this.options.ecmaVersion>=9&&this.eat(h.ellipsis))return e?(i.argument=this.parseIdent(!1),this.type===h.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(i,"RestElement")):(i.argument=this.parseMaybeAssign(!1,t),this.type===h.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(i,"SpreadElement"));this.options.ecmaVersion>=6&&(i.method=!1,i.shorthand=!1,(e||t)&&(a=this.start,o=this.startLoc),e||(r=this.eat(h.star)));var u=this.containsEsc;return this.parsePropertyName(i),!e&&!u&&this.options.ecmaVersion>=8&&!r&&this.isAsyncProp(i)?(n=!0,r=this.options.ecmaVersion>=9&&this.eat(h.star),this.parsePropertyName(i)):n=!1,this.parsePropertyValue(i,e,r,n,a,o,t,u),this.finishNode(i,"Property")};P.parseGetterSetter=function(e){e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var t=e.kind==="get"?0:1;if(e.value.params.length!==t){var i=e.value.start;e.kind==="get"?this.raiseRecoverable(i,"getter should have no params"):this.raiseRecoverable(i,"setter should have exactly one param")}else e.kind==="set"&&e.value.params[0].type==="RestElement"&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")};P.parsePropertyValue=function(e,t,i,r,n,a,o,u){(i||r)&&this.type===h.colon&&this.unexpected(),this.eat(h.colon)?(e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,o),e.kind="init"):this.options.ecmaVersion>=6&&this.type===h.parenL?(t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(i,r)):!t&&!u&&this.options.ecmaVersion>=5&&!e.computed&&e.key.type==="Identifier"&&(e.key.name==="get"||e.key.name==="set")&&this.type!==h.comma&&this.type!==h.braceR&&this.type!==h.eq?((i||r)&&this.unexpected(),this.parseGetterSetter(e)):this.options.ecmaVersion>=6&&!e.computed&&e.key.type==="Identifier"?((i||r)&&this.unexpected(),this.checkUnreserved(e.key),e.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=n),e.kind="init",t?e.value=this.parseMaybeDefault(n,a,this.copyNode(e.key)):this.type===h.eq&&o?(o.shorthandAssign<0&&(o.shorthandAssign=this.start),e.value=this.parseMaybeDefault(n,a,this.copyNode(e.key))):e.value=this.copyNode(e.key),e.shorthand=!0):this.unexpected()};P.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(h.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(h.bracketR),e.key;e.computed=!1}return e.key=this.type===h.num||this.type===h.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};P.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)};P.parseMethod=function(e,t,i){var r=this.startNode(),n=this.yieldPos,a=this.awaitPos,o=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=e),this.options.ecmaVersion>=8&&(r.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(cl(t,r.generator)|ul|(i?d0:0)),this.expect(h.parenL),r.params=this.parseBindingList(h.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0,!1),this.yieldPos=n,this.awaitPos=a,this.awaitIdentPos=o,this.finishNode(r,"FunctionExpression")};P.parseArrowExpression=function(e,t,i,r){var n=this.yieldPos,a=this.awaitPos,o=this.awaitIdentPos;return this.enterScope(cl(i,!1)|f0),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1,r),this.yieldPos=n,this.awaitPos=a,this.awaitIdentPos=o,this.finishNode(e,"ArrowFunctionExpression")};P.parseFunctionBody=function(e,t,i,r){var n=t&&this.type!==h.braceL,a=this.strict,o=!1;if(n)e.body=this.parseMaybeAssign(r),e.expression=!0,this.checkParams(e,!1);else{var u=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);(!a||u)&&(o=this.strictDirective(this.end),o&&u&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var l=this.labels;this.labels=[],o&&(this.strict=!0),this.checkParams(e,!a&&!o&&!t&&!i&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLValSimple(e.id,m0),e.body=this.parseBlock(!1,void 0,o&&!a),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=l}this.exitScope()};P.isSimpleParamList=function(e){for(var t=0,i=e;t<i.length;t+=1){var r=i[t];if(r.type!=="Identifier")return!1}return!0};P.checkParams=function(e,t){for(var i=Object.create(null),r=0,n=e.params;r<n.length;r+=1){var a=n[r];this.checkLValInnerPattern(a,fl,t?null:i)}};P.parseExprList=function(e,t,i,r){for(var n=[],a=!0;!this.eat(e);){if(a)a=!1;else if(this.expect(h.comma),t&&this.afterTrailingComma(e))break;var o=void 0;i&&this.type===h.comma?o=null:this.type===h.ellipsis?(o=this.parseSpread(r),r&&this.type===h.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):o=this.parseMaybeAssign(!1,r),n.push(o)}return n};P.checkUnreserved=function(e){var t=e.start,i=e.end,r=e.name;if(this.inGenerator&&r==="yield"&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&r==="await"&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&r==="arguments"&&this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(r==="arguments"||r==="await")&&this.raise(t,"Cannot use "+r+" in class static initialization block"),this.keywords.test(r)&&this.raise(t,"Unexpected keyword '"+r+"'"),!(this.options.ecmaVersion<6&&this.input.slice(t,i).indexOf("\\")!==-1)){var n=this.strict?this.reservedWordsStrict:this.reservedWords;n.test(r)&&(!this.inAsync&&r==="await"&&this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+r+"' is reserved"))}};P.parseIdent=function(e){var t=this.parseIdentNode();return this.next(!!e),this.finishNode(t,"Identifier"),e||(this.checkUnreserved(t),t.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=t.start)),t};P.parseIdentNode=function(){var e=this.startNode();return this.type===h.name?e.name=this.value:this.type.keyword?(e.name=this.type.keyword,(e.name==="class"||e.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=h.name):this.unexpected(),e};P.parsePrivateIdent=function(){var e=this.startNode();return this.type===h.privateId?e.name=this.value:this.unexpected(),this.next(),this.finishNode(e,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(e.start,"Private field '#"+e.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(e)),e};P.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===h.semi||this.canInsertSemicolon()||this.type!==h.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(h.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")};P.parseAwait=function(e){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,e),this.finishNode(t,"AwaitExpression")};gs=oe.prototype;gs.raise=function(e,t){var i=l0(this.input,e);t+=" ("+i.line+":"+i.column+")";var r=new SyntaxError(t);throw r.pos=e,r.loc=i,r.raisedAt=this.pos,r};gs.raiseRecoverable=gs.raise;gs.curPosition=function(){if(this.options.locations)return new tn(this.curLine,this.pos-this.lineStart)};Ut=oe.prototype,BE=s(function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1},"Scope");Ut.enterScope=function(e){this.scopeStack.push(new BE(e))};Ut.exitScope=function(){this.scopeStack.pop()};Ut.treatFunctionsAsVarInScope=function(e){return e.flags&Mi||!this.inModule&&e.flags&rn};Ut.declareName=function(e,t,i){var r=!1;if(t===vt){var n=this.currentScope();r=n.lexical.indexOf(e)>-1||n.functions.indexOf(e)>-1||n.var.indexOf(e)>-1,n.lexical.push(e),this.inModule&&n.flags&rn&&delete this.undefinedExports[e]}else if(t===b0){var a=this.currentScope();a.lexical.push(e)}else if(t===p0){var o=this.currentScope();this.treatFunctionsAsVar?r=o.lexical.indexOf(e)>-1:r=o.lexical.indexOf(e)>-1||o.var.indexOf(e)>-1,o.functions.push(e)}else for(var u=this.scopeStack.length-1;u>=0;--u){var l=this.scopeStack[u];if(l.lexical.indexOf(e)>-1&&!(l.flags&h0&&l.lexical[0]===e)||!this.treatFunctionsAsVarInScope(l)&&l.functions.indexOf(e)>-1){r=!0;break}if(l.var.push(e),this.inModule&&l.flags&rn&&delete this.undefinedExports[e],l.flags&ll)break}r&&this.raiseRecoverable(i,"Identifier '"+e+"' has already been declared")};Ut.checkLocalExport=function(e){this.scopeStack[0].lexical.indexOf(e.name)===-1&&this.scopeStack[0].var.indexOf(e.name)===-1&&(this.undefinedExports[e.name]=e)};Ut.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};Ut.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&ll)return t}};Ut.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&ll&&!(t.flags&f0))return t}};vs=s(function(t,i,r){this.type="",this.start=i,this.end=0,t.options.locations&&(this.loc=new _s(t,r)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[i,0])},"Node"),an=oe.prototype;an.startNode=function(){return new vs(this,this.start,this.startLoc)};an.startNodeAt=function(e,t){return new vs(this,e,t)};s(_0,"finishNodeAt");an.finishNode=function(e,t){return _0.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)};an.finishNodeAt=function(e,t,i,r){return _0.call(this,e,t,i,r)};an.copyNode=function(e){var t=new vs(this,e.start,this.startLoc);for(var i in e)t[i]=e[i];return t};w0="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",v0=w0+" Extended_Pictographic",E0=v0,x0=E0+" EBase EComp EMod EPres ExtPict",S0=x0,FE=S0,UE={9:w0,10:v0,11:E0,12:x0,13:S0,14:FE},VE="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",qE={9:"",10:"",11:"",12:"",13:"",14:VE},i0="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",T0="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",A0=T0+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",C0=A0+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",I0=C0+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",R0=I0+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",jE=R0+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",WE={9:T0,10:A0,11:C0,12:I0,13:R0,14:jE},N0={};s(HE,"buildUnicodeData");for(ps=0,tl=[9,10,11,12,13,14];ps<tl.length;ps+=1)r0=tl[ps],HE(r0);C=oe.prototype,ys=s(function(t,i){this.parent=t,this.base=i||this},"BranchID");ys.prototype.separatedFrom=s(function(t){for(var i=this;i;i=i.parent)for(var r=t;r;r=r.parent)if(i.base===r.base&&i!==r)return!0;return!1},"separatedFrom");ys.prototype.sibling=s(function(){return new ys(this.parent,this.base)},"sibling");it=s(function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":"")+(t.options.ecmaVersion>=15?"v":""),this.unicodeProperties=N0[t.options.ecmaVersion>=14?14:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null},"RegExpValidationState");it.prototype.reset=s(function(t,i,r){var n=r.indexOf("v")!==-1,a=r.indexOf("u")!==-1;this.start=t|0,this.source=i+"",this.flags=r,n&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=a&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=a&&this.parser.options.ecmaVersion>=9)},"reset");it.prototype.raise=s(function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)},"raise");it.prototype.at=s(function(t,i){i===void 0&&(i=!1);var r=this.source,n=r.length;if(t>=n)return-1;var a=r.charCodeAt(t);if(!(i||this.switchU)||a<=55295||a>=57344||t+1>=n)return a;var o=r.charCodeAt(t+1);return o>=56320&&o<=57343?(a<<10)+o-56613888:a},"at");it.prototype.nextIndex=s(function(t,i){i===void 0&&(i=!1);var r=this.source,n=r.length;if(t>=n)return n;var a=r.charCodeAt(t),o;return!(i||this.switchU)||a<=55295||a>=57344||t+1>=n||(o=r.charCodeAt(t+1))<56320||o>57343?t+1:t+2},"nextIndex");it.prototype.current=s(function(t){return t===void 0&&(t=!1),this.at(this.pos,t)},"current");it.prototype.lookahead=s(function(t){return t===void 0&&(t=!1),this.at(this.nextIndex(this.pos,t),t)},"lookahead");it.prototype.advance=s(function(t){t===void 0&&(t=!1),this.pos=this.nextIndex(this.pos,t)},"advance");it.prototype.eat=s(function(t,i){return i===void 0&&(i=!1),this.current(i)===t?(this.advance(i),!0):!1},"eat");it.prototype.eatChars=s(function(t,i){i===void 0&&(i=!1);for(var r=this.pos,n=0,a=t;n<a.length;n+=1){var o=a[n],u=this.at(r,i);if(u===-1||u!==o)return!1;r=this.nextIndex(r,i)}return this.pos=r,!0},"eatChars");C.validateRegExpFlags=function(e){for(var t=e.validFlags,i=e.flags,r=!1,n=!1,a=0;a<i.length;a++){var o=i.charAt(a);t.indexOf(o)===-1&&this.raise(e.start,"Invalid regular expression flag"),i.indexOf(o,a+1)>-1&&this.raise(e.start,"Duplicate regular expression flag"),o==="u"&&(r=!0),o==="v"&&(n=!0)}this.options.ecmaVersion>=15&&r&&n&&this.raise(e.start,"Invalid regular expression flag")};s($E,"hasProp");C.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&$E(e.groupNames)&&(e.switchN=!0,this.regexp_pattern(e))};C.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames=Object.create(null),e.backReferenceNames.length=0,e.branchID=null,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,i=e.backReferenceNames;t<i.length;t+=1){var r=i[t];e.groupNames[r]||e.raise("Invalid named capture referenced")}};C.regexp_disjunction=function(e){var t=this.options.ecmaVersion>=16;for(t&&(e.branchID=new ys(e.branchID,null)),this.regexp_alternative(e);e.eat(124);)t&&(e.branchID=e.branchID.sibling()),this.regexp_alternative(e);t&&(e.branchID=e.branchID.parent),this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")};C.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););};C.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))?(this.regexp_eatQuantifier(e),!0):!1};C.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var i=!1;if(this.options.ecmaVersion>=9&&(i=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!i,!0}return e.pos=t,!1};C.regexp_eatQuantifier=function(e,t){return t===void 0&&(t=!1),this.regexp_eatQuantifierPrefix(e,t)?(e.eat(63),!0):!1};C.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)};C.regexp_eatBracedQuantifier=function(e,t){var i=e.pos;if(e.eat(123)){var r=0,n=-1;if(this.regexp_eatDecimalDigits(e)&&(r=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(n=e.lastIntValue),e.eat(125)))return n!==-1&&n<r&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=i}return!1};C.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)};C.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1};C.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1};C.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):e.current()===63&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1};C.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)};C.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1};C.regexp_eatSyntaxCharacter=function(e){var t=e.current();return P0(t)?(e.lastIntValue=t,e.advance(),!0):!1};s(P0,"isSyntaxCharacter");C.regexp_eatPatternCharacters=function(e){for(var t=e.pos,i=0;(i=e.current())!==-1&&!P0(i);)e.advance();return e.pos!==t};C.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return t!==-1&&t!==36&&!(t>=40&&t<=43)&&t!==46&&t!==63&&t!==91&&t!==94&&t!==124?(e.advance(),!0):!1};C.regexp_groupSpecifier=function(e){if(e.eat(63)){this.regexp_eatGroupName(e)||e.raise("Invalid group");var t=this.options.ecmaVersion>=16,i=e.groupNames[e.lastStringValue];if(i)if(t)for(var r=0,n=i;r<n.length;r+=1){var a=n[r];a.separatedFrom(e.branchID)||e.raise("Duplicate capture group name")}else e.raise("Duplicate capture group name");t?(i||(e.groupNames[e.lastStringValue]=[])).push(e.branchID):e.groupNames[e.lastStringValue]=!0}};C.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1};C.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=Ft(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=Ft(e.lastIntValue);return!0}return!1};C.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,i=this.options.ecmaVersion>=11,r=e.current(i);return e.advance(i),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,i)&&(r=e.lastIntValue),GE(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)};s(GE,"isRegExpIdentifierStart");C.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,i=this.options.ecmaVersion>=11,r=e.current(i);return e.advance(i),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,i)&&(r=e.lastIntValue),YE(r)?(e.lastIntValue=r,!0):(e.pos=t,!1)};s(YE,"isRegExpIdentifierPart");C.regexp_eatAtomEscape=function(e){return this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e)?!0:(e.switchU&&(e.current()===99&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)};C.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var i=e.lastIntValue;if(e.switchU)return i>e.maxBackReference&&(e.maxBackReference=i),!0;if(i<=e.numCapturingParens)return!0;e.pos=t}return!1};C.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1};C.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)};C.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1};C.regexp_eatZero=function(e){return e.current()===48&&!Es(e.lookahead())?(e.lastIntValue=0,e.advance(),!0):!1};C.regexp_eatControlEscape=function(e){var t=e.current();return t===116?(e.lastIntValue=9,e.advance(),!0):t===110?(e.lastIntValue=10,e.advance(),!0):t===118?(e.lastIntValue=11,e.advance(),!0):t===102?(e.lastIntValue=12,e.advance(),!0):t===114?(e.lastIntValue=13,e.advance(),!0):!1};C.regexp_eatControlLetter=function(e){var t=e.current();return k0(t)?(e.lastIntValue=t%32,e.advance(),!0):!1};s(k0,"isControlLetter");C.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){t===void 0&&(t=!1);var i=e.pos,r=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var n=e.lastIntValue;if(r&&n>=55296&&n<=56319){var a=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var o=e.lastIntValue;if(o>=56320&&o<=57343)return e.lastIntValue=(n-55296)*1024+(o-56320)+65536,!0}e.pos=a,e.lastIntValue=n}return!0}if(r&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&KE(e.lastIntValue))return!0;r&&e.raise("Invalid unicode escape"),e.pos=i}return!1};s(KE,"isValidUnicode");C.regexp_eatIdentityEscape=function(e){if(e.switchU)return this.regexp_eatSyntaxCharacter(e)?!0:e.eat(47)?(e.lastIntValue=47,!0):!1;var t=e.current();return t!==99&&(!e.switchN||t!==107)?(e.lastIntValue=t,e.advance(),!0):!1};C.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do e.lastIntValue=10*e.lastIntValue+(t-48),e.advance();while((t=e.current())>=48&&t<=57);return!0}return!1};L0=0,wt=1,De=2;C.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(zE(t))return e.lastIntValue=-1,e.advance(),wt;var i=!1;if(e.switchU&&this.options.ecmaVersion>=9&&((i=t===80)||t===112)){e.lastIntValue=-1,e.advance();var r;if(e.eat(123)&&(r=this.regexp_eatUnicodePropertyValueExpression(e))&&e.eat(125))return i&&r===De&&e.raise("Invalid property name"),r;e.raise("Invalid property name")}return L0};s(zE,"isCharacterClassEscape");C.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var i=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var r=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,i,r),wt}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var n=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,n)}return L0};C.regexp_validateUnicodePropertyNameAndValue=function(e,t,i){nn(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(i)||e.raise("Invalid property value")};C.regexp_validateUnicodePropertyNameOrValue=function(e,t){if(e.unicodeProperties.binary.test(t))return wt;if(e.switchV&&e.unicodeProperties.binaryOfStrings.test(t))return De;e.raise("Invalid property name")};C.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";O0(t=e.current());)e.lastStringValue+=Ft(t),e.advance();return e.lastStringValue!==""};s(O0,"isUnicodePropertyNameCharacter");C.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";XE(t=e.current());)e.lastStringValue+=Ft(t),e.advance();return e.lastStringValue!==""};s(XE,"isUnicodePropertyValueCharacter");C.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)};C.regexp_eatCharacterClass=function(e){if(e.eat(91)){var t=e.eat(94),i=this.regexp_classContents(e);return e.eat(93)||e.raise("Unterminated character class"),t&&i===De&&e.raise("Negated character class may contain strings"),!0}return!1};C.regexp_classContents=function(e){return e.current()===93?wt:e.switchV?this.regexp_classSetExpression(e):(this.regexp_nonEmptyClassRanges(e),wt)};C.regexp_nonEmptyClassRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var i=e.lastIntValue;e.switchU&&(t===-1||i===-1)&&e.raise("Invalid character class"),t!==-1&&i!==-1&&t>i&&e.raise("Range out of order in character class")}}};C.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var i=e.current();(i===99||B0(i))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var r=e.current();return r!==93?(e.lastIntValue=r,e.advance(),!0):!1};C.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)};C.regexp_classSetExpression=function(e){var t=wt,i;if(!this.regexp_eatClassSetRange(e))if(i=this.regexp_eatClassSetOperand(e)){i===De&&(t=De);for(var r=e.pos;e.eatChars([38,38]);){if(e.current()!==38&&(i=this.regexp_eatClassSetOperand(e))){i!==De&&(t=wt);continue}e.raise("Invalid character in character class")}if(r!==e.pos)return t;for(;e.eatChars([45,45]);)this.regexp_eatClassSetOperand(e)||e.raise("Invalid character in character class");if(r!==e.pos)return t}else e.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(e)){if(i=this.regexp_eatClassSetOperand(e),!i)return t;i===De&&(t=De)}};C.regexp_eatClassSetRange=function(e){var t=e.pos;if(this.regexp_eatClassSetCharacter(e)){var i=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassSetCharacter(e)){var r=e.lastIntValue;return i!==-1&&r!==-1&&i>r&&e.raise("Range out of order in character class"),!0}e.pos=t}return!1};C.regexp_eatClassSetOperand=function(e){return this.regexp_eatClassSetCharacter(e)?wt:this.regexp_eatClassStringDisjunction(e)||this.regexp_eatNestedClass(e)};C.regexp_eatNestedClass=function(e){var t=e.pos;if(e.eat(91)){var i=e.eat(94),r=this.regexp_classContents(e);if(e.eat(93))return i&&r===De&&e.raise("Negated character class may contain strings"),r;e.pos=t}if(e.eat(92)){var n=this.regexp_eatCharacterClassEscape(e);if(n)return n;e.pos=t}return null};C.regexp_eatClassStringDisjunction=function(e){var t=e.pos;if(e.eatChars([92,113])){if(e.eat(123)){var i=this.regexp_classStringDisjunctionContents(e);if(e.eat(125))return i}else e.raise("Invalid escape");e.pos=t}return null};C.regexp_classStringDisjunctionContents=function(e){for(var t=this.regexp_classString(e);e.eat(124);)this.regexp_classString(e)===De&&(t=De);return t};C.regexp_classString=function(e){for(var t=0;this.regexp_eatClassSetCharacter(e);)t++;return t===1?wt:De};C.regexp_eatClassSetCharacter=function(e){var t=e.pos;if(e.eat(92))return this.regexp_eatCharacterEscape(e)||this.regexp_eatClassSetReservedPunctuator(e)?!0:e.eat(98)?(e.lastIntValue=8,!0):(e.pos=t,!1);var i=e.current();return i<0||i===e.lookahead()&&QE(i)||JE(i)?!1:(e.advance(),e.lastIntValue=i,!0)};s(QE,"isClassSetReservedDoublePunctuatorCharacter");s(JE,"isClassSetSyntaxCharacter");C.regexp_eatClassSetReservedPunctuator=function(e){var t=e.current();return ZE(t)?(e.lastIntValue=t,e.advance(),!0):!1};s(ZE,"isClassSetReservedPunctuator");C.regexp_eatClassControlLetter=function(e){var t=e.current();return Es(t)||t===95?(e.lastIntValue=t%32,e.advance(),!0):!1};C.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1};C.regexp_eatDecimalDigits=function(e){var t=e.pos,i=0;for(e.lastIntValue=0;Es(i=e.current());)e.lastIntValue=10*e.lastIntValue+(i-48),e.advance();return e.pos!==t};s(Es,"isDecimalDigit");C.regexp_eatHexDigits=function(e){var t=e.pos,i=0;for(e.lastIntValue=0;D0(i=e.current());)e.lastIntValue=16*e.lastIntValue+M0(i),e.advance();return e.pos!==t};s(D0,"isHexDigit");s(M0,"hexToInt");C.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var i=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=t*64+i*8+e.lastIntValue:e.lastIntValue=t*8+i}else e.lastIntValue=t;return!0}return!1};C.regexp_eatOctalDigit=function(e){var t=e.current();return B0(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)};s(B0,"isOctalDigit");C.regexp_eatFixedHexDigits=function(e,t){var i=e.pos;e.lastIntValue=0;for(var r=0;r<t;++r){var n=e.current();if(!D0(n))return e.pos=i,!1;e.lastIntValue=16*e.lastIntValue+M0(n),e.advance()}return!0};dl=s(function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new _s(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},"Token"),F=oe.prototype;F.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new dl(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};F.getToken=function(){return this.next(),new dl(this)};typeof Symbol<"u"&&(F[Symbol.iterator]=function(){var e=this;return{next:s(function(){var t=e.getToken();return{done:t.type===h.eof,value:t}},"next")}});F.nextToken=function(){var e=this.curContext();if((!e||!e.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(h.eof);if(e.override)return e.override(this);this.readToken(this.fullCharCodeAtPos())};F.readToken=function(e){return _t(e,this.options.ecmaVersion>=6)||e===92?this.readWord():this.getTokenFromCode(e)};F.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=56320)return e;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?e:(e<<10)+t-56613888};F.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),t=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(i===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(var r=void 0,n=t;(r=a0(this.input,n,this.pos))>-1;)++this.curLine,n=this.lineStart=r;this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,i),t,this.pos,e,this.curPosition())};F.skipLineComment=function(e){for(var t=this.pos,i=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!Di(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,i,this.curPosition())};F.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(e>8&&e<14||e>=5760&&o0.test(String.fromCharCode(e)))++this.pos;else break e}}};F.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=e,this.value=t,this.updateContext(i)};F.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&e===46&&t===46?(this.pos+=3,this.finishToken(h.ellipsis)):(++this.pos,this.finishToken(h.dot))};F.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):e===61?this.finishOp(h.assign,2):this.finishOp(h.slash,1)};F.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),i=1,r=e===42?h.star:h.modulo;return this.options.ecmaVersion>=7&&e===42&&t===42&&(++i,r=h.starstar,t=this.input.charCodeAt(this.pos+2)),t===61?this.finishOp(h.assign,i+1):this.finishOp(r,i)};F.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);if(t===e){if(this.options.ecmaVersion>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(h.assign,3)}return this.finishOp(e===124?h.logicalOR:h.logicalAND,2)}return t===61?this.finishOp(h.assign,2):this.finishOp(e===124?h.bitwiseOR:h.bitwiseAND,1)};F.readToken_caret=function(){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(h.assign,2):this.finishOp(h.bitwiseXOR,1)};F.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?t===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||Me.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(h.incDec,2):t===61?this.finishOp(h.assign,2):this.finishOp(h.plusMin,1)};F.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),i=1;return t===e?(i=e===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+i)===61?this.finishOp(h.assign,i+1):this.finishOp(h.bitShift,i)):t===33&&e===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(t===61&&(i=2),this.finishOp(h.relational,i))};F.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(h.equality,this.input.charCodeAt(this.pos+2)===61?3:2):e===61&&t===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(h.arrow)):this.finishOp(e===61?h.eq:h.prefix,1)};F.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(t===46){var i=this.input.charCodeAt(this.pos+2);if(i<48||i>57)return this.finishOp(h.questionDot,2)}if(t===63){if(e>=12){var r=this.input.charCodeAt(this.pos+2);if(r===61)return this.finishOp(h.assign,3)}return this.finishOp(h.coalesce,2)}}return this.finishOp(h.question,1)};F.readToken_numberSign=function(){var e=this.options.ecmaVersion,t=35;if(e>=13&&(++this.pos,t=this.fullCharCodeAtPos(),_t(t,!0)||t===92))return this.finishToken(h.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Ft(t)+"'")};F.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(h.parenL);case 41:return++this.pos,this.finishToken(h.parenR);case 59:return++this.pos,this.finishToken(h.semi);case 44:return++this.pos,this.finishToken(h.comma);case 91:return++this.pos,this.finishToken(h.bracketL);case 93:return++this.pos,this.finishToken(h.bracketR);case 123:return++this.pos,this.finishToken(h.braceL);case 125:return++this.pos,this.finishToken(h.braceR);case 58:return++this.pos,this.finishToken(h.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(h.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(t===120||t===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(t===111||t===79)return this.readRadixNumber(8);if(t===98||t===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(h.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Ft(e)+"'")};F.finishOp=function(e,t){var i=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,i)};F.readRegexp=function(){for(var e,t,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(Me.test(r)&&this.raise(i,"Unterminated regular expression"),e)e=!1;else{if(r==="[")t=!0;else if(r==="]"&&t)t=!1;else if(r==="/"&&!t)break;e=r==="\\"}++this.pos}var n=this.input.slice(i,this.pos);++this.pos;var a=this.pos,o=this.readWord1();this.containsEsc&&this.unexpected(a);var u=this.regexpState||(this.regexpState=new it(this));u.reset(i,n,o),this.validateRegExpFlags(u),this.validateRegExpPattern(u);var l=null;try{l=new RegExp(n,o)}catch{}return this.finishToken(h.regexp,{pattern:n,flags:o,value:l})};F.readInt=function(e,t,i){for(var r=this.options.ecmaVersion>=12&&t===void 0,n=i&&this.input.charCodeAt(this.pos)===48,a=this.pos,o=0,u=0,l=0,c=t==null?1/0:t;l<c;++l,++this.pos){var p=this.input.charCodeAt(this.pos),g=void 0;if(r&&p===95){n&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),u===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),l===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),u=p;continue}if(p>=97?g=p-97+10:p>=65?g=p-65+10:p>=48&&p<=57?g=p-48:g=1/0,g>=e)break;u=p,o=o*e+g}return r&&u===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===a||t!=null&&this.pos-a!==t?null:o};s(ex,"stringToNumber");s(F0,"stringToBigInt");F.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var i=this.readInt(e);return i==null&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(i=F0(this.input.slice(t,this.pos)),++this.pos):_t(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(h.num,i)};F.readNumber=function(e){var t=this.pos;!e&&this.readInt(10,void 0,!0)===null&&this.raise(t,"Invalid number");var i=this.pos-t>=2&&this.input.charCodeAt(t)===48;i&&this.strict&&this.raise(t,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!i&&!e&&this.options.ecmaVersion>=11&&r===110){var n=F0(this.input.slice(t,this.pos));return++this.pos,_t(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(h.num,n)}i&&/[89]/.test(this.input.slice(t,this.pos))&&(i=!1),r===46&&!i&&(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),(r===69||r===101)&&!i&&(r=this.input.charCodeAt(++this.pos),(r===43||r===45)&&++this.pos,this.readInt(10)===null&&this.raise(t,"Invalid number")),_t(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var a=ex(this.input.slice(t,this.pos),i);return this.finishToken(h.num,a)};F.readCodePoint=function(){var e=this.input.charCodeAt(this.pos),t;if(e===123){this.options.ecmaVersion<6&&this.unexpected();var i=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(i,"Code point out of bounds")}else t=this.readHexChar(4);return t};F.readString=function(e){for(var t="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===e)break;r===92?(t+=this.input.slice(i,this.pos),t+=this.readEscapedChar(!1),i=this.pos):r===8232||r===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Di(r)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(i,this.pos++),this.finishToken(h.string,t)};U0={};F.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e===U0)this.readInvalidTemplateToken();else throw e}this.inTemplateElement=!1};F.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw U0;this.raise(e,t)};F.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(i===96||i===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===h.template||this.type===h.invalidTemplate)?i===36?(this.pos+=2,this.finishToken(h.dollarBraceL)):(++this.pos,this.finishToken(h.backQuote)):(e+=this.input.slice(t,this.pos),this.finishToken(h.template,e));if(i===92)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(Di(i)){switch(e+=this.input.slice(t,this.pos),++this.pos,i){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:e+=`
`;break;default:e+=String.fromCharCode(i);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}};F.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(h.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")};F.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Ft(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),e){var i=this.pos-1;this.invalidStringToken(i,"Invalid escape sequence in template string")}default:if(t>=48&&t<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],n=parseInt(r,8);return n>255&&(r=r.slice(0,-1),n=parseInt(r,8)),this.pos+=r.length-1,t=this.input.charCodeAt(this.pos),(r!=="0"||t===56||t===57)&&(this.strict||e)&&this.invalidStringToken(this.pos-1-r.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(n)}return Di(t)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(t)}};F.readHexChar=function(e){var t=this.pos,i=this.readInt(16,e);return i===null&&this.invalidStringToken(t,"Bad character escape sequence"),i};F.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,i=this.pos,r=this.options.ecmaVersion>=6;this.pos<this.input.length;){var n=this.fullCharCodeAtPos();if(Oi(n,r))this.pos+=n<=65535?1:2;else if(n===92){this.containsEsc=!0,e+=this.input.slice(i,this.pos);var a=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var o=this.readCodePoint();(t?_t:Oi)(o,r)||this.invalidStringToken(a,"Invalid Unicode escape"),e+=Ft(o),i=this.pos}else break;t=!1}return e+this.input.slice(i,this.pos)};F.readWord=function(){var e=this.readWord1(),t=h.name;return this.keywords.test(e)&&(t=al[e]),this.finishToken(t,e)};tx="8.12.1";oe.acorn={Parser:oe,version:tx,defaultOptions:rl,Position:tn,SourceLocation:_s,getLineInfo:l0,Node:vs,TokenType:q,tokTypes:h,keywordTypes:al,TokContext:qe,tokContexts:Y,isIdentifierChar:Oi,isIdentifierStart:_t,Token:dl,isNewLine:Di,lineBreak:Me,lineBreakG:AE,nonASCIIwhitespace:o0};s(pl,"parse")});var ix,rx,xs,bl,Fi,q0=L(()=>{Jp();V0();si();ix=function(e,t,i,r,n){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?n.call(e,i):n?n.value=i:t.set(e,i),i},rx=function(e,t,i,r){if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?r:i==="a"?r.call(e):r?r.value:t.get(e)},bl=class bl{constructor(){xs.set(this,[]),this.visitor=new Zr,this.scope=this.visitor.scope,this.scope.set("print",t=>console.log(...t)),this.defineObject("console",console),this.defineObject("Math",Math),this.defineObject("String",String),this.defineObject("Array",Array),this.defineObject("Date",Date)}defineObject(t,i){this.visitor.on(t,(r,n)=>{if(r.type==="Identifier")return i;if(r.type==="CallExpression"&&r.callee.type==="MemberExpression"){let a=n.visitNode(r.callee.property),o=r.arguments.map(l=>n.visitNode(l)),u=i[a];return u?u.apply(i,o):"__continue_exec"}return"__continue_exec"})}evaluate(t){try{let i=pl(t,{ecmaVersion:2020});ix(this,xs,i.body,"f")}catch(i){throw new yt(i.message)}return this.visitor.setAST(rx(this,xs,"f")),this.visitor.run()}static parseScript(t){try{return pl(t,{ecmaVersion:2020})}catch(i){throw new yt(i.message)}}};s(bl,"Jinter");Fi=bl;xs=new WeakMap});var j0={};Ws(j0,{Jinter:()=>Fi,Nodes:()=>Li,Utils:()=>hs,default:()=>nx});var nx,W0=L(()=>{q0();Xu();si();nx=Fi});var xl=x(Ts=>{"use strict";Object.defineProperty(Ts,"__esModule",{value:!0});Ts.Signature=void 0;var sx=Ie(),ml=Te(),ax=["\\bm=([a-zA-Z0-9$]{2,})\\(decodeURIComponent\\(h\\.s\\)\\)","\\bc&&\\(c=([a-zA-Z0-9$]{2,})\\(decodeURIComponent\\(c\\)\\)",'(?:\\b|[^a-zA-Z0-9$])([a-zA-Z0-9$]{2,})\\s*=\\s*function\\(\\s*a\\s*\\)\\s*\\{\\s*a\\s*=\\s*a\\.split\\(\\s*""\\s*\\)','([\\w$]+)\\s*=\\s*function\\((\\w+)\\)\\{\\s*\\2=\\s*\\2\\.split\\(""\\)\\s*;'],on="[a-zA-Z_\\$][a-zA-Z_0-9]*",Ss=`\\"?${on}\\"?`,ox='(?:\\[\\"|\\.)',ux='(?:\\"\\]|)',lx=ox+on+ux,cx=":function\\(a\\)\\{(?:return )?a\\.reverse\\(\\)\\}",fx=":function\\(a,b\\)\\{return a\\.slice\\(b\\)\\}",hx=":function\\(a,b\\)\\{a\\.splice\\(0,b\\)\\}",dx=":function\\(a,b\\)\\{var c=a\\[0\\];a\\[0\\]=a\\[b%a\\.length\\];a\\[b(?:%a.length|)\\]=c(?:;return a)?\\}",px=`function(?: ${on})?\\(a\\)\\{a=a\\.split\\(""\\);\\s*((?:(?:a=)?${on}${lx}\\(a,\\d+\\);)+)return a\\.join\\(""\\)\\}`,bx=`var (${on})=\\{((?:(?:${Ss}${cx}|${Ss}${fx}|${Ss}${hx}|${Ss}${dx}),?\\n?)+)\\};`,K="[a-zA-Z0-9$_]",H0=`${K}+`,$0="\\[(\\d+)]",mx=[`${K}+="nn"\\[\\+${K}+\\.${K}+],${K}+=${K}+\\.get\\(${K}+\\)\\)&&\\(${K}+=(${K}+)\\[(\\d+)]`,`${K}+="nn"\\[\\+${K}+\\.${K}+],${K}+=${K}+\\.get\\(${K}+\\)\\).+\\|\\|(${K}+)\\(""\\)`,`\\(${K}=String\\.fromCharCode\\(110\\),${K}=${K}\\.get\\(${K}\\)\\)&&\\(${K}=(${H0})(?:${$0})?\\(${K}\\)`,`\\.get\\("n"\\)\\)&&\\(${K}=(${H0})(?:${$0})?\\(${K}\\)`,'(\\w+).length\\|\\|\\w+\\(""\\)','\\w+.length\\|\\|(\\w+)\\(""\\)'],gx='function\\(\\s*(\\w+)\\s*\\)\\s*\\{var\\s*(\\w+)=(?:\\1\\.split\\(""\\)|String\\.prototype\\.split\\.call\\(\\1,""\\)),\\s*(\\w+)=(\\[.*?]);\\s*\\3\\[\\d+](.*?try)(\\{.*?})catch\\(\\s*(\\w+)\\s*\\)\\s*\\{\\s*return"enhanced_except_([A-z0-9-]+)"\\s*\\+\\s*\\1\\s*}\\s*return\\s*(\\2\\.join\\(""\\)|Array\\.prototype\\.join\\.call\\(\\2,""\\))};',wl="sig",vl="ncode",gl="YBDProjectDecipherFunc",G0="YBDProjectNTransformFunc",yx=/signatureTimestamp:(\d+)/g,Y0=sx.Platform.getShim(),_x=(W0(),fm(j0)).default,K0=!1,z0=!1;function J0(e,t){let i=t.match(new RegExp(e,"s"));if(!i)throw new Error(`Could not match ${e}`);return i}s(J0,"matchRegex");function yl(e,t){return J0(e,t)[0]}s(yl,"matchFirst");function Ui(e,t){return J0(e,t)[1]}s(Ui,"matchGroup1");function Z0(e,t){let i;for(let r of t)try{i=Ui(r,e);try{i=Ui(`${i.replace(/\$/g,"\\$")}=\\[([a-zA-Z0-9$\\[\\]]{2,})\\]`,e)}catch{}break}catch{continue}if(!i||i.includes("["))throw Error();return i}s(Z0,"getFunctionName");function X0(e,t){for(let i of e)try{let r=i(t);if(!r)continue;return r}catch{continue}return null}s(X0,"getExtractFunctions");function wx(e){try{let t=yl(bx,e),i=yl(px,e),r=`var ${gl}=${i};`,n=`${gl}(${wl});`;return t+r+n}catch{return null}}s(wx,"extractDecipherFunc");function vx(e){try{let t=Z0(e,ax),i=`(${t.replace(/\$/g,"\\$")}function\\([a-zA-Z0-9_]+\\)\\{.+?\\})`,r=`var ${Ui(i,e)};`,n=Ui(";([A-Za-z0-9_\\$]{2,})\\.\\w+\\(",r),a=`(var ${n.replace(/\$/g,"\\$")}=\\{[\\s\\S]+?\\}\\};)`,o=Ui(a,e),u=`${gl}(${wl});`;return o+r+u}catch{return null}}s(vx,"extractDecipherWithName");function Ex(e){try{let t=yl(gx,e),i=`var ${G0}=${t};`,r=`${G0}(${vl});`;return i+r}catch{return null}}s(Ex,"extractNTransformFunc");function xx(e){try{let t=Z0(e,mx),i=`(${t.replace(/\$/g,"\\$")}=\\s*function([\\S\\s]*?\\}\\s*return (([\\w$]+?\\.join\\(""\\))|(Array\\.prototype\\.join\\.call\\([\\w$]+?,[\\n\\s]*(("")|(\\("",""\\)))\\)))\\s*\\}))`,r=`var ${Ui(i,e)};`,n=`${t}(${vl});`;return r+n}catch{return null}}s(xx,"extractNTransformWithName");function Q0(e,t={}){let i=new _x;for(let[r,n]of Object.entries(t))i.scope.set(r,n);return i.evaluate(e)}s(Q0,"runInNewContext");function Sx(e,t,i){if(!t)return;let r=s(u=>{var g,v;let l=new URLSearchParams("?"+u),c=((g=l.get("url"))==null?void 0:g.toString())||"",p=l.get("s");if(!p)return c;try{let y=new URL(decodeURIComponent(c)),S={};return S[wl]=decodeURIComponent(p),y.searchParams.set(((v=l.get("sp"))==null?void 0:v.toString())||"sig",Q0(t,S)),y.toString()}catch(y){return ml.Logger.debug(`[ Decipher ]: <error>Failed</error> to decipher URL: <error>${y}</error>`),c}},"decipher"),n=s(u=>{let l=new URL(decodeURIComponent(u)),c=l.searchParams.get("n");if(!c||!i)return u;let p={};return p[vl]=c,l.searchParams.set("n",Q0(i,p)),l.toString()},"nTransform"),a=!e.url,o=e.url||e.signatureCipher||e.cipher;o&&(e.url=n(a?r(o):o),delete e.signatureCipher,delete e.cipher)}s(Sx,"setDownloadURL");var El=class El{constructor(){this.decipherFunction=null,this.nTransformFunction=null}static getSignatureTimestamp(t){if(!t)return"0";let i=t.match(yx);return i?i[0].split(":")[1]:"0"}decipherFormats(t){let i={};return t.forEach(r=>{r&&(Sx(r,this.decipherFunction,this.nTransformFunction),i[r.url]=r)}),i}getDecipherFunctions(t,i){if(this.decipherFunction)return this.decipherFunction;let r=X0([vx,wx],i);return!r&&!K0&&(ml.Logger.warning(`Could not parse decipher function.
Please report this issue with "${t}" in Issues at ${Y0.info.issuesUrl}.
Stream URL will be missing.`),K0=!0),this.decipherFunction=r,r}getNTransform(t,i){if(this.nTransformFunction)return this.nTransformFunction;let r=X0([Ex,xx],i);return!r&&!z0&&(ml.Logger.warning(`Could not parse n transform function.
Please report this issue with "${t}" in Issues at ${Y0.info.issuesUrl}.`),z0=!0),this.nTransformFunction=r,r}};s(El,"Signature");var _l=El;Ts.Signature=_l});var As=x(Al=>{"use strict";Object.defineProperty(Al,"__esModule",{value:!0});Al.getHtml5Player=Rx;var Tx=Ie(),Ax=xl(),Sl=Ni(),Tl=Ot(),Cx=Te(),Ix=li(),eb=Tx.Platform.getShim().fileCache;function tb(e){if(!e)return null;let t=e.match(/player\\\/([a-zA-Z0-9]+)\\\//);return t?t[1]:null}s(tb,"getPlayerId");async function Rx(e){let t=await eb.get("html5Player");if(t&&t.url)return{url:t.url,body:t.body,id:t.id,signatureTimestamp:t.signatureTimestamp};let i;try{let o=await Sl.Fetcher.request(Tl.Url.getIframeApiUrl(),e);i=tb(o)}catch{}if(!i&&e.originalProxy){Cx.Logger.debug("Could not get html5Player using your own proxy. It is retrieved again with its own proxy disabled. (Other requests will not invalidate it.)");try{let o=await Sl.Fetcher.request(Tl.Url.getIframeApiUrl(),{...e,rewriteRequest:void 0,originalProxy:void 0});i=tb(o)}catch{}}i||(i=Ix.CURRENT_PLAYER_ID);let r=i?Tl.Url.getPlayerJsUrl(i):null,n=r?await Sl.Fetcher.request(r,e):"",a={url:r,body:n||null,id:i,signatureTimestamp:r&&Ax.Signature.getSignatureTimestamp(n)||""};return eb.set("html5Player",JSON.stringify(a)),a}s(Rx,"getHtml5Player")});var ib=x(Cs=>{(function(e){e.parser=function(d,f){return new i(d,f)},e.SAXParser=i,e.SAXStream=c,e.createStream=l,e.MAX_BUFFER_LENGTH=64*1024;var t=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function i(d,f){if(!(this instanceof i))return new i(d,f);var w=this;n(w),w.q=w.c="",w.bufferCheckPosition=e.MAX_BUFFER_LENGTH,w.opt=f||{},w.opt.lowercase=w.opt.lowercase||w.opt.lowercasetags,w.looseCase=w.opt.lowercase?"toLowerCase":"toUpperCase",w.tags=[],w.closed=w.closedRoot=w.sawRoot=!1,w.tag=w.error=null,w.strict=!!d,w.noscript=!!(d||w.opt.noscript),w.state=m.BEGIN,w.strictEntities=w.opt.strictEntities,w.ENTITIES=w.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),w.attribList=[],w.opt.xmlns&&(w.ns=Object.create(S)),w.opt.unquotedAttributeValues===void 0&&(w.opt.unquotedAttributeValues=!d),w.trackPosition=w.opt.position!==!1,w.trackPosition&&(w.position=w.line=w.column=0),te(w,"onready")}s(i,"SAXParser"),Object.create||(Object.create=function(d){function f(){}s(f,"F"),f.prototype=d;var w=new f;return w}),Object.keys||(Object.keys=function(d){var f=[];for(var w in d)d.hasOwnProperty(w)&&f.push(w);return f});function r(d){for(var f=Math.max(e.MAX_BUFFER_LENGTH,10),w=0,b=0,H=t.length;b<H;b++){var re=d[t[b]].length;if(re>f)switch(t[b]){case"textNode":Ae(d);break;case"cdata":W(d,"oncdata",d.cdata),d.cdata="";break;case"script":W(d,"onscript",d.script),d.script="";break;default:me(d,"Max buffer length exceeded: "+t[b])}w=Math.max(w,re)}var ne=e.MAX_BUFFER_LENGTH-w;d.bufferCheckPosition=ne+d.position}s(r,"checkBufferLength");function n(d){for(var f=0,w=t.length;f<w;f++)d[t[f]]=""}s(n,"clearBuffers");function a(d){Ae(d),d.cdata!==""&&(W(d,"oncdata",d.cdata),d.cdata=""),d.script!==""&&(W(d,"onscript",d.script),d.script="")}s(a,"flushBuffers"),i.prototype={end:s(function(){de(this)},"end"),write:nm,resume:s(function(){return this.error=null,this},"resume"),close:s(function(){return this.write(null)},"close"),flush:s(function(){a(this)},"flush")};var o;try{o=lm("stream").Stream}catch{o=s(function(){},"Stream")}o||(o=s(function(){},"Stream"));var u=e.EVENTS.filter(function(d){return d!=="error"&&d!=="end"});function l(d,f){return new c(d,f)}s(l,"createStream");function c(d,f){if(!(this instanceof c))return new c(d,f);o.apply(this),this._parser=new i(d,f),this.writable=!0,this.readable=!0;var w=this;this._parser.onend=function(){w.emit("end")},this._parser.onerror=function(b){w.emit("error",b),w._parser.error=null},this._decoder=null,u.forEach(function(b){Object.defineProperty(w,"on"+b,{get:s(function(){return w._parser["on"+b]},"get"),set:s(function(H){if(!H)return w.removeAllListeners(b),w._parser["on"+b]=H,H;w.on(b,H)},"set"),enumerable:!0,configurable:!1})})}s(c,"SAXStream"),c.prototype=Object.create(o.prototype,{constructor:{value:c}}),c.prototype.write=function(d){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(d)){if(!this._decoder){var f=Pa().StringDecoder;this._decoder=new f("utf8")}d=this._decoder.write(d)}return this._parser.write(d.toString()),this.emit("data",d),!0},c.prototype.end=function(d){return d&&d.length&&this.write(d),this._parser.end(),!0},c.prototype.on=function(d,f){var w=this;return!w._parser["on"+d]&&u.indexOf(d)!==-1&&(w._parser["on"+d]=function(){var b=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);b.splice(0,0,d),w.emit.apply(w,b)}),o.prototype.on.call(w,d,f)};var p="[CDATA[",g="DOCTYPE",v="http://www.w3.org/XML/1998/namespace",y="http://www.w3.org/2000/xmlns/",S={xml:v,xmlns:y},E=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,N=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,A=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,M=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function k(d){return d===" "||d===`
`||d==="\r"||d==="	"}s(k,"isWhitespace");function R(d){return d==='"'||d==="'"}s(R,"isQuote");function j(d){return d===">"||k(d)}s(j,"isAttribEnd");function J(d,f){return d.test(f)}s(J,"isMatch");function ue(d,f){return!J(d,f)}s(ue,"notMatch");var m=0;e.STATE={BEGIN:m++,BEGIN_WHITESPACE:m++,TEXT:m++,TEXT_ENTITY:m++,OPEN_WAKA:m++,SGML_DECL:m++,SGML_DECL_QUOTED:m++,DOCTYPE:m++,DOCTYPE_QUOTED:m++,DOCTYPE_DTD:m++,DOCTYPE_DTD_QUOTED:m++,COMMENT_STARTING:m++,COMMENT:m++,COMMENT_ENDING:m++,COMMENT_ENDED:m++,CDATA:m++,CDATA_ENDING:m++,CDATA_ENDING_2:m++,PROC_INST:m++,PROC_INST_BODY:m++,PROC_INST_ENDING:m++,OPEN_TAG:m++,OPEN_TAG_SLASH:m++,ATTRIB:m++,ATTRIB_NAME:m++,ATTRIB_NAME_SAW_WHITE:m++,ATTRIB_VALUE:m++,ATTRIB_VALUE_QUOTED:m++,ATTRIB_VALUE_CLOSED:m++,ATTRIB_VALUE_UNQUOTED:m++,ATTRIB_VALUE_ENTITY_Q:m++,ATTRIB_VALUE_ENTITY_U:m++,CLOSE_TAG:m++,CLOSE_TAG_SAW_WHITE:m++,SCRIPT:m++,SCRIPT_ENDING:m++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(d){var f=e.ENTITIES[d],w=typeof f=="number"?String.fromCharCode(f):f;e.ENTITIES[d]=w});for(var Q in e.STATE)e.STATE[e.STATE[Q]]=Q;m=e.STATE;function te(d,f,w){d[f]&&d[f](w)}s(te,"emit");function W(d,f,w){d.textNode&&Ae(d),te(d,f,w)}s(W,"emitNode");function Ae(d){d.textNode=ce(d.opt,d.textNode),d.textNode&&te(d,"ontext",d.textNode),d.textNode=""}s(Ae,"closeText");function ce(d,f){return d.trim&&(f=f.trim()),d.normalize&&(f=f.replace(/\s+/g," ")),f}s(ce,"textopts");function me(d,f){return Ae(d),d.trackPosition&&(f+=`
Line: `+d.line+`
Column: `+d.column+`
Char: `+d.c),f=new Error(f),d.error=f,te(d,"onerror",f),d}s(me,"error");function de(d){return d.sawRoot&&!d.closedRoot&&D(d,"Unclosed root tag"),d.state!==m.BEGIN&&d.state!==m.BEGIN_WHITESPACE&&d.state!==m.TEXT&&me(d,"Unexpected end"),Ae(d),d.c="",d.closed=!0,te(d,"onend"),i.call(d,d.strict,d.opt),d}s(de,"end");function D(d,f){if(typeof d!="object"||!(d instanceof i))throw new Error("bad call to strictFail");d.strict&&me(d,f)}s(D,"strictFail");function At(d){d.strict||(d.tagName=d.tagName[d.looseCase]());var f=d.tags[d.tags.length-1]||d,w=d.tag={name:d.tagName,attributes:{}};d.opt.xmlns&&(w.ns=f.ns),d.attribList.length=0,W(d,"onopentagstart",w)}s(At,"newTag");function Us(d,f){var w=d.indexOf(":"),b=w<0?["",d]:d.split(":"),H=b[0],re=b[1];return f&&d==="xmlns"&&(H="xmlns",re=""),{prefix:H,local:re}}s(Us,"qname");function Vs(d){if(d.strict||(d.attribName=d.attribName[d.looseCase]()),d.attribList.indexOf(d.attribName)!==-1||d.tag.attributes.hasOwnProperty(d.attribName)){d.attribName=d.attribValue="";return}if(d.opt.xmlns){var f=Us(d.attribName,!0),w=f.prefix,b=f.local;if(w==="xmlns")if(b==="xml"&&d.attribValue!==v)D(d,"xml: prefix must be bound to "+v+`
Actual: `+d.attribValue);else if(b==="xmlns"&&d.attribValue!==y)D(d,"xmlns: prefix must be bound to "+y+`
Actual: `+d.attribValue);else{var H=d.tag,re=d.tags[d.tags.length-1]||d;H.ns===re.ns&&(H.ns=Object.create(re.ns)),H.ns[b]=d.attribValue}d.attribList.push([d.attribName,d.attribValue])}else d.tag.attributes[d.attribName]=d.attribValue,W(d,"onattribute",{name:d.attribName,value:d.attribValue});d.attribName=d.attribValue=""}s(Vs,"attrib");function jt(d,f){if(d.opt.xmlns){var w=d.tag,b=Us(d.tagName);w.prefix=b.prefix,w.local=b.local,w.uri=w.ns[b.prefix]||"",w.prefix&&!w.uri&&(D(d,"Unbound namespace prefix: "+JSON.stringify(d.tagName)),w.uri=b.prefix);var H=d.tags[d.tags.length-1]||d;w.ns&&H.ns!==w.ns&&Object.keys(w.ns).forEach(function(fc){W(d,"onopennamespace",{prefix:fc,uri:w.ns[fc]})});for(var re=0,ne=d.attribList.length;re<ne;re++){var _e=d.attribList[re],we=_e[0],ui=_e[1],fe=Us(we,!0),nt=fe.prefix,sm=fe.local,cc=nt===""?"":w.ns[nt]||"",js={name:we,value:ui,prefix:nt,local:sm,uri:cc};nt&&nt!=="xmlns"&&!cc&&(D(d,"Unbound namespace prefix: "+JSON.stringify(nt)),js.uri=nt),d.tag.attributes[we]=js,W(d,"onattribute",js)}d.attribList.length=0}d.tag.isSelfClosing=!!f,d.sawRoot=!0,d.tags.push(d.tag),W(d,"onopentag",d.tag),f||(!d.noscript&&d.tagName.toLowerCase()==="script"?d.state=m.SCRIPT:d.state=m.TEXT,d.tag=null,d.tagName=""),d.attribName=d.attribValue="",d.attribList.length=0}s(jt,"openTag");function qs(d){if(!d.tagName){D(d,"Weird empty close tag."),d.textNode+="</>",d.state=m.TEXT;return}if(d.script){if(d.tagName!=="script"){d.script+="</"+d.tagName+">",d.tagName="",d.state=m.SCRIPT;return}W(d,"onscript",d.script),d.script=""}var f=d.tags.length,w=d.tagName;d.strict||(w=w[d.looseCase]());for(var b=w;f--;){var H=d.tags[f];if(H.name!==b)D(d,"Unexpected close tag");else break}if(f<0){D(d,"Unmatched closing tag: "+d.tagName),d.textNode+="</"+d.tagName+">",d.state=m.TEXT;return}d.tagName=w;for(var re=d.tags.length;re-- >f;){var ne=d.tag=d.tags.pop();d.tagName=d.tag.name,W(d,"onclosetag",d.tagName);var _e={};for(var we in ne.ns)_e[we]=ne.ns[we];var ui=d.tags[d.tags.length-1]||d;d.opt.xmlns&&ne.ns!==ui.ns&&Object.keys(ne.ns).forEach(function(fe){var nt=ne.ns[fe];W(d,"onclosenamespace",{prefix:fe,uri:nt})})}f===0&&(d.closedRoot=!0),d.tagName=d.attribValue=d.attribName="",d.attribList.length=0,d.state=m.TEXT}s(qs,"closeTag");function rm(d){var f=d.entity,w=f.toLowerCase(),b,H="";return d.ENTITIES[f]?d.ENTITIES[f]:d.ENTITIES[w]?d.ENTITIES[w]:(f=w,f.charAt(0)==="#"&&(f.charAt(1)==="x"?(f=f.slice(2),b=parseInt(f,16),H=b.toString(16)):(f=f.slice(1),b=parseInt(f,10),H=b.toString(10))),f=f.replace(/^0+/,""),isNaN(b)||H.toLowerCase()!==f?(D(d,"Invalid character entity"),"&"+d.entity+";"):String.fromCodePoint(b))}s(rm,"parseEntity");function uc(d,f){f==="<"?(d.state=m.OPEN_WAKA,d.startTagPosition=d.position):k(f)||(D(d,"Non-whitespace before first tag."),d.textNode=f,d.state=m.TEXT)}s(uc,"beginWhiteSpace");function lc(d,f){var w="";return f<d.length&&(w=d.charAt(f)),w}s(lc,"charAt");function nm(d){var f=this;if(this.error)throw this.error;if(f.closed)return me(f,"Cannot write after close. Assign an onready handler.");if(d===null)return de(f);typeof d=="object"&&(d=d.toString());for(var w=0,b="";b=lc(d,w++),f.c=b,!!b;)switch(f.trackPosition&&(f.position++,b===`
`?(f.line++,f.column=0):f.column++),f.state){case m.BEGIN:if(f.state=m.BEGIN_WHITESPACE,b==="\uFEFF")continue;uc(f,b);continue;case m.BEGIN_WHITESPACE:uc(f,b);continue;case m.TEXT:if(f.sawRoot&&!f.closedRoot){for(var H=w-1;b&&b!=="<"&&b!=="&";)b=lc(d,w++),b&&f.trackPosition&&(f.position++,b===`
`?(f.line++,f.column=0):f.column++);f.textNode+=d.substring(H,w-1)}b==="<"&&!(f.sawRoot&&f.closedRoot&&!f.strict)?(f.state=m.OPEN_WAKA,f.startTagPosition=f.position):(!k(b)&&(!f.sawRoot||f.closedRoot)&&D(f,"Text data outside of root node."),b==="&"?f.state=m.TEXT_ENTITY:f.textNode+=b);continue;case m.SCRIPT:b==="<"?f.state=m.SCRIPT_ENDING:f.script+=b;continue;case m.SCRIPT_ENDING:b==="/"?f.state=m.CLOSE_TAG:(f.script+="<"+b,f.state=m.SCRIPT);continue;case m.OPEN_WAKA:if(b==="!")f.state=m.SGML_DECL,f.sgmlDecl="";else if(!k(b))if(J(E,b))f.state=m.OPEN_TAG,f.tagName=b;else if(b==="/")f.state=m.CLOSE_TAG,f.tagName="";else if(b==="?")f.state=m.PROC_INST,f.procInstName=f.procInstBody="";else{if(D(f,"Unencoded <"),f.startTagPosition+1<f.position){var re=f.position-f.startTagPosition;b=new Array(re).join(" ")+b}f.textNode+="<"+b,f.state=m.TEXT}continue;case m.SGML_DECL:if(f.sgmlDecl+b==="--"){f.state=m.COMMENT,f.comment="",f.sgmlDecl="";continue}f.doctype&&f.doctype!==!0&&f.sgmlDecl?(f.state=m.DOCTYPE_DTD,f.doctype+="<!"+f.sgmlDecl+b,f.sgmlDecl=""):(f.sgmlDecl+b).toUpperCase()===p?(W(f,"onopencdata"),f.state=m.CDATA,f.sgmlDecl="",f.cdata=""):(f.sgmlDecl+b).toUpperCase()===g?(f.state=m.DOCTYPE,(f.doctype||f.sawRoot)&&D(f,"Inappropriately located doctype declaration"),f.doctype="",f.sgmlDecl=""):b===">"?(W(f,"onsgmldeclaration",f.sgmlDecl),f.sgmlDecl="",f.state=m.TEXT):(R(b)&&(f.state=m.SGML_DECL_QUOTED),f.sgmlDecl+=b);continue;case m.SGML_DECL_QUOTED:b===f.q&&(f.state=m.SGML_DECL,f.q=""),f.sgmlDecl+=b;continue;case m.DOCTYPE:b===">"?(f.state=m.TEXT,W(f,"ondoctype",f.doctype),f.doctype=!0):(f.doctype+=b,b==="["?f.state=m.DOCTYPE_DTD:R(b)&&(f.state=m.DOCTYPE_QUOTED,f.q=b));continue;case m.DOCTYPE_QUOTED:f.doctype+=b,b===f.q&&(f.q="",f.state=m.DOCTYPE);continue;case m.DOCTYPE_DTD:b==="]"?(f.doctype+=b,f.state=m.DOCTYPE):b==="<"?(f.state=m.OPEN_WAKA,f.startTagPosition=f.position):R(b)?(f.doctype+=b,f.state=m.DOCTYPE_DTD_QUOTED,f.q=b):f.doctype+=b;continue;case m.DOCTYPE_DTD_QUOTED:f.doctype+=b,b===f.q&&(f.state=m.DOCTYPE_DTD,f.q="");continue;case m.COMMENT:b==="-"?f.state=m.COMMENT_ENDING:f.comment+=b;continue;case m.COMMENT_ENDING:b==="-"?(f.state=m.COMMENT_ENDED,f.comment=ce(f.opt,f.comment),f.comment&&W(f,"oncomment",f.comment),f.comment=""):(f.comment+="-"+b,f.state=m.COMMENT);continue;case m.COMMENT_ENDED:b!==">"?(D(f,"Malformed comment"),f.comment+="--"+b,f.state=m.COMMENT):f.doctype&&f.doctype!==!0?f.state=m.DOCTYPE_DTD:f.state=m.TEXT;continue;case m.CDATA:b==="]"?f.state=m.CDATA_ENDING:f.cdata+=b;continue;case m.CDATA_ENDING:b==="]"?f.state=m.CDATA_ENDING_2:(f.cdata+="]"+b,f.state=m.CDATA);continue;case m.CDATA_ENDING_2:b===">"?(f.cdata&&W(f,"oncdata",f.cdata),W(f,"onclosecdata"),f.cdata="",f.state=m.TEXT):b==="]"?f.cdata+="]":(f.cdata+="]]"+b,f.state=m.CDATA);continue;case m.PROC_INST:b==="?"?f.state=m.PROC_INST_ENDING:k(b)?f.state=m.PROC_INST_BODY:f.procInstName+=b;continue;case m.PROC_INST_BODY:if(!f.procInstBody&&k(b))continue;b==="?"?f.state=m.PROC_INST_ENDING:f.procInstBody+=b;continue;case m.PROC_INST_ENDING:b===">"?(W(f,"onprocessinginstruction",{name:f.procInstName,body:f.procInstBody}),f.procInstName=f.procInstBody="",f.state=m.TEXT):(f.procInstBody+="?"+b,f.state=m.PROC_INST_BODY);continue;case m.OPEN_TAG:J(N,b)?f.tagName+=b:(At(f),b===">"?jt(f):b==="/"?f.state=m.OPEN_TAG_SLASH:(k(b)||D(f,"Invalid character in tag name"),f.state=m.ATTRIB));continue;case m.OPEN_TAG_SLASH:b===">"?(jt(f,!0),qs(f)):(D(f,"Forward-slash in opening tag not followed by >"),f.state=m.ATTRIB);continue;case m.ATTRIB:if(k(b))continue;b===">"?jt(f):b==="/"?f.state=m.OPEN_TAG_SLASH:J(E,b)?(f.attribName=b,f.attribValue="",f.state=m.ATTRIB_NAME):D(f,"Invalid attribute name");continue;case m.ATTRIB_NAME:b==="="?f.state=m.ATTRIB_VALUE:b===">"?(D(f,"Attribute without value"),f.attribValue=f.attribName,Vs(f),jt(f)):k(b)?f.state=m.ATTRIB_NAME_SAW_WHITE:J(N,b)?f.attribName+=b:D(f,"Invalid attribute name");continue;case m.ATTRIB_NAME_SAW_WHITE:if(b==="=")f.state=m.ATTRIB_VALUE;else{if(k(b))continue;D(f,"Attribute without value"),f.tag.attributes[f.attribName]="",f.attribValue="",W(f,"onattribute",{name:f.attribName,value:""}),f.attribName="",b===">"?jt(f):J(E,b)?(f.attribName=b,f.state=m.ATTRIB_NAME):(D(f,"Invalid attribute name"),f.state=m.ATTRIB)}continue;case m.ATTRIB_VALUE:if(k(b))continue;R(b)?(f.q=b,f.state=m.ATTRIB_VALUE_QUOTED):(f.opt.unquotedAttributeValues||me(f,"Unquoted attribute value"),f.state=m.ATTRIB_VALUE_UNQUOTED,f.attribValue=b);continue;case m.ATTRIB_VALUE_QUOTED:if(b!==f.q){b==="&"?f.state=m.ATTRIB_VALUE_ENTITY_Q:f.attribValue+=b;continue}Vs(f),f.q="",f.state=m.ATTRIB_VALUE_CLOSED;continue;case m.ATTRIB_VALUE_CLOSED:k(b)?f.state=m.ATTRIB:b===">"?jt(f):b==="/"?f.state=m.OPEN_TAG_SLASH:J(E,b)?(D(f,"No whitespace between attributes"),f.attribName=b,f.attribValue="",f.state=m.ATTRIB_NAME):D(f,"Invalid attribute name");continue;case m.ATTRIB_VALUE_UNQUOTED:if(!j(b)){b==="&"?f.state=m.ATTRIB_VALUE_ENTITY_U:f.attribValue+=b;continue}Vs(f),b===">"?jt(f):f.state=m.ATTRIB;continue;case m.CLOSE_TAG:if(f.tagName)b===">"?qs(f):J(N,b)?f.tagName+=b:f.script?(f.script+="</"+f.tagName,f.tagName="",f.state=m.SCRIPT):(k(b)||D(f,"Invalid tagname in closing tag"),f.state=m.CLOSE_TAG_SAW_WHITE);else{if(k(b))continue;ue(E,b)?f.script?(f.script+="</"+b,f.state=m.SCRIPT):D(f,"Invalid tagname in closing tag."):f.tagName=b}continue;case m.CLOSE_TAG_SAW_WHITE:if(k(b))continue;b===">"?qs(f):D(f,"Invalid characters in closing tag");continue;case m.TEXT_ENTITY:case m.ATTRIB_VALUE_ENTITY_Q:case m.ATTRIB_VALUE_ENTITY_U:var ne,_e;switch(f.state){case m.TEXT_ENTITY:ne=m.TEXT,_e="textNode";break;case m.ATTRIB_VALUE_ENTITY_Q:ne=m.ATTRIB_VALUE_QUOTED,_e="attribValue";break;case m.ATTRIB_VALUE_ENTITY_U:ne=m.ATTRIB_VALUE_UNQUOTED,_e="attribValue";break}if(b===";"){var we=rm(f);f.opt.unparsedEntities&&!Object.values(e.XML_ENTITIES).includes(we)?(f.entity="",f.state=ne,f.write(we)):(f[_e]+=we,f.entity="",f.state=ne)}else J(f.entity.length?M:A,b)?f.entity+=b:(D(f,"Invalid character in entity name"),f[_e]+="&"+f.entity+b,f.entity="",f.state=ne);continue;default:throw new Error(f,"Unknown state: "+f.state)}return f.position>=f.bufferCheckPosition&&r(f),f}s(nm,"write");String.fromCodePoint||function(){var d=String.fromCharCode,f=Math.floor,w=s(function(){var b=16384,H=[],re,ne,_e=-1,we=arguments.length;if(!we)return"";for(var ui="";++_e<we;){var fe=Number(arguments[_e]);if(!isFinite(fe)||fe<0||fe>1114111||f(fe)!==fe)throw RangeError("Invalid code point: "+fe);fe<=65535?H.push(fe):(fe-=65536,re=(fe>>10)+55296,ne=fe%1024+56320,H.push(re,ne)),(_e+1===we||H.length>b)&&(ui+=d.apply(null,H),H.length=0)}return ui},"fromCodePoint");Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:w,configurable:!0,writable:!0}):String.fromCodePoint=w}()})(typeof Cs>"u"?Cs.sax={}:Cs)});var Rl=x(Vi=>{"use strict";var Nx=Vi&&Vi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vi,"__esModule",{value:!0});Vi.FormatParser=void 0;var Px=Nx(ib()),rb=Ni(),nb=Ot(),Il=class Il{static parseFormats(t){let i=[];return t&&t.streamingData&&(i=i.concat(t.streamingData.formats).concat(t.streamingData.adaptiveFormats)),i}static async getM3U8(t,i){let r=new URL(t,nb.Url.getBaseUrl()),n=await rb.Fetcher.request(r.toString(),i),a={};return n.split(`
`).filter(o=>/^https?:\/\//.test(o)).forEach(o=>{let u=o.match(/\/itag\/(\d+)\//)||[],l=parseInt(u[1]);a[o]={itag:l,url:o}}),a}static getDashManifest(t,i){return new Promise((r,n)=>{let a=Px.default.parser(!1),o={};a.onerror=n;let u=null;a.onopentag=l=>{let c=l.attributes;if(l.name==="ADAPTATIONSET")u=c;else if(l.name==="REPRESENTATION"){let p=parseInt(c.ID);if(!isNaN(p)){let g=l.attributes.HEIGHT?{width:parseInt(c.WIDTH),height:parseInt(c.HEIGHT),fps:parseInt(c.FRAMERATE)}:{audioSampleRate:c.AUDIOSAMPLINGRATE};o[t]=Object.assign({itag:p,url:t,bitrate:parseInt(c.BANDWIDTH),mimeType:`${u.MIMETYPE}; codecs="${c.CODECS}"`},g)}}},a.onend=()=>{r(o)},rb.Fetcher.request(new URL(t,nb.Url.getBaseUrl()).toString(),i).then(l=>{a.write(l),a.close()}).catch(n)})}static parseAdditionalManifests(t,i){let r=t&&t.streamingData,n=[];return r&&(r.dashManifestUrl&&n.push(this.getDashManifest(r.dashManifestUrl,i)),r.hlsManifestUrl&&n.push(this.getM3U8(r.hlsManifestUrl,i))),n}};s(Il,"FormatParser");var Cl=Il;Vi.FormatParser=Cl});var Ll=x(Pl=>{"use strict";Object.defineProperty(Pl,"__esModule",{value:!0});var sb=Te(),kl=class kl{static checkResponse(t,i){var r,n,a;try{if(t.status==="fulfilled")return t.value===null?null:(sb.Logger.debug(`[ ${i} ]: <success>Success</success>`),Object.assign({},t.value));{let o=t.reason||{};return sb.Logger.debug(`[ ${i} ]: <error>Error</error>
Reason: ${((r=o.error)==null?void 0:r.message)||((n=o.error)==null?void 0:n.toString())}`),o}}catch{return(a=t||{})==null?void 0:a.reason}}};s(kl,"ApiBase");var Nl=kl;Pl.default=Nl});var ob=x(un=>{"use strict";var kx=un&&un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(un,"__esModule",{value:!0});var Dl;(function(e){e[e.WEB=0]="WEB",e[e.WEBCREATOR=1]="WEBCREATOR",e[e.WEBEMBEDDED=2]="WEBEMBEDDED",e[e.TVEMBEDDED=3]="TVEMBEDDED",e[e.IOS=4]="IOS",e[e.ANDROID=5]="ANDROID",e[e.MWEB=6]="MWEB",e[e.TV=7]="TV"})(Dl||(Dl={}));var Et=us(),Lx=ns(),Ol=Te(),ab=kx(Ll()),Ox=["This video is private"],Bl=class Bl{static async getApiResponses(t,i){var u,l;let r={web:i.includes("web")?Et.Web.getPlayerResponse(t):Promise.reject(null),webCreator:i.includes("webCreator")?Et.WebCreator.getPlayerResponse(t):Promise.reject(null),webEmbedded:i.includes("webEmbedded")?Et.WebEmbedded.getPlayerResponse(t):Promise.reject(null),tvEmbedded:i.includes("tvEmbedded")?Et.TvEmbedded.getPlayerResponse(t):Promise.reject(null),ios:i.includes("ios")?Et.Ios.getPlayerResponse(t):Promise.reject(null),android:i.includes("android")?Et.Android.getPlayerResponse(t):Promise.reject(null),mweb:i.includes("mweb")?Et.MWeb.getPlayerResponse(t):Promise.reject(null),tv:i.includes("tv")?Et.Tv.getPlayerResponse(t):Promise.reject(null)},n=await Promise.allSettled(Object.values(r)),a={web:null,webCreator:null,webEmbedded:null,tvEmbedded:null,ios:null,android:null,mweb:null,tv:null};i.forEach(c=>{var g;let p=c.toUpperCase();a[c]=((g=ab.default.checkResponse(n[Dl[p]],c))==null?void 0:g.contents)||null});let o=n.every(c=>c.status==="rejected");if(o){let c=`All player APIs responded with an error. (Clients: ${i.join(", ")})
For details, specify \`logDisplay: ["debug", "info", "success", "warning", "error"]\` in the constructor options of the YtdlCore class.`;if(a.ios&&(Ox.includes(((u=a.ios)==null?void 0:u.playabilityStatus.reason)||"")||!a.ios.videoDetails))throw new Lx.UnrecoverableError(c+`
Note: This error cannot continue processing. (Details: ${JSON.stringify(a.ios.playabilityStatus.reason)})`);if(!a.web){Ol.Logger.info("As a fallback to obtain the minimum information, the web client is forced to adapt.");let p=(await Promise.allSettled([Et.Web.getPlayerResponse(t)]))[0];a.web=((l=ab.default.checkResponse(p,"web"))==null?void 0:l.contents)||null}Ol.Logger.error(c),Ol.Logger.info("Only minimal information is available, as information from the Player API is not available.")}return{isMinimalMode:o,responses:a}}};s(Bl,"PlayerApi");var Ml=Bl;un.default=Ml});var ub=x(ln=>{"use strict";var Dx=ln&&ln.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ln,"__esModule",{value:!0});var Mx=us(),Bx=Dx(Ll()),Ul=class Ul{static async getApiResponses(t){var a;let i={web:Mx.Web.getNextResponse(t)},r=await Promise.allSettled(Object.values(i));return{web:((a=Bx.default.checkResponse(r[0],"web"))==null?void 0:a.contents)||null}}};s(Ul,"NextApi");var Fl=Ul;ln.default=Fl});var fb=x(Wl=>{"use strict";Object.defineProperty(Wl,"__esModule",{value:!0});var Vl=Ot(),Fx=Te(),Ux=/^\d+$/,Vx=/^(?:(?:(\d+):)?(\d{1,2}):)?(\d{1,2})(?:\.(\d{3}))?$/,qx=/(-?\d+)(ms|s|m|h)/g,Is={ms:1,s:1e3,m:6e4,h:36e5};function jx(e){if(typeof e=="number")return e;if(Ux.test(e))return+e;let t=Vx.exec(e);if(t)return+(t[1]||0)*Is.h+ +(t[2]||0)*Is.m+ +t[3]*Is.s+ +(t[4]||0);{let i=0;for(let r of e.matchAll(qx))i+=+r[1]*Is[r[2]];return i}}s(jx,"parseTimestamp");function Vt(e){return e&&e.runs?e.runs[0].text:e?e.simpleText:""}s(Vt,"getText");function cb(e){return!!(e&&e.find(t=>t.metadataBadgeRenderer.tooltip==="Verified"))}s(cb,"isVerified");function Wx(e,t="en"){let i=new Date,r=Math.floor((i.getTime()-e.getTime())/1e3),n=new Intl.RelativeTimeFormat(t,{numeric:"always"});return r<60?n.format(-r,"second"):r<3600?n.format(-Math.floor(r/60),"minute"):r<86400?n.format(-Math.floor(r/3600),"hour"):r<2592e3?n.format(-Math.floor(r/86400),"day"):r<31536e3?n.format(-Math.floor(r/2592e3),"month"):n.format(-Math.floor(r/31536e3),"year")}s(Wx,"getRelativeTime");function lb(e,t){var i,r;if(!e)return null;try{let n=Vt(e.viewCountText),a=Vt(e.shortViewCountText);/^\d/.test(a)||(a=""),n=(/^\d/.test(n)?n:a).split(" ")[0];let o=new Intl.NumberFormat(t,{notation:"compact"}),u=e.shortBylineText.runs[0].navigationEndpoint.browseEndpoint,l=u.browseId,c=Vt(e.shortBylineText),p=(u.canonicalBaseUrl||"").split("/").slice(-1)[0],g=Vt(e.publishedTimeText),v=a.split(" ")[0];return{id:e.videoId,title:Vt(e.title),published:g||null,author:{id:l,name:c,user:p,channelUrl:`https://www.youtube.com/channel/${l}`,userUrl:`https://www.youtube.com/user/${p}`,thumbnails:(i=e.channelThumbnail.thumbnails||[])==null?void 0:i.map(S=>(S.url=new URL(S.url,Vl.Url.getBaseUrl()).toString(),S)),subscriberCount:null,verified:cb(e.ownerBadges||[])},shortViewCountText:t==="en"?v:o.format(ql(v)),viewCount:parseInt(n.replace(/,/g,"")),lengthSeconds:e.lengthText?Math.floor(jx(Vt(e.lengthText))/1e3):null,thumbnails:e.thumbnail.thumbnails||[],richThumbnails:e.richThumbnail?((r=e.richThumbnail.movingThumbnailRenderer.movingThumbnailDetails)==null?void 0:r.thumbnails)||[]:[],isLive:!!(e.badges&&e.badges.find(S=>S.metadataBadgeRenderer.label==="LIVE NOW"))}}catch(n){return console.log(n),Fx.Logger.debug(`<error>Failed</error> to parse related video (ID: ${(e==null?void 0:e.videoId)||"Unknown"}): <error>${n}</error>`),null}}s(lb,"parseRelatedVideo");function ql(e){let t=e.slice(-1).toUpperCase(),i=parseFloat(e.slice(0,-1));switch(t){case"K":return i*1e3;case"M":return i*1e6;case"B":return i*1e9;default:return parseFloat(e)}}s(ql,"parseStringToNumber");var Hl=class Hl{static getMedia(t){var n;if(!t)return null;let i={category:"",categoryUrl:"",thumbnails:[]},r=null;try{r=((n=t.microformat)==null?void 0:n.playerMicroformatRenderer)||null}catch{}if(!r)return null;try{i.category=r.category,i.thumbnails=r.thumbnail.thumbnails||[],i.category==="Music"?i.categoryUrl=Vl.Url.getBaseUrl()+"/music":i.category==="Gaming"&&(i.categoryUrl=Vl.Url.getBaseUrl()+"/gaming")}catch{}return i}static getAuthor(t){if(!t)return null;let i=null,r=null,n=null,a=[],o=null,u=!1,l=null;try{let c=t.contents.twoColumnWatchNextResults.results.results.contents.find(p=>p.videoSecondaryInfoRenderer);l=c==null?void 0:c.videoSecondaryInfoRenderer}catch{}if(!l||!l.owner)return null;try{let c=l.owner.videoOwnerRenderer;i=c.title.runs[0].text||null,r=c.navigationEndpoint.browseEndpoint.browseId||null,n=c.navigationEndpoint.browseEndpoint.canonicalBaseUrl.replace("/","")||null,a=c.thumbnail.thumbnails||[],o=Math.floor(ql(c.subscriberCountText.simpleText.split(" ")[0]))||null,u=cb(c.badges||[])}catch{}try{return{id:r||"",name:i||"",user:n||"",channelUrl:r?`https://www.youtube.com/channel/${r}`:"",externalChannelUrl:r?`https://www.youtube.com/channel/${r}`:"",userUrl:"https://www.youtube.com"+n,thumbnails:a,subscriberCount:o,verified:u}}catch{return null}}static getAuthorFromPlayerResponse(t){var p,g,v;let i=null,r=null,n=null,a=[],o=null,u=!1,l=null,c=null;try{l=((p=t.microformat)==null?void 0:p.playerMicroformatRenderer)||null,c=(v=(g=t.endscreen)==null?void 0:g.endscreenRenderer.elements.find(y=>y.endscreenElementRenderer.style==="CHANNEL"))==null?void 0:v.endscreenElementRenderer}catch{}if(!l)return null;try{i=l.ownerChannelName||null,r=l.externalChannelId,n="@"+(l.ownerProfileUrl||"").split("@")[1],a=c.image.thumbnails||[],o=null,u=!1}catch{}try{return{id:r||"",name:i||"",user:n||"",channelUrl:r?`https://www.youtube.com/channel/${r}`:"",externalChannelUrl:r?`https://www.youtube.com/channel/${r}`:"",userUrl:"https://www.youtube.com/"+n,thumbnails:a,subscriberCount:o,verified:u}}catch{return null}}static getLikes(t){if(!t)return null;try{let i=t.contents.twoColumnWatchNextResults.results.results.contents,r=i.find(l=>l.videoPrimaryInfoRenderer),n=r.videoPrimaryInfoRenderer.videoActions.menuRenderer.topLevelButtons,a=n.filter(l=>l.segmentedLikeDislikeButtonViewModel)[0].segmentedLikeDislikeButtonViewModel.likeButtonViewModel.likeButtonViewModel.toggleButtonViewModel.toggleButtonViewModel.defaultButtonViewModel.buttonViewModel,o=a.accessibilityText,u=a.title;if(o){let l=o.match(/[\d,.]+/)||[];return parseInt((l[0]||"").replace(/\D+/g,""))}else if(u)return ql(u);return null}catch{return null}}static getRelatedVideos(t,i){if(!t)return[];let r=[];try{r=t.contents.twoColumnWatchNextResults.secondaryResults.secondaryResults.results}catch{}let n=[];for(let a of r){let o=a.compactVideoRenderer;if(o){let u=lb(o,i);u&&n.push(u)}else{let u=a.compactAutoplayRenderer||a.itemSectionRenderer;if(!u||!Array.isArray(u.contents))continue;for(let l of u.contents){let c=lb(l.compactVideoRenderer,i);c&&n.push(c)}}}return n}static cleanVideoDetails(t,i,r="en"){let n=t;n.thumbnail&&(n.thumbnails=n.thumbnail.thumbnails);let a=n.shortDescription||Vt(n.description);if(a&&(n.description=a),typeof n.thumbnail<"u"&&delete n.thumbnail,typeof n.shortDescription<"u"&&delete n.shortDescription,i){n.lengthSeconds=parseInt(i.lengthSeconds||t.lengthSeconds.toString()),n.publishDate=i.publishDate||t.publishDate||null,n.published=null;try{n.publishDate&&(n.published=Wx(new Date(n.publishDate),r)||null)}catch{}}return n.lengthSeconds&&(n.lengthSeconds=parseInt(n.lengthSeconds)),n.viewCount&&(n.viewCount=parseInt(n.viewCount)),n}static getStoryboards(t){if(!t)return[];let i=t.storyboards&&t.storyboards.playerStoryboardSpecRenderer&&t.storyboards.playerStoryboardSpecRenderer.spec&&t.storyboards.playerStoryboardSpecRenderer.spec.split("|");if(!i)return[];let r=new URL(i.shift()||"");return i.map((n,a)=>{let[o,u,l,c,p,g,v,y]=n.split("#");r.searchParams.set("sigh",y),l=parseInt(l,10),c=parseInt(c,10),p=parseInt(p,10);let S=Math.ceil(l/(c*p));return{templateUrl:r.toString().replace("$L",a.toString()).replace("$N",v),thumbnailWidth:parseInt(o,10),thumbnailHeight:parseInt(u,10),thumbnailCount:l,interval:parseInt(g,10),columns:c,rows:p,storyboardCount:S}})}static getChapters(t){if(!t)return[];let i=t.playerOverlays&&t.playerOverlays.playerOverlayRenderer,r=i&&i.decoratedPlayerBarRenderer&&i.decoratedPlayerBarRenderer.decoratedPlayerBarRenderer&&i.decoratedPlayerBarRenderer.decoratedPlayerBarRenderer.playerBar,n=r&&r.multiMarkersPlayerBarRenderer&&r.multiMarkersPlayerBarRenderer.markersMap,a=Array.isArray(n)&&n.find(u=>u.value&&Array.isArray(u.value.chapters));return a?a.value.chapters.map(u=>({title:Vt(u.chapterRenderer.title),startTime:u.chapterRenderer.timeRangeStartMillis/1e3})):[]}};s(Hl,"InfoExtras");var jl=Hl;Wl.default=jl});var Kl=x(qi=>{"use strict";var Rs=qi&&qi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qi,"__esModule",{value:!0});qi._getBasicInfo=pb;qi.getBasicInfo=tS;var Hx=fu(),hb=Ie(),cn=Te(),$x=Rs(or()),Gl=Ot(),Gx=As(),Yx=Rl(),Kx=Rs(ob()),zx=Rs(ub()),Se=Rs(fb()),Xx=["support.google.com/youtube/?p=age_restrictions","youtube.com/t/community_guidelines"],Qx=["web","webCreator","webEmbedded","ios","android","mweb","tv","tvEmbedded"],Yl=["web","webCreator","tvEmbedded","ios","android"],db=hb.Platform.getShim(),$l=db.cache,Jx={videoDetails:{videoUrl:"",videoId:"",playabilityStatus:"UNKNOWN",title:"",author:null,lengthSeconds:0,viewCount:0,likes:null,media:null,storyboards:[],chapters:[],thumbnails:[],description:null,keywords:[],channelId:"",ageRestricted:!1,allowRatings:!1,isOwnerViewing:!1,isCrawlable:!1,isPrivate:!1,isUnpluggedCorpus:!1,isLiveContent:!1,isUpcoming:!1,isLowLatencyLiveStream:!1,liveBroadcastDetails:{isLiveNow:!1,startTimestamp:""},published:null,publishDate:null,latencyClass:null},relatedVideos:[],formats:[],full:!1,_metadata:{isMinimumMode:!1,clients:[],html5Player:"",id:"",options:{}},_ytdl:{version:db.info.version}},Zx=JSON.stringify(Jx);function eS(e,t){return e&&e.length===0&&(cn.Logger.warning("At least one client must be specified."),e=Yl),e=e.filter(i=>Qx.includes(i)),t?e:[...new Set([...Yl,...e])]}s(eS,"setupClients");async function pb(e,t,i){var Q,te,W,Ae,ce;let r=hb.Platform.getShim(),n=(0,Gx.getHtml5Player)(t);if(t.oauth2&&t.oauth2 instanceof Hx.OAuth2&&t.oauth2.shouldRefreshToken()&&(cn.Logger.info("The specified OAuth2 token has expired and will be renewed automatically."),await t.oauth2.refreshAccessToken()),!t.poToken&&!t.disablePoTokenAutoGeneration){cn.Logger.warning("Specify poToken for stable and fast operation. See README for details."),cn.Logger.info("Automatically generates poToken, but stable operation cannot be guaranteed.");let{poToken:me,visitorData:de}=await r.poToken();t.poToken=me,t.visitorData=de}t.poToken&&!t.visitorData&&cn.Logger.warning("If you specify a poToken, you must also specify the visitorData."),t.clients=eS(t.clients||Yl,(Q=t.disableDefaultClients)!=null?Q:!1);let a=await n,o=a.url;if(!o)throw new Error(`HTML5Player was not found, please report it via Issues (${r.info.issuesUrl}).`);let u=parseInt(a.signatureTimestamp||"0")||0,l={videoId:e,signatureTimestamp:u,options:t},c=JSON.parse(Zx),p={playerApiRequest:Kx.default.getApiResponses(l,t.clients),nextApiRequest:zx.default.getApiResponses(l)},{isMinimalMode:g,responses:v}=await p.playerApiRequest,y=await p.nextApiRequest,S=Object.values(v)||[];c._metadata.isMinimumMode=g,c._metadata.html5Player=o,c._metadata.clients=t.clients,c._metadata.options=t,c._metadata.id=e,(t.includesPlayerAPIResponse||i)&&(c._playerApiResponses=v),(t.includesNextAPIResponse||i)&&(c._nextApiResponses=y);function E(me,de,D){return me.filter(At=>At&&At[de]&&(D?At[de]===D:!0))[0]}s(E,"getValue");let N=E(S,"storyboards"),A=E(S,"videoDetails").videoDetails||{},M=E(S,"microformat").microformat||null,k=((W=(te=v.web)==null?void 0:te.microformat)==null?void 0:W.playerMicroformatRenderer.liveBroadcastDetails)||null,R=Se.default.getStoryboards(N),j=Se.default.getMedia(v.web)||Se.default.getMedia(v.webCreator)||Se.default.getMedia(v.ios)||Se.default.getMedia(v.android)||Se.default.getMedia(v.webEmbedded)||Se.default.getMedia(v.tvEmbedded)||Se.default.getMedia(v.mweb)||Se.default.getMedia(v.tv),J=!!j&&Xx.some(me=>Object.values(j||{}).some(de=>typeof de=="string"&&de.includes(me))),ue={videoUrl:Gl.Url.getWatchPageUrl(e),author:Se.default.getAuthor(y.web),media:j,likes:Se.default.getLikes(y.web),ageRestricted:J,storyboards:R,chapters:Se.default.getChapters(y.web),thumbnails:[],description:""},m=S.reduce((me,de)=>[...me,...Yx.FormatParser.parseFormats(de)],[]);return c.videoDetails=Se.default.cleanVideoDetails(Object.assign(c.videoDetails,A,ue),(M==null?void 0:M.playerMicroformatRenderer)||null,t.hl),c.videoDetails.playabilityStatus=((Ae=E(S,"playabilityStatus","OK"))==null?void 0:Ae.playabilityStatus.status)||((ce=S[0])==null?void 0:ce.playabilityStatus.status)||"UNKNOWN",c.videoDetails.liveBroadcastDetails=k,c.relatedVideos=t.includesRelatedVideo?Se.default.getRelatedVideos(y.web,t.hl||"en"):[],c.formats=i?m:[],c}s(pb,"_getBasicInfo");async function tS(e,t){$x.default.checkForUpdates();let i=Gl.Url.getVideoID(e)||(Gl.Url.validateID(e)?e:null);if(!i)throw new Error("The URL specified is not a valid URL.");let r=["getBasicInfo",i,t.hl,t.gl].join("-");if(await $l.has(r))return $l.get(r);let n=await pb(i,t,!1);return $l.set(r,n,{ttl:60*30}),n}s(tS,"getBasicInfo")});var bb=x(Ns=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});Ns.FORMATS=void 0;var iS={5:{mimeType:'video/flv; codecs="Sorenson H.283, mp3"',qualityLabel:"240p",bitrate:25e4,audioBitrate:64},6:{mimeType:'video/flv; codecs="Sorenson H.263, mp3"',qualityLabel:"270p",bitrate:8e5,audioBitrate:64},13:{mimeType:'video/3gp; codecs="MPEG-4 Visual, aac"',qualityLabel:null,bitrate:5e5,audioBitrate:null},17:{mimeType:'video/3gp; codecs="MPEG-4 Visual, aac"',qualityLabel:"144p",bitrate:5e4,audioBitrate:24},18:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"360p",bitrate:5e5,audioBitrate:96},22:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"720p",bitrate:2e6,audioBitrate:192},34:{mimeType:'video/flv; codecs="H.264, aac"',qualityLabel:"360p",bitrate:5e5,audioBitrate:128},35:{mimeType:'video/flv; codecs="H.264, aac"',qualityLabel:"480p",bitrate:8e5,audioBitrate:128},36:{mimeType:'video/3gp; codecs="MPEG-4 Visual, aac"',qualityLabel:"240p",bitrate:175e3,audioBitrate:32},37:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"1080p",bitrate:3e6,audioBitrate:192},38:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"3072p",bitrate:35e5,audioBitrate:192},43:{mimeType:'video/webm; codecs="VP8, vorbis"',qualityLabel:"360p",bitrate:5e5,audioBitrate:128},44:{mimeType:'video/webm; codecs="VP8, vorbis"',qualityLabel:"480p",bitrate:1e6,audioBitrate:128},45:{mimeType:'video/webm; codecs="VP8, vorbis"',qualityLabel:"720p",bitrate:2e6,audioBitrate:192},46:{mimeType:'audio/webm; codecs="vp8, vorbis"',qualityLabel:"1080p",bitrate:null,audioBitrate:192},82:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"360p",bitrate:5e5,audioBitrate:96},83:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"240p",bitrate:5e5,audioBitrate:96},84:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"720p",bitrate:2e6,audioBitrate:192},85:{mimeType:'video/mp4; codecs="H.264, aac"',qualityLabel:"1080p",bitrate:3e6,audioBitrate:192},91:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"144p",bitrate:1e5,audioBitrate:48},92:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"240p",bitrate:15e4,audioBitrate:48},93:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"360p",bitrate:5e5,audioBitrate:128},94:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"480p",bitrate:8e5,audioBitrate:128},95:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"720p",bitrate:15e5,audioBitrate:256},96:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"1080p",bitrate:25e5,audioBitrate:256},100:{mimeType:'audio/webm; codecs="VP8, vorbis"',qualityLabel:"360p",bitrate:null,audioBitrate:128},101:{mimeType:'audio/webm; codecs="VP8, vorbis"',qualityLabel:"360p",bitrate:null,audioBitrate:192},102:{mimeType:'audio/webm; codecs="VP8, vorbis"',qualityLabel:"720p",bitrate:null,audioBitrate:192},120:{mimeType:'video/flv; codecs="H.264, aac"',qualityLabel:"720p",bitrate:2e6,audioBitrate:128},127:{mimeType:'audio/ts; codecs="aac"',qualityLabel:null,bitrate:null,audioBitrate:96},128:{mimeType:'audio/ts; codecs="aac"',qualityLabel:null,bitrate:null,audioBitrate:96},132:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"240p",bitrate:15e4,audioBitrate:48},133:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"240p",bitrate:2e5,audioBitrate:null},134:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"360p",bitrate:3e5,audioBitrate:null},135:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"480p",bitrate:5e5,audioBitrate:null},136:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"720p",bitrate:1e6,audioBitrate:null},137:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"1080p",bitrate:25e5,audioBitrate:null},138:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"4320p",bitrate:135e5,audioBitrate:null},139:{mimeType:'audio/mp4; codecs="aac"',qualityLabel:null,bitrate:null,audioBitrate:48},140:{mimeType:'audio/m4a; codecs="aac"',qualityLabel:null,bitrate:null,audioBitrate:128},141:{mimeType:'audio/mp4; codecs="aac"',qualityLabel:null,bitrate:null,audioBitrate:256},151:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"720p",bitrate:5e4,audioBitrate:24},160:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"144p",bitrate:1e5,audioBitrate:null},171:{mimeType:'audio/webm; codecs="vorbis"',qualityLabel:null,bitrate:null,audioBitrate:128},172:{mimeType:'audio/webm; codecs="vorbis"',qualityLabel:null,bitrate:null,audioBitrate:192},231:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"480p",bitrate:5e5,audioBitrate:null},232:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"720p",bitrate:8e5,audioBitrate:null},242:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"240p",bitrate:1e5,audioBitrate:null},243:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"360p",bitrate:25e4,audioBitrate:null},244:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"480p",bitrate:5e5,audioBitrate:null},247:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"720p",bitrate:7e5,audioBitrate:null},248:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"1080p",bitrate:15e5,audioBitrate:null},249:{mimeType:'audio/webm; codecs="opus"',qualityLabel:null,bitrate:null,audioBitrate:48},250:{mimeType:'audio/webm; codecs="opus"',qualityLabel:null,bitrate:null,audioBitrate:64},251:{mimeType:'audio/webm; codecs="opus"',qualityLabel:null,bitrate:null,audioBitrate:160},264:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"1440p",bitrate:4e6,audioBitrate:null},266:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"2160p",bitrate:125e5,audioBitrate:null},270:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"1080p",bitrate:25e5,audioBitrate:null},271:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"1440p",bitrate:9e6,audioBitrate:null},272:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"4320p",bitrate:2e7,audioBitrate:null},278:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"144p 30fps",bitrate:8e4,audioBitrate:null},298:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"720p",bitrate:3e6,audioBitrate:null},299:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"1080p",bitrate:55e5,audioBitrate:null},300:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"720p",bitrate:1318e3,audioBitrate:48},301:{mimeType:'video/ts; codecs="H.264, aac"',qualityLabel:"1080p",bitrate:3e6,audioBitrate:128},302:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"720p HFR",bitrate:25e5,audioBitrate:null},303:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"1080p HFR",bitrate:5e6,audioBitrate:null},308:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"1440p HFR",bitrate:1e7,audioBitrate:null},311:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"720p",bitrate:125e4,audioBitrate:null},312:{mimeType:'video/mp4; codecs="H.264"',qualityLabel:"1080p",bitrate:25e5,audioBitrate:null},313:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"2160p",bitrate:13e6,audioBitrate:null},315:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"2160p HFR",bitrate:2e7,audioBitrate:null},330:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"144p HDR, HFR",bitrate:8e4,audioBitrate:null},331:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"240p HDR, HFR",bitrate:1e5,audioBitrate:null},332:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"360p HDR, HFR",bitrate:25e4,audioBitrate:null},333:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"240p HDR, HFR",bitrate:5e5,audioBitrate:null},334:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"720p HDR, HFR",bitrate:1e6,audioBitrate:null},335:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"1080p HDR, HFR",bitrate:15e5,audioBitrate:null},336:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"1440p HDR, HFR",bitrate:5e6,audioBitrate:null},337:{mimeType:'video/webm; codecs="VP9"',qualityLabel:"2160p HDR, HFR",bitrate:12e6,audioBitrate:null}};Ns.FORMATS=iS});var Ps=x(ji=>{"use strict";var rS=ji&&ji.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ji,"__esModule",{value:!0});ji.FormatUtils=void 0;var nS=bb(),sS=rS(or()),aS=["mp4a","mp3","vorbis","aac","opus","flac"],oS=["mp4v","avc1","Sorenson H.283","MPEG-4 Visual","VP8","VP9","av01","H.264"];function mb(e,t){return e.findIndex(i=>t.codec.text&&t.codec.text.includes(i))}s(mb,"getEncodingRank");function gb(e){return e.bitrate||0}s(gb,"getVideoBitrate");function yb(e){return mb(oS,e)}s(yb,"getVideoEncodingRank");function _b(e){return e.audioBitrate||0}s(_b,"getAudioBitrate");function wb(e){return mb(aS,e)}s(wb,"getAudioEncodingRank");function Jl(e,t,i){let r=0;for(let n of i)if(r=n(t)-n(e),r!==0)break;return r}s(Jl,"sortFormatsBy");function uS(e){return parseInt(e.quality.label)||0}s(uS,"getQualityLabel");function zl(e,t){return Jl(e,t,[uS,gb,yb])}s(zl,"sortFormatsByVideo");function Xl(e,t){return Jl(e,t,[_b,wb])}s(Xl,"sortFormatsByAudio");function lS(e,t){let i=s(r=>t.find(n=>`${n.itag}`==`${r}`)||null,"getFormat");if(Array.isArray(e)){let r=e.find(n=>i(n));return r&&i(r)||null}else return i(e||"")||null}s(lS,"getFormatByQuality");var Zl=class Zl{static sortFormats(t,i){return Jl(t,i,[r=>+!!r.isHLS,r=>+!!r.isDashMPD,r=>+(parseInt(r.contentLength)>0),r=>+(r.hasVideo&&r.hasAudio),r=>+r.hasVideo,r=>parseInt(r.quality.label)||0,gb,_b,yb,wb])}static filterFormats(t,i){let r;switch(i){case"videoandaudio":case"audioandvideo":{r=s(n=>n.hasVideo&&n.hasAudio,"fn");break}case"video":{r=s(n=>n.hasVideo,"fn");break}case"videoonly":{r=s(n=>n.hasVideo&&!n.hasAudio,"fn");break}case"audio":{r=s(n=>n.hasAudio,"fn");break}case"audioonly":{r=s(n=>n.hasAudio&&!n.hasVideo,"fn");break}default:if(typeof i=="function")r=i;else throw new TypeError(`Given filter (${i}) is not supported`)}return t.filter(n=>!!n.url&&r(n))}static chooseFormat(t,i){if(typeof i.format=="object"){if(!i.format.url)throw new Error("Invalid format given, did you use `ytdl.getFullInfo()`?");return i.format}i.filter&&(t=this.filterFormats(t,i.filter)),i.excludingClients&&(t=t.filter(a=>{var o;return!((o=i.excludingClients)!=null&&o.includes(a.sourceClientName))})),i.includingClients&&i.includingClients!=="all"&&(t=t.filter(a=>{var o;return(o=i.includingClients)==null?void 0:o.includes(a.sourceClientName)})),t.some(a=>a.isHLS)&&(t=t.filter(a=>a.isHLS||!a.isLive));let r=i.quality||"highest",n;switch(r){case"highest":{n=t[0];break}case"lowest":{n=t[t.length-1];break}case"highestaudio":{t=this.filterFormats(t,"audio"),t.sort(Xl);let a=t[0];t=t.filter(u=>Xl(a,u)===0);let o=t.map(u=>parseInt(u.quality.label)||0).sort((u,l)=>u-l)[0];n=t.find(u=>(parseInt(u.quality.label)||0)===o);break}case"lowestaudio":{t=this.filterFormats(t,"audio"),t.sort(Xl),n=t[t.length-1];break}case"highestvideo":{t=this.filterFormats(t,"video"),t.sort(zl);let a=t[0];t=t.filter(u=>zl(a,u)===0);let o=t.map(u=>u.audioBitrate||0).sort((u,l)=>u-l)[0];n=t.find(u=>(u.audioBitrate||0)===o);break}case"lowestvideo":{t=this.filterFormats(t,"video"),t.sort(zl),n=t[t.length-1];break}default:{n=lS(r,t);break}}if(!n)throw new Error(`No such format found: ${r}`);return n}static getClientName(t){try{switch(new URL(t).searchParams.get("c")){case"WEB":return"web";case"MWEB":return"mweb";case"WEB_CREATOR":return"webCreator";case"WEB_EMBEDDED_PLAYER":return"webEmbedded";case"IOS":return"ios";case"ANDROID":return"android";case"TVHTML5_SIMPLY_EMBEDDED_PLAYER":return"tvEmbedded";default:return"unknown"}}catch{return"unknown"}}static addFormatMeta(t,i){var c;let r=t.itag,n=nS.FORMATS[r]||null,a=t.mimeType&&sS.default.between(t.mimeType,'codecs="','"'),o=/\/manifest\/hls_(variant|playlist)\//.test(t.url),u={itag:r,url:t.url,mimeType:t.mimeType||"video/mp4",codec:{text:a||"h264",video:null,audio:null},quality:{text:t.quality,label:t.qualityLabel||(o?"video":"audio")},bitrate:t.bitrate||(n==null?void 0:n.bitrate)||NaN,audioBitrate:(n==null?void 0:n.audioBitrate)||NaN,contentLength:t.contentLength,container:((c=t.mimeType)==null?void 0:c.split(";")[0].split("/")[1])||null,hasVideo:!!t.qualityLabel||!t.audioQuality,hasAudio:!!t.audioQuality,isLive:/\bsource[/=]yt_live_broadcast\b/.test(t.url),isHLS:o,isDashMPD:/\/manifest\/dash\//.test(t.url),sourceClientName:o?"ios":this.getClientName(t.url)||"unknown"},l=u.codec.text.split(", ");return i&&(u.originalData=t),u.codec.video=u.hasVideo?l[0]:null,u.codec.audio=u.hasAudio?l[1]||l[0]:null,u}};s(Zl,"FormatUtils");var Ql=Zl;ji.FormatUtils=Ql});var xb=x(fn=>{"use strict";var cS=fn&&fn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fn,"__esModule",{value:!0});fn.getFullInfo=yS;var fS=xl(),hS=Ie(),dS=cS(or()),vb=Ot(),Eb=Ps(),pS=Rl(),bS=Kl(),mS=As(),ec=hS.Platform.getShim().cache,tc=new fS.Signature;async function gS(e,t){var u;let i=(0,mS.getHtml5Player)(t),r=await(0,bS._getBasicInfo)(e,t,!0),n=[],a=await i;a.id&&a.body&&(tc.getDecipherFunctions(a.id,a.body),tc.getNTransform(a.id,a.body));try{let l=r.formats;n.push(tc.decipherFormats(l)),t.parsesHLSFormat&&((u=r._playerApiResponses)!=null&&u.ios)&&n.push(...pS.FormatParser.parseAdditionalManifests(r._playerApiResponses.ios,t))}catch{}let o=Object.values(Object.assign({},...await Promise.all(n)));return r.formats=o.map(l=>{var c;return Eb.FormatUtils.addFormatMeta(l,(c=t.includesOriginalFormatData)!=null?c:!1)}),r.formats.sort(Eb.FormatUtils.sortFormats),r.full=!0,t.includesPlayerAPIResponse||delete r._playerApiResponses,t.includesNextAPIResponse||delete r._nextApiResponses,r}s(gS,"_getFullInfo");async function yS(e,t){dS.default.checkForUpdates();let i=vb.Url.getVideoID(e)||(vb.Url.validateID(e)?e:null);if(!i)throw new Error("The URL specified is not a valid URL.");let r=["getFullInfo",i,t.hl,t.gl].join("-");if(await ec.has(r))return ec.get(r);let n=await gS(i,t);return ec.set(r,n,{ttl:60*30}),n}s(yS,"getFullInfo")});var ic=x(qt=>{"use strict";var _S=qt&&qt.__createBinding||(Object.create?function(e,t,i,r){r===void 0&&(r=i);var n=Object.getOwnPropertyDescriptor(t,i);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:s(function(){return t[i]},"get")}),Object.defineProperty(e,r,n)}:function(e,t,i,r){r===void 0&&(r=i),e[r]=t[i]}),Sb=qt&&qt.__exportStar||function(e,t){for(var i in e)i!=="default"&&!Object.prototype.hasOwnProperty.call(t,i)&&_S(t,e,i)};Object.defineProperty(qt,"__esModule",{value:!0});Sb(Kl(),qt);Sb(xb(),qt)});var Ib=x(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.streamToIterable=ks;hn.download=AS;hn.downloadFromInfo=TS;var Tb=jd(),wS=ic(),Ab=Ps(),Cb=Te(),rc=Ie(),vS=sr(),ES={method:"GET",headers:{accept:"*/*",origin:"https://www.youtube.com",referer:"https://www.youtube.com",DNT:"?1"},redirect:"follow"};async function xS(e){return new Promise(t=>{let i=s(n=>{n.status===200?(Cb.Logger.debug(`[ ${e.sourceClientName} ]: <success>Video URL is normal.</success> The response was received with status code <success>"${n.status}"</success>.`),t({valid:!0})):r(new Error(`Status code: ${n.status}`))},"successResponseHandler"),r=s(n=>{Cb.Logger.debug(`[ ${e.sourceClientName} ]: The URL for the video <error>did not return a successful response</error>. Got another format.
Reason: ${n.message}`),t({valid:!1,reason:n.message})},"errorResponseHandler");try{rc.Platform.getShim().fetcher(e.url,{method:"HEAD"}).then(n=>i(n),n=>r(n))}catch(n){r(n)}})}s(xS,"isDownloadUrlValid");function SS(e,t){return new Promise(async i=>{let r=["web"],n,a=!1;try{n=Ab.FormatUtils.chooseFormat(e,t)}catch(o){throw o}if(!n)throw new Error("Failed to retrieve format data.");for(;a===!1;){if(!n)throw new Error("Failed to retrieve format data.");let{valid:o,reason:u}=await xS(n);if(o)a=!0;else{n.sourceClientName!=="unknown"&&r.push(n.sourceClientName);try{n=Ab.FormatUtils.chooseFormat(e,{excludingClients:r,includingClients:u!=null&&u.includes("403")?["ios","android"]:"all",quality:t.quality,filter:t.filter})}catch(l){throw l}}}i(n)})}s(SS,"getValidDownloadUrl");async function*ks(e){let t=e.getReader();try{for(;;){let{done:i,value:r}=await t.read();if(i)return;yield r}}finally{t.releaseLock()}}s(ks,"streamToIterable");async function Ls(e,t){if(!e.formats.length)throw new Error("This video is not available due to lack of video format.");let i=typeof t.dlChunkSize=="number"?t.dlChunkSize:1024*1024*10,r=(t.filter==="audioandvideo"||t.filter==="videoandaudio")&&!t.range,n=Object.freeze(await SS(e.formats,t)),a={...ES},o=t.range?t.range.start:0,u=t.range&&t.range.end||i,l=!1,c,p=r?n.url:n.url+"&range="+o+"-"+u,g=n.sourceClientName==="ios"||n.sourceClientName==="android"?n.sourceClientName:n.sourceClientName.includes("tv")?"tv":"desktop";if(a.headers={...a.headers,"User-Agent":vS.UserAgent.getRandomUserAgent(g)},t.rewriteRequest){let{url:y,options:S}=t.rewriteRequest(p,a,{isDownloadUrl:!0});p=y,a=S}if(t.originalProxy)try{let y=new URL(t.originalProxy.download);p.includes(y.host)||(p=`${y.protocol}//${y.host}${y.pathname}?${t.originalProxy.urlQueryName||"url"}=${encodeURIComponent(p)}`)}catch{}if(r){let y=await rc.Platform.getShim().fetcher(p,a);if(!y.ok)throw new Error(`Download failed with status code <warning>"${y.status}"</warning>.`);let S=y.body;if(!S)throw new Error("Failed to retrieve response body.");return t.streamType==="nodejs"?Tb.Readable.from(ks(S)):S}let v=new ReadableStream({start(){},pull:s(async y=>{if(l){y.close();return}let S=n.contentLength?parseInt(n.contentLength):0;return(u>=S||t.range)&&(l=!0),new Promise(async(E,N)=>{try{c=new AbortController;let A=n.url+"&range="+o+"-"+u;if(t.rewriteRequest){let{url:R,options:j}=t.rewriteRequest(A,a,{isDownloadUrl:!0});A=R,a=j}if(t.originalProxy)try{let R=new URL(t.originalProxy.download);A.includes(R.host)||(A=`${R.protocol}//${R.host}${R.pathname}?${t.originalProxy.urlQueryName||"url"}=${encodeURIComponent(A)}`)}catch{}let M=await rc.Platform.getShim().fetcher(p,a);if(!M.ok)throw new Error(`Download failed with status code <warning>"${M.status}"</warning>.`);let k=M.body;if(!k)throw new Error("Failed to retrieve response body.");for await(let R of ks(k))y.enqueue(R);o=u+1,u+=i,E()}catch(A){N(A)}})},"pull"),async cancel(y){c.abort(y)}},{highWaterMark:t.highWaterMark||1024*512,size(y){return(y==null?void 0:y.byteLength)||0}});return t.streamType==="nodejs"?Tb.Readable.from(ks(v)):v}s(Ls,"downloadFromInfoCallback");async function TS(e,t){if(!e.full)throw new Error("Cannot use `ytdl.downloadFromInfo()` when called with info from `ytdl.getBasicInfo()`");return t.streamType==="nodejs"?await Ls(e,{...t,streamType:"nodejs"}):await Ls(e,{...t,streamType:"default"})}s(TS,"downloadFromInfo");function AS(e,t){return new Promise(i=>{(0,wS.getFullInfo)(e,t).then(r=>{t.streamType==="nodejs"?i(Ls(r,{...t,streamType:"nodejs"})):i(Ls(r,{...t,streamType:"default"}))}).catch(r=>{throw r})})}s(AS,"download")});var Rb=x(oi=>{"use strict";var CS=oi&&oi.__createBinding||(Object.create?function(e,t,i,r){r===void 0&&(r=i);var n=Object.getOwnPropertyDescriptor(t,i);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:s(function(){return t[i]},"get")}),Object.defineProperty(e,r,n)}:function(e,t,i,r){r===void 0&&(r=i),e[r]=t[i]}),IS=oi&&oi.__exportStar||function(e,t){for(var i in e)i!=="default"&&!Object.prototype.hasOwnProperty.call(t,i)&&CS(t,e,i)};Object.defineProperty(oi,"__esModule",{value:!0});IS(Ib(),oi)});var Lb=x(Bs=>{"use strict";Object.defineProperty(Bs,"__esModule",{value:!0});Bs.YtdlCore=void 0;var Os=Ie(),Nb=Rb(),Pb=ic(),RS=As(),nc=fu(),Ms=Ot(),kb=Ps(),NS=li(),xt=Te(),Ds=Os.Platform.getShim(),PS=Ds.cache,St=Ds.fileCache;function kS(e){return Ds.runtime==="browser"||Ds.runtime==="serverless"?!0:parseInt(e.replace("v","").split(".")[0])>=16}s(kS,"isNodeVersionOk");var sc=class sc{async setPoToken(t){let i=await St.get("poToken");t?this.poToken=t:i&&(xt.Logger.debug("PoToken loaded from cache."),this.poToken=i||void 0),St.set("poToken",this.poToken||"",{ttl:60*60*24})}async setVisitorData(t){let i=await St.get("visitorData");t?this.visitorData=t:i&&(xt.Logger.debug("VisitorData loaded from cache."),this.visitorData=i||void 0),St.set("visitorData",this.visitorData||"",{ttl:60*60*24})}async setOAuth2(t){let i=await St.get("oauth2")||void 0;try{t?this.oauth2=new nc.OAuth2(t)||void 0:i?this.oauth2=new nc.OAuth2(i):this.oauth2=null}catch{this.oauth2=null}}automaticallyGeneratePoToken(){if(!this.poToken&&!this.visitorData){xt.Logger.debug("Since PoToken and VisitorData are <warning>not specified</warning>, they are generated <info>automatically</info>.");let t=Os.Platform.getShim().poToken;t().then(({poToken:i,visitorData:r})=>{this.poToken=i,this.visitorData=r,St.set("poToken",this.poToken||"",{ttl:60*60*24}),St.set("visitorData",this.visitorData||"",{ttl:60*60*24})}).catch(()=>{})}}initializeHtml5PlayerCache(){St.get("html5Player")||(xt.Logger.debug("To speed up processing, html5Player and signatureTimestamp are pre-fetched and cached."),(0,RS.getHtml5Player)({}))}constructor({hl:t,gl:i,rewriteRequest:r,poToken:n,disablePoTokenAutoGeneration:a,visitorData:o,includesPlayerAPIResponse:u,includesNextAPIResponse:l,includesOriginalFormatData:c,includesRelatedVideo:p,clients:g,disableDefaultClients:v,oauth2Credentials:y,parsesHLSFormat:S,originalProxy:E,quality:N,filter:A,excludingClients:M,includingClients:k,range:R,begin:j,liveBuffer:J,highWaterMark:ue,IPv6Block:m,dlChunkSize:Q,streamType:te,disableBasicCache:W,disableFileCache:Ae,fetcher:ce,logDisplay:me,noUpdate:de}={}){this.hl="en",this.gl="US",this.disablePoTokenAutoGeneration=!1,this.includesPlayerAPIResponse=!1,this.includesNextAPIResponse=!1,this.includesOriginalFormatData=!1,this.includesRelatedVideo=!0,this.disableDefaultClients=!1,this.oauth2=null,this.parsesHLSFormat=!1,this.excludingClients=[],this.includingClients="all",this.streamType="default",this.version=NS.VERSION;let D=Os.Platform.getShim(),At=me||["info","success","warning","error"];if(D.options.other.logDisplay=At,xt.Logger.logDisplay=At,D.options.other.noUpdate=de!=null?de:!1,ce&&(D.fetcher=ce,D.requestRelated.originalProxy=E,D.requestRelated.rewriteRequest=r),W&&PS.disable(),Ae&&St.disable(),this.hl=t||"en",this.gl=i||"US",this.rewriteRequest=r||void 0,this.disablePoTokenAutoGeneration=a!=null?a:!1,this.includesPlayerAPIResponse=u!=null?u:!1,this.includesNextAPIResponse=l!=null?l:!1,this.includesOriginalFormatData=c!=null?c:!1,this.includesRelatedVideo=p!=null?p:!0,this.clients=g||void 0,this.disableDefaultClients=v!=null?v:!1,this.parsesHLSFormat=S!=null?S:!1,this.originalProxy=E||void 0,this.originalProxy&&(xt.Logger.debug(`<debug>"${this.originalProxy.base}"</debug> is used for <blue>API requests</blue>.`),xt.Logger.debug(`<debug>"${this.originalProxy.download}"</debug> is used for <blue>video downloads</blue>.`),xt.Logger.debug(`The query name <debug>"${this.originalProxy.urlQueryName||"url"}"</debug> is used to specify the URL in the request. <blue>(?url=...)</blue>`)),this.setPoToken(n),this.setVisitorData(o),this.setOAuth2(y||null),this.quality=N||void 0,this.filter=A||void 0,this.excludingClients=M||[],this.includingClients=k||"all",this.range=R||void 0,this.begin=j||void 0,this.liveBuffer=J||void 0,this.highWaterMark=ue||void 0,this.IPv6Block=m||void 0,this.dlChunkSize=Q||void 0,this.streamType=te||"default",this.disablePoTokenAutoGeneration||this.automaticallyGeneratePoToken(),this.initializeHtml5PlayerCache(),!kS(process.version))throw new Error(`You are using Node.js ${process.version} which is not supported. Minimum version required is v16.`);D.options.download={hl:this.hl,gl:this.gl,rewriteRequest:this.rewriteRequest,poToken:this.poToken,disablePoTokenAutoGeneration:this.disablePoTokenAutoGeneration,visitorData:this.visitorData,includesPlayerAPIResponse:this.includesPlayerAPIResponse,includesNextAPIResponse:this.includesNextAPIResponse,includesOriginalFormatData:this.includesOriginalFormatData,includesRelatedVideo:this.includesRelatedVideo,clients:this.clients,disableDefaultClients:this.disableDefaultClients,oauth2Credentials:y,parsesHLSFormat:this.parsesHLSFormat,originalProxy:this.originalProxy,quality:this.quality,filter:this.filter,excludingClients:this.excludingClients,includingClients:this.includingClients,range:this.range,begin:this.begin,liveBuffer:this.liveBuffer,highWaterMark:this.highWaterMark,IPv6Block:this.IPv6Block,dlChunkSize:this.dlChunkSize},Os.Platform.load(D)}initializeOptions(t){var r;let i={...t,oauth2:this.oauth2};return i.hl=t.hl||this.hl,i.gl=t.gl||this.gl,i.rewriteRequest=t.rewriteRequest||this.rewriteRequest,i.poToken=t.poToken||this.poToken,i.disablePoTokenAutoGeneration=t.disablePoTokenAutoGeneration||this.disablePoTokenAutoGeneration,i.visitorData=t.visitorData||this.visitorData,i.includesPlayerAPIResponse=t.includesPlayerAPIResponse||this.includesPlayerAPIResponse,i.includesNextAPIResponse=t.includesNextAPIResponse||this.includesNextAPIResponse,i.includesOriginalFormatData=t.includesOriginalFormatData||this.includesOriginalFormatData,i.includesRelatedVideo=t.includesRelatedVideo||this.includesRelatedVideo,i.clients=t.clients||this.clients,i.disableDefaultClients=t.disableDefaultClients||this.disableDefaultClients,i.oauth2Credentials=t.oauth2Credentials||((r=this.oauth2)==null?void 0:r.getCredentials()),i.parsesHLSFormat=t.parsesHLSFormat||this.parsesHLSFormat,i.originalProxy=t.originalProxy||this.originalProxy||void 0,i.quality=t.quality||this.quality||void 0,i.filter=t.filter||this.filter||void 0,i.excludingClients=t.excludingClients||this.excludingClients||[],i.includingClients=t.includingClients||this.includingClients||"all",i.range=t.range||this.range||void 0,i.begin=t.begin||this.begin||void 0,i.liveBuffer=t.liveBuffer||this.liveBuffer||void 0,i.highWaterMark=t.highWaterMark||this.highWaterMark||void 0,i.IPv6Block=t.IPv6Block||this.IPv6Block||void 0,i.dlChunkSize=t.dlChunkSize||this.dlChunkSize||void 0,i.streamType=t.streamType||this.streamType||"default",!i.oauth2&&t.oauth2Credentials&&(xt.Logger.warning("The OAuth2 token should be specified when instantiating the YtdlCore class, not as a function argument."),i.oauth2=new nc.OAuth2(t.oauth2Credentials)),i}download(t,i={}){return(0,Nb.download)(t,this.initializeOptions(i))}downloadFromInfo(t,i={}){return(0,Nb.downloadFromInfo)(t,this.initializeOptions(i))}getBasicInfo(t,i={}){return(0,Pb.getBasicInfo)(t,this.initializeOptions(i))}getFullInfo(t,i={}){return(0,Pb.getFullInfo)(t,this.initializeOptions(i))}};s(sc,"YtdlCore");var Tt=sc;Bs.YtdlCore=Tt;Tt.chooseFormat=kb.FormatUtils.chooseFormat;Tt.filterFormats=kb.FormatUtils.filterFormats;Tt.validateID=Ms.Url.validateID;Tt.validateURL=Ms.Url.validateURL;Tt.getURLVideoID=Ms.Url.getURLVideoID;Tt.getVideoID=Ms.Url.getVideoID});var Db=x(Ob=>{"use strict";Object.defineProperty(Ob,"__esModule",{value:!0})});var Bb=x(Mb=>{"use strict";Object.defineProperty(Mb,"__esModule",{value:!0})});var Ub=x(Fb=>{"use strict";Object.defineProperty(Fb,"__esModule",{value:!0})});var qb=x(Vb=>{"use strict";Object.defineProperty(Vb,"__esModule",{value:!0})});var Wb=x(jb=>{"use strict";Object.defineProperty(jb,"__esModule",{value:!0})});var Hb=x(je=>{"use strict";var LS=je&&je.__createBinding||(Object.create?function(e,t,i,r){r===void 0&&(r=i);var n=Object.getOwnPropertyDescriptor(t,i);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:s(function(){return t[i]},"get")}),Object.defineProperty(e,r,n)}:function(e,t,i,r){r===void 0&&(r=i),e[r]=t[i]}),dn=je&&je.__exportStar||function(e,t){for(var i in e)i!=="default"&&!Object.prototype.hasOwnProperty.call(t,i)&&LS(t,e,i)};Object.defineProperty(je,"__esModule",{value:!0});dn(Db(),je);dn(Bb(),je);dn(Ub(),je);dn(qb(),je);dn(Wb(),je)});var Gb=x($b=>{"use strict";Object.defineProperty($b,"__esModule",{value:!0})});var Kb=x(Yb=>{"use strict";Object.defineProperty(Yb,"__esModule",{value:!0})});var Xb=x(zb=>{"use strict";Object.defineProperty(zb,"__esModule",{value:!0})});var Jb=x(Qb=>{"use strict";Object.defineProperty(Qb,"__esModule",{value:!0})});var em=x(Zb=>{"use strict";Object.defineProperty(Zb,"__esModule",{value:!0})});var tm=x(Fe=>{"use strict";var OS=Fe&&Fe.__createBinding||(Object.create?function(e,t,i,r){r===void 0&&(r=i);var n=Object.getOwnPropertyDescriptor(t,i);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:s(function(){return t[i]},"get")}),Object.defineProperty(e,r,n)}:function(e,t,i,r){r===void 0&&(r=i),e[r]=t[i]}),Wi=Fe&&Fe.__exportStar||function(e,t){for(var i in e)i!=="default"&&!Object.prototype.hasOwnProperty.call(t,i)&&OS(t,e,i)};Object.defineProperty(Fe,"__esModule",{value:!0});Wi(Hb(),Fe);Wi(Gb(),Fe);Wi(Kb(),Fe);Wi(Xb(),Fe);Wi(Jb(),Fe);Wi(em(),Fe)});var FS=x(rt=>{var DS=rt&&rt.__createBinding||(Object.create?function(e,t,i,r){r===void 0&&(r=i);var n=Object.getOwnPropertyDescriptor(t,i);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:s(function(){return t[i]},"get")}),Object.defineProperty(e,r,n)}:function(e,t,i,r){r===void 0&&(r=i),e[r]=t[i]}),MS=rt&&rt.__exportStar||function(e,t){for(var i in e)i!=="default"&&!Object.prototype.hasOwnProperty.call(t,i)&&DS(t,e,i)};Object.defineProperty(rt,"__esModule",{value:!0});rt.YtdlCore=void 0;var BS=Ie(),ac=li(),oc=class oc{constructor(){this.isDisabled=!1}async getCache(){return await caches.open("ytdlCoreCache")}async get(t){if(this.isDisabled)return null;let r=await(await this.getCache()).match(t);return r?r.headers.get("Content-Type")==="application/json"?await r.json():await r.text():null}async set(t,i){if(this.isDisabled)return!0;let r=await this.getCache(),n;return typeof i=="object"?n=new Response(JSON.stringify(i),{headers:{"Content-Type":"application/json"}}):n=new Response(String(i),{headers:{"Content-Type":"text/plain"}}),await r.put(t,n),!0}async has(t){return this.isDisabled?!1:await(await this.getCache()).match(t)!==void 0}async delete(t){return this.isDisabled?!0:await(await this.getCache()).delete(t)}disable(){this.isDisabled=!0}initialization(){}};s(oc,"CacheWithCacheStorage");var Fs=oc;BS.Platform.load({runtime:"browser",server:!1,cache:new Fs,fileCache:new Fs,fetcher:s((e,t)=>fetch(e,t),"fetcher"),poToken:s(()=>new Promise(e=>{e({poToken:"",visitorData:""})}),"poToken"),options:{download:{hl:"en",gl:"US",includesPlayerAPIResponse:!1,includesNextAPIResponse:!1,includesOriginalFormatData:!1,includesRelatedVideo:!0,clients:["web","webCreator","tvEmbedded","ios","android"],disableDefaultClients:!1,disableFileCache:!1,parsesHLSFormat:!0},other:{logDisplay:["info","success","warning","error"],noUpdate:!1}},requestRelated:{rewriteRequest:s((e,t)=>({url:e,options:t}),"rewriteRequest"),originalProxy:null},info:{version:ac.VERSION,repoUrl:ac.REPO_URL,issuesUrl:ac.ISSUES_URL}});var im=Lb();Object.defineProperty(rt,"YtdlCore",{enumerable:!0,get:s(function(){return im.YtdlCore},"get")});MS(tm(),rt);rt.default=im.YtdlCore});export default FS();
/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

sax/lib/sax.js:
  (*! http://mths.be/fromcodepoint v0.1.0 by @mathias *)
*/
